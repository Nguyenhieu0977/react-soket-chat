{"version":3,"sources":["components/signup/SignupTypes.js","components/signup/SignupReducer.js","components/login/LoginTypes.js","components/login/LoginReducer.js","components/jitsi/JitsiTypes.js","components/jitsi/JisiReducer.js","components/calendar/CalendarTypes.js","components/calendar/CalendarReducer.js","components/users/UserTypes.js","components/users/UserReducer.js","components/users/ProfileReducer.js","components/users/ProfilesReducer.js","components/users/UnitsReducer.js","Reducer.js","utils/Utils.js","components/login/LoginActions.js","Root.js","components/signup/Signup.js","components/signup/SignupActions.js","components/login/Login.js","utils/RequireAuth.js","components/users/UserActions.js","components/common/Header.js","components/common/Footer.js","components/common/Menubar.js","components/calendar/CalendarActions.js","components/dashboard/CalendarToday.js","components/dashboard/UpdateProfile.js","components/dashboard/Dashboard.js","components/jitsi/JitsiActions.js","components/jitsi/JitsiMeetAdmin.js","components/jitsi/JitsiMeetClient.js","components/calendar/CalendarSeclectUser.js","components/users/UserAdd.js","components/calendar/CalendarAddRoom.js","components/calendar/CalendarSeclectUserEdit.js","components/calendar/CalendarEditRoom.js","components/calendar/CalendarListDetail.js","components/calendar/CalendarListItem.js","components/calendar/CalendarPagination.js","components/users/UserListItem.js","components/users/UserPagination.js","components/users/ProfileUpdate.js","components/users/Recursive.js","components/users/UserList.js","components/calendar/CalendarJitsi.js","components/calendar/ControlList.js","components/calendar/CalendarToday.js","components/calendar/CalendarList.js","components/calendar/CalendarMeet.js","components/users/UserCreate.js","App.js","index.js"],"names":["CREATE_USER_SUBMITTED","CREATE_USER_SUCCESS","CREATE_USER_ERROR","initialState","usernameError","passwordError","re_passwordError","isSubimtted","signupReducer","state","action","type","errorState","errorData","hasOwnProperty","SET_TOKEN","SET_CURRENT_USER","UNSET_CURRENT_USER","GET_PROFILEUSER_SUCCESS","isAuthenticated","user","profile","token","loginReducer","payload","TOGGLE_AUDIO_ALL","TOGGLE_AUDIO","TOGGLE_VIDEO_ALL","TOGGLE_FULL_ALL","SET_JITSI_STORE","GET_MEET_ROOM","jitsiState","stateAudioAll","stateVideoAll","stateFullAll","stateTileViewAll","stateAudio","stateCamera","stateChat","stateCameraMirror","stateTileView","stateFull","stateRaiseHand","stateFilmStrip","jitsiStrore","meetroom","jitsiReducer","GET_CALENDARS","ADD_CALENDAR","DELETE_CALENDAR","UPDATE_CALENDAR","DETAIL_CALENDAR","calendars","calendarId","CalendarReducer","filter","item","index","Id","updatedCalendar","map","GET_USERS_SUCCESS","GET_USERS_REQUEST","GET_USERS_ERROR","GET_PROFILES_SUCCESS","GET_PROFILES_REQUEST","GET_PROFILES_ERROR","UPDATE_PROFILES_SUCCESS","DELETE_PROFILE_SUCCESS","GET_PROFILE_SUCCESS","GET_PROFILE_REQUEST","UPDATE_PROFILE_SUCCESS","UPDATE_PROFILE_SUBMITTED","UPDATE_PROFILE_ERROR","DELETE_USER_SUCCESS","DELETE_USER_ERROR","GET_UNITS_SUCCESS","GET_UNITS_REQUEST","GET_UNITS_ERROR","CREATE_UNIT_SUBMITTED","CREATE_UNIT_SUCCESS","CREATE_UNIT_ERROR","RESETPASSWORD_SUCCESS","responseting","success","messege","data","userReducer","first_nameError","last_nameError","imageError","profileReducer","profilesReducer","updateProfile","p","id","unitsReducer","createRootReducer","history","combineReducers","router","connectRouter","createUser","auth","jitsi","users","profiles","units","setAxiosAuthToken","axios","defaults","headers","common","toastOnError","error","response","toast","JSON","stringify","message","isEmpty","value","undefined","Object","keys","length","trim","getCurrentUser","redirectTo","dispatch","get","then","username","groups","last_login","date_joined","email","first_name","last_name","is_active","is_staff","is_superuser","setCurrentUser","catch","unsetCurrentUser","localStorage","setItem","getProfileUser","console","log","push","setToken","removeItem","logout","post","children","createBrowserHistory","middleware","thunk","routerMiddleware","store","createStore","rootReducer","applyMiddleware","getItem","parse","Signup","props","onChange","e","setState","target","name","onSignupClick","userData","password","re_password","signupNewUser","Container","Row","Col","md","Form","Group","controlId","Label","Control","isInvalid","this","placeholder","FormControl","Feedback","Button","color","onClick","className","to","Component","connect","resposne","withRouter","useState","setUsername","setPassword","useDispatch","style","height","paddingTop","auth_token","login","requireAuth","AuthenticatedComponent","checkAuth","prevProps","prevState","redirectAfterLogin","location","pathname","React","getUsers","a","getProfiles","getProfile","patch","useSelector","passwordNew","setPasswordNew","passwordOld","setPasswordOld","useEffect","href","role","data-toggle","image","src","replace","alt","width","dataReset","resetPassword","new_password","current_password","event","preventDefault","Footer","position","minHeight","bottom","backgroundColor","paddingBottom","find","u","maxHeight","axact","activeStyle","data-icon1","data-icon2","getCalendar","CalendarToday","cal","status","setStatus","setStatusNum","classType","setClassType","datenow","Date","date3","StartTime","date4","EndTime","paddingLeft","paddingRight","maxWidth","title","disabled","User_control","uR","display","whiteSpace","overflow","textOverflow","Subject","moment","format","toString","User_vip","includes","v","EventType","eventType","String","User_room","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","palette","background","border","boxShadow","shadows","padding","spacing","root","margin","small","large","phone","setPhone","setFirst_name","setLast_name","setImage","imagePreviewUrl","setImagePreviewUrl","errorInput","setErrorInput","classes","modalStyle","body","marginLeft","files","reader","FileReader","onloadend","result","readAsDataURL","Avatar","fontSize","textAlign","marginTop","setStateEdit","form_data","FormData","append","stateEdit","sort","b","setValue","interval","setInterval","clearInterval","setTimeout","today","lengthCal","lengthCalNext","CalendarTodays","x","CalendarNexts","fontWeight","flex","overflowY","justifyContent","size","Modal","open","aria-labelledby","aria-describedby","getMeetRoom","roomId","useParams","user_auth","roomMeet","dataUser","fullname","setUsers","socketRef","useRef","api","_api","setApi","isAudioMuted","setIsAudioMuted","isAudioMutedAll","setIsAudioMutedAll","isVideoMuted","setIsVideoMuted","isTileView","setIsTileView","isFilmstrip","setIsFilmstrip","dominantSpeaker","setDominantSpeaker","jitsiUser","setJitsiUser","raiseHandNew","setRaiseHandNew","sharingParticipants","setSharingParticipants","numberOfParticipants","setNumberOfParticipants","participants","setParticipants","idLeave","setIdLeave","setAvailableDevices","loading","setLoading","useHistory","jitsiContainerStyle","handleClose","handleParticipantLeft","participant","handleParticipantJoined","getParticipants","getNumberOf","data2","handleVideoConferenceJoined","handleVideoConferenceLeft","handleMuteStatus","muted","handleVideoStatus","video","handleTileViewStatus","tileview","enabled","handleFilmstripDisplayChanged","filmstrip","visible","handleContentSharingParticipantsChanged","window","JitsiMeetExternalAPI","entries","options","roomName","configOverwrite","localRecording","fileRecordingsServiceEnabled","fileRecordingsEnabled","prejoinPageEnabled","interfaceConfigOverwrite","filmStripOnly","SHOW_JITSI_WATERMARK","SHOW_WATERMARK_FOR_GUESTS","DISABLE_DOMINANT_SPEAKER_INDICATOR","parentNode","document","querySelector","userInfo","displayName","addEventListener","object","addEventListeners","readyToClose","participantLeft","participantJoined","videoConferenceJoined","videoConferenceLeft","audioMuteStatusChanged","videoMuteStatusChanged","tileViewChanged","filmstripDisplayChanged","dominantSpeakerChanged","handleDominantSpeaker","raiseHandUpdated","handleRaiseHandUpdated","contentSharingParticipantsChanged","executeCommand","getAvailableDevices","devices","startMeet","speaker","raise","findIndex","rH","rHCopy","handRaised","Promise","resolve","reject","getParticipantsInfo","getNumberOfParticipants","current","socketIOClient","query","userId","jitsiUserId","on","isFullDestop","disconnect","audioClick","emit","videoClick","stopShareVideoClick","tileViewClick","participantView","participantId","sP","ps","rU","List_user_room","items","List_user_room_filter","marginRight","class","handleMuteEveryoneCamera","minWidth","Location","CalendarSelectUser","user_list","handleUserSelect","setSelected","values","leftHeader","rightHeader","isSearchable","searchFocusBorderColor","buttonBgColor","columnBgColor","columnBorderColor","headerBgColor","textColor","setEmail","setRe_password","setOpen","setSubject","EventTypes","setEventTypes","setStartTime","setEndTime","setLocation","user_control","setUser_control","user_vip","setUser_vip","Description","setDescription","userAdd","setUserAdd","addSuccess","setAddSuccess","label","rows","cols","resize","displayValue","onRemove","onSearch","onSelect","selectedList","selectedItem","data-name","calendar","Array","isArray","calendarAdd","cursor","onClose","CalendarSeclectUserEdit","userEdit","defaultValue","setUserEdit","setUpdateSuccess","updateData","setUpdateData","dataRooms","dataRoom","eventType2","detailCalendar","EventType1","userEdit2","userCtrEdit2","userVipEdit2","selectedItem2","selectedValues","calendarUpdate","url","updateCalendar","CalendarListDetail","handleEditCalendar","pageVisited","colSpan","CalendarListItem","isActive","isActive2","setIsSelected","idSelected","handleDelCalendar","setActiveIndex","CalendarPagination","pageCount","onPageChange","counts","aria-live","previousLabel","nextLabel","containerClassName","previousClassName","nextLinkClassName","disabledClassName","activeClassName","UserListItem","handleDelUser","handleEditUser","handleDel","UserPagination","setGroups","unit_id","setUnit_id","sort_id","setSort_id","setUser","groupsFix","handleChangePro","setOpen2","Recursive","uId","childitems","childitem","unit_name","useLocation","open2","idUser","setIdUser","unitId","setUnitId","pf","split","pageNumber","setPageNumber","parseInt","idnew","delete","deleteUser","deleteProfile","Math","ceil","List_User","slice","selectUnit","selected","useFullScreen","toggle","fullScreen","setRoom","jitsiStore","TILE_VIEW_MAX_COLUMNS","TOOLBAR_BUTTONS","alert","rules","ControlList","apiStore","setStateAudio","setStateCamera","stateShare","setStateShare","setStateChat","setStateCameraMirror","setStateTileView","setStateRaiseHand","setStateFilmStrip","fullDesktop","setFullDesktop","setAudio","statusNum","data-holder-rendered","CalendarList","handleUpdate","userSelected","setUserSelected","isSelected","setIdSelected","activeIndex","handleEdit","dataUserSelect","List_calendar","CalendarMeet","UserCreate","baseURL","App","hideProgressBar","newestOnTop","Root","path","component","Login","exact","Dashboard","JitsiMeetAdmin","JitsiMeetClient","CalendarAddRoom","CalendarEditRoom","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6625a3b1.chunk.js","sourcesContent":["// frontend/src/components/signup/SignupTypes.js\r\nexport const CREATE_USER_SUBMITTED = \"CREATE_USER_SUBMITTED\";\r\nexport const CREATE_USER_SUCCESS = \"CREATE_USER_SUCCESS\";\r\nexport const CREATE_USER_ERROR = \"CREATE_USER_ERROR\";\r\nexport const LIST_USERS = \"LIST_USERS\";","// frontend/src/components/SignupReducer.js\r\n\r\n// import needed actions\r\nimport {\r\n    CREATE_USER_ERROR,\r\n    CREATE_USER_SUBMITTED,\r\n    CREATE_USER_SUCCESS\r\n  } from \"./SignupTypes\";\r\n  \r\n  // define the initial state of the signup store\r\n  const initialState = {\r\n    usernameError: \"\",\r\n    passwordError: \"\",\r\n    re_passwordError: \"\",\r\n    isSubimtted: false\r\n  };\r\n  \r\n  // define how action will change the state of the store\r\n  export const signupReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n      case CREATE_USER_SUBMITTED:\r\n        return {\r\n          usernameError: \"\",\r\n          passwordError: \"\",\r\n          re_passwordError: \"\",\r\n          isSubimtted: true\r\n        };\r\n      case CREATE_USER_ERROR:\r\n        const errorState = {\r\n          usernameError: \"\",\r\n          passwordError: \"\",\r\n          re_passwordError: \"\",\r\n          isSubimtted: false\r\n        };\r\n        if (action.errorData.hasOwnProperty(\"username\")) {\r\n          errorState.usernameError = action.errorData[\"username\"];\r\n        }\r\n        if (action.errorData.hasOwnProperty(\"password\")) {\r\n          errorState.passwordError = action.errorData[\"password\"];\r\n        }\r\n        if (action.errorData.hasOwnProperty(\"re_password\")) {\r\n          errorState.re_passwordError = action.errorData[\"re_password\"];\r\n        }\r\n        return errorState;\r\n      case CREATE_USER_SUCCESS:\r\n        return {\r\n          usernameError: \"\",\r\n          passwordError: \"\",\r\n          re_passwordError: \"\",\r\n          isSubimtted: false\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  }","// frontend/src/components/login/LoginTypes.js\r\nexport const SET_TOKEN = \"SET_TOKEN\";\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";\r\nexport const UNSET_CURRENT_USER = \"UNSET_CURRENT_USER\";\r\nexport const GET_PROFILEUSER_SUCCESS = \"GET_PROFILEUSER_SUCCESS\";","// frontend/src/components/login/LoginReducer.js file\r\n\r\nimport { SET_TOKEN, SET_CURRENT_USER, UNSET_CURRENT_USER, GET_PROFILEUSER_SUCCESS } from \"./LoginTypes\";\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  user: {},\r\n  profile: {},\r\n  token: \"\"\r\n};\r\n\r\nexport const loginReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_TOKEN:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        token: action.payload\r\n      };\r\n    case SET_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        user: action.payload\r\n      };\r\n    case GET_PROFILEUSER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        profile: action.payload\r\n      };\r\n    case UNSET_CURRENT_USER:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};","export const TOGGLE_AUDIO_ALL = \"TOGGLE_AUDIO_ALL\";\r\nexport const TOGGLE_AUDIO = \"TOGGLE_AUDIO\";\r\nexport const TOGGLE_VIDEO_ALL = \"TOGGLE_VIDEO_ALL\";\r\nexport const TOGGLE_FULL_ALL = \"TOGGLE_FULL_ALL\";\r\nexport const SET_JITSI_STORE = \"SET_JITSI_STORE\";\r\nexport const GET_MEET_ROOM = \"GET_MEET_ROOM\";\r\n\r\n","import moment from 'moment';\r\n\r\nimport { TOGGLE_AUDIO_ALL, TOGGLE_AUDIO, SET_JITSI_STORE, TOGGLE_VIDEO_ALL, TOGGLE_FULL_ALL, GET_MEET_ROOM } from \"./JitsiTypes\";\r\n\r\nconst initialState = {\r\n  jitsiState: {\r\n    stateAudioAll: false,\r\n    stateVideoAll: false,\r\n    stateFullAll: false,\r\n    stateTileViewAll: false,\r\n    stateAudio: false,\r\n    stateCamera: false,\r\n    stateChat: false,\r\n    stateCameraMirror: false,\r\n    stateTileView: false,\r\n    stateFull: false,\r\n    stateRaiseHand: false,\r\n    stateFilmStrip: false,\r\n  },\r\n  jitsiStrore: {},\r\n  meetroom: {}\r\n};\r\n\r\nexport const jitsiReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_JITSI_STORE:\r\n      // console.log(action.payload)\r\n      return {\r\n        ...state,\r\n        jitsiStrore: action.payload\r\n      };\r\n    case TOGGLE_AUDIO_ALL:\r\n      // console.log(action.payload)\r\n      return {\r\n        ...state,\r\n        stateAudioAll: action.payload\r\n      };\r\n    case TOGGLE_AUDIO:\r\n      // console.log(action.payload)\r\n      return {\r\n        ...state,\r\n        stateAudio: action.payload\r\n      };\r\n\r\n    case TOGGLE_VIDEO_ALL:\r\n      // console.log(action.payload)\r\n      return {\r\n        ...state,\r\n        stateVideoAll: action.payload\r\n      };\r\n    case TOGGLE_FULL_ALL:\r\n      // console.log(action.payload)\r\n      return {\r\n        ...state,\r\n        stateFullAll: action.payload\r\n      };\r\n      case GET_MEET_ROOM:\r\n        return {\r\n          ...state,\r\n          meetroom: action.payload\r\n        }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\n","export const GET_CALENDARS = \"GET_CALENDARS\";\r\nexport const ADD_CALENDAR = \"ADD_CALENDAR\";\r\nexport const DELETE_CALENDAR = \"DELETE_CALENDAR\"; \r\nexport const UPDATE_CALENDAR = \"UPDATE_CALENDAR\"; \r\nexport const DETAIL_CALENDAR = \"DETAIL_CALENDAR\"; \r\n","// frontend/src/components/notes/NotesReducer.js\r\n\r\nimport { GET_CALENDARS, DETAIL_CALENDAR, ADD_CALENDAR, DELETE_CALENDAR, UPDATE_CALENDAR } from \"./CalendarTypes\";\r\n\r\nconst initialState = {\r\n  calendars : [],\r\n  calendarId : null\r\n};\r\n\r\nexport const CalendarReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_CALENDARS:\r\n      return {\r\n        ...state,\r\n        calendars: action.payload\r\n      };\r\n    case DETAIL_CALENDAR:\r\n      return {\r\n        ...state,\r\n        calendarId: action.payload\r\n      };\r\n\r\n    case ADD_CALENDAR:\r\n      return {\r\n        ...state,\r\n        calendars: [...state.calendars, action.payload]\r\n      };\r\n    case DELETE_CALENDAR:\r\n      return {\r\n        ...state,\r\n        calendars: state.calendars.filter((item, index) => item.Id !== action.payload)\r\n      };\r\n    case UPDATE_CALENDAR:\r\n      const updatedCalendar = state.calendars.map(item => {\r\n        if (item.Id === action.payload.Id) {\r\n          return { ...item, ...action.payload };\r\n        }\r\n        return item;\r\n      });\r\n      return {\r\n        ...state,\r\n        calendars: updatedCalendar\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","// frontend/src/components/signup/SignupTypes.js\r\nexport const CREATE_USER_SUBMITTED = \"CREATE_USER_SUBMITTED\";\r\nexport const CREATE_USER_SUCCESS = \"CREATE_USER_SUCCESS\";\r\nexport const CREATE_USER_ERROR = \"CREATE_USER_ERROR\";\r\n\r\nexport const GET_USERS_SUCCESS = \"GET_USERS_SUCCESS\";\r\nexport const GET_USERS_REQUEST = \"GET_USERS_REQUEST\";\r\nexport const GET_USERS_ERROR = \"GET_USERS_ERROR\";\r\n\r\nexport const CREATE_PROFILE_SUBMITTED = \"CREATE_PROFILE_SUBMITTED\";\r\nexport const CREATE_PROFILE_SUCCESS = \"CREATE_PROFILE_SUCCESS\";\r\nexport const CREATE_PROFILE_ERROR = \"CREATE_PROFILE_ERROR\";\r\n\r\nexport const GET_PROFILES_SUCCESS = \"GET_PROFILES_SUCCESS\";\r\nexport const GET_PROFILES_REQUEST = \"GET_PROFILES_REQUEST\";\r\nexport const GET_PROFILES_ERROR = \"GET_PROFILES_ERROR\";\r\nexport const UPDATE_PROFILES_SUCCESS = \"UPDATE_PROFILES_SUCCESS\";\r\nexport const DELETE_PROFILE_SUCCESS = \"DELETE_PROFILE_SUCCESS\";\r\n\r\nexport const GET_PROFILE_UNIT_SUCCESS = \"GET_PROFILE_UNIT_SUCCESS\";\r\nexport const GET_PROFILE_UNIT_ERROR = \"GET_PROFILE_UNIT_ERROR\";\r\n\r\n\r\nexport const GET_PROFILE_SUCCESS = \"GET_PROFILE_SUCCESS\";\r\nexport const GET_PROFILE_REQUEST = \"GET_PROFILE_REQUEST\";\r\nexport const GET_PROFILE_ERROR = \"GET_PROFILE_ERROR\";\r\n\r\nexport const UPDATE_PROFILE_SUCCESS = \"UPDATE_PROFILE_SUCCESS\";\r\nexport const UPDATE_PROFILE_SUBMITTED = \"UPDATE_PROFILE_SUBMITTED\";\r\nexport const UPDATE_PROFILE_ERROR = \"UPDATE_PROFILE_ERROR\";\r\n\r\nexport const UPDATE_USER_ERROR = \"UPDATE_USER_ERROR\";\r\nexport const UPDATE_USER_SUBMITTED = \"UPDATE_USER_SUBMITTED\";\r\nexport const UPDATE_USER_SUCCESS = \"UPDATE_USER_SUCCESS\";\r\n\r\nexport const DELETE_USER_SUCCESS = \"DELETE_USER_SUCCESS\";\r\nexport const DELETE_USER_ERROR = \"DELETE_USER_ERROR\";\r\n\r\n\r\nexport const GET_UNITS_SUCCESS = \"GET_UNITS_SUCCESS\";\r\nexport const GET_UNITS_REQUEST = \"GET_UNITS_REQUEST\";\r\nexport const GET_UNITS_ERROR = \"GET_UNITS_ERROR\";\r\n\r\nexport const CREATE_UNIT_SUBMITTED = \"CREATE_UNIT_SUBMITTED\";\r\nexport const CREATE_UNIT_SUCCESS = \"CREATE_UNIT_SUCCESS\";\r\nexport const CREATE_UNIT_ERROR = \"CREATE_UNIT_ERROR\";\r\nexport const RESETPASSWORD_SUCCESS = \"RESETPASSWORD_SUCCESS\";\r\n\r\n","// frontend/src/components/SignupReducer.js\r\n\r\n// import needed actions\r\nimport {\r\n  CREATE_USER_ERROR,\r\n  CREATE_USER_SUBMITTED,\r\n  CREATE_USER_SUCCESS,\r\n  DELETE_USER_SUCCESS,\r\n  DELETE_USER_ERROR,\r\n  GET_USERS_REQUEST,\r\n  GET_USERS_SUCCESS,\r\n  GET_USERS_ERROR,\r\n  RESETPASSWORD_SUCCESS,\r\n} from \"./UserTypes\";\r\n\r\n// define the initial state of the signup store\r\nconst initialState = {\r\n  responseting: false,\r\n  success: false,\r\n  messege: null,\r\n  data: [],\r\n  usernameError: \"\",\r\n  passwordError: \"\",\r\n  re_passwordError: \"\",\r\n  isSubimtted: false\r\n};\r\n\r\n// define how action will change the state of the store\r\nexport const userReducer = (state = initialState, action) => {\r\n  // eslint-disable-next-line default-case\r\n  switch (action.type) {\r\n    case GET_USERS_REQUEST:\r\n      return {\r\n        ...state,\r\n        responseting: true,\r\n      };\r\n    case GET_USERS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        responseting: false,\r\n        success: true,\r\n        data: action.payload\r\n      };\r\n    case GET_USERS_ERROR:\r\n      return {\r\n        ...state,\r\n        responseting: false,\r\n        success: false,\r\n        messege: action.payload\r\n      };\r\n      case DELETE_USER_SUCCESS:\r\n        return {\r\n          ...state,\r\n          responseting: false,\r\n          success: true,\r\n          data: action.payload\r\n        };\r\n      case DELETE_USER_ERROR:\r\n        return {\r\n          ...state,\r\n          responseting: false,\r\n          success: false,\r\n          messege: action.payload\r\n        };\r\n    case CREATE_USER_SUBMITTED:\r\n      return {\r\n        usernameError: \"\",\r\n        passwordError: \"\",\r\n        re_passwordError: \"\",\r\n        isSubimtted: true\r\n      };\r\n    case CREATE_USER_ERROR:\r\n      const errorState = {\r\n        usernameError: \"\",\r\n        passwordError: \"\",\r\n        re_passwordError: \"\",\r\n        isSubimtted: false\r\n      };\r\n      if (action.errorData.hasOwnProperty(\"username\")) {\r\n        errorState.usernameError = action.errorData[\"username\"];\r\n      }\r\n      if (action.errorData.hasOwnProperty(\"password\")) {\r\n        errorState.passwordError = action.errorData[\"password\"];\r\n      }\r\n      if (action.errorData.hasOwnProperty(\"re_password\")) {\r\n        errorState.re_passwordError = action.errorData[\"re_password\"];\r\n      }\r\n      return errorState;\r\n    case CREATE_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n        usernameError: \"\",\r\n        passwordError: \"\",\r\n        re_passwordError: \"\",\r\n        isSubimtted: false\r\n      };\r\n      case RESETPASSWORD_SUCCESS:\r\n        return {\r\n          ...state,\r\n          responseting: true,\r\n        };\r\n    default:\r\n      return state;\r\n\r\n  }\r\n}","// frontend/src/components/SignupReducer.js\r\n\r\n// import needed actions\r\nimport {\r\n  CREATE_PROFILE_ERROR,\r\n  CREATE_PROFILE_SUBMITTED,\r\n  UPDATE_PROFILE_SUCCESS,\r\n  UPDATE_PROFILE_SUBMITTED,\r\n  UPDATE_PROFILE_ERROR,\r\n  GET_PROFILE_SUCCESS,\r\n  GET_PROFILE_REQUEST,\r\n  GET_PROFILE_ERROR,\r\n} from \"./UserTypes\";\r\n\r\n// define the initial state of the signup store\r\nconst initialState = {\r\n  responseting: false,\r\n  success: false,\r\n  messege: null,\r\n  data: [],\r\n  first_nameError: \"\",\r\n  last_nameError: \"\",\r\n  imageError: \"\",\r\n  isSubimtted: false\r\n};\r\n\r\n// define how action will change the state of the store\r\nexport const profileReducer = (state = initialState, action) => {\r\n  // eslint-disable-next-line default-case\r\n  switch (action.type) {\r\n    case GET_PROFILE_REQUEST:\r\n      return {\r\n        ...state,\r\n        responseting: true,\r\n      };\r\n    case GET_PROFILE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        responseting: false,\r\n        success: true,\r\n        data: action.payload\r\n      };\r\n    case UPDATE_PROFILE_SUBMITTED:\r\n      return {\r\n        first_nameError: \"\",\r\n        last_nameError: \"\",\r\n        imageError: \"\",\r\n        isSubimtted: true\r\n      };\r\n    case UPDATE_PROFILE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n        responseting: false,\r\n        success: false,\r\n        messege: action.payload\r\n      };\r\n\r\n    case UPDATE_PROFILE_ERROR:\r\n      const errorState = {\r\n        first_nameError: \"\",\r\n        last_nameError: \"\",\r\n        imageError: \"\",\r\n        isSubimtted: false\r\n      };\r\n      if (action.errorData.hasOwnProperty(\"first_name\")) {\r\n        errorState.first_nameError = action.errorData[\"first_name\"];\r\n      }\r\n      if (action.errorData.hasOwnProperty(\"last_name\")) {\r\n        errorState.last_nameError = action.errorData[\"last_name\"];\r\n      }\r\n      if (action.errorData.hasOwnProperty(\"iamge\")) {\r\n        errorState.imageError = action.errorData[\"image\"];\r\n      }\r\n      return errorState;\r\n    default:\r\n      return state;\r\n\r\n  }\r\n}","// frontend/src/components/SignupReducer.js\r\n\r\n// import needed actions\r\nimport {\r\n  GET_PROFILES_SUCCESS,\r\n  GET_PROFILES_REQUEST,\r\n  UPDATE_PROFILES_SUCCESS,\r\n  DELETE_PROFILE_SUCCESS,\r\n} from \"./UserTypes\";\r\n\r\n// define the initial state of the signup store\r\nconst initialState = {\r\n  responseting: false,\r\n  success: false,\r\n  messege: null,\r\n  data: [],\r\n  isSubimtted: false\r\n};\r\n\r\n// define how action will change the state of the store\r\nexport const profilesReducer = (state = initialState, action) => {\r\n  // eslint-disable-next-line default-case\r\n  switch (action.type) {\r\n    case GET_PROFILES_SUCCESS:\r\n      return {\r\n        ...state,\r\n        responseting: false,\r\n        success: true,\r\n        data: action.payload\r\n      };\r\n    case UPDATE_PROFILES_SUCCESS:\r\n      const updateProfile = state.data.map(p=>{\r\n        if(action.payload.id === p.id){\r\n          return { ...p, ...action.payload };\r\n        }\r\n        return p\r\n      })\r\n      return {\r\n        ...state,\r\n        data: updateProfile\r\n      };\r\n      case DELETE_PROFILE_SUCCESS:\r\n        return {\r\n          ...state,\r\n          data: state.data.filter(p => p.id !== action.payload)\r\n        };\r\n      \r\n     \r\n    default:\r\n      return state;\r\n\r\n  }\r\n}\r\n","// frontend/src/components/SignupReducer.js\r\n\r\n// import needed actions\r\nimport {\r\n  CREATE_UNIT_ERROR,\r\n  CREATE_UNIT_SUBMITTED,\r\n  CREATE_UNIT_SUCCESS,\r\n  GET_UNITS_REQUEST,\r\n  GET_UNITS_SUCCESS,\r\n  GET_UNITS_ERROR,\r\n} from \"./UserTypes\";\r\n\r\n// define the initial state of the signup store\r\nconst initialState = {\r\n  responseting: false,\r\n  success: false,\r\n  messege: null,\r\n  data: [],\r\n  isSubimtted: false\r\n};\r\n\r\n// define how action will change the state of the store\r\nexport const unitsReducer = (state = initialState, action) => {\r\n  // eslint-disable-next-line default-case\r\n  switch (action.type) {\r\n    case GET_UNITS_REQUEST:\r\n      return {\r\n        ...state,\r\n        responseting: true,\r\n      };\r\n    case GET_UNITS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        responseting: false,\r\n        success: true,\r\n        data: action.payload\r\n      };\r\n    case GET_UNITS_ERROR:\r\n      return {\r\n        ...state,\r\n        responseting: false,\r\n        success: false,\r\n        messege: action.payload\r\n      };\r\n    case CREATE_UNIT_SUBMITTED:\r\n      return {\r\n        isSubimtted: true\r\n      };\r\n    case CREATE_UNIT_ERROR:\r\n      const errorState = {\r\n        isSubimtted: false\r\n      };\r\n      \r\n    case CREATE_UNIT_SUCCESS:\r\n      return {\r\n        isSubimtted: false\r\n      };\r\n     \r\n    default:\r\n      return state;\r\n\r\n  }\r\n}","// frontend/Reducer.js\r\n\r\nimport { combineReducers } from \"redux\";\r\nimport { connectRouter } from \"connected-react-router\";\r\nimport { signupReducer } from \"./components/signup/SignupReducer\";\r\nimport { loginReducer } from \"./components/login/LoginReducer\";\r\nimport { jitsiReducer } from \"./components/jitsi/JisiReducer\"\r\nimport { CalendarReducer } from \"./components/calendar/CalendarReducer\";\r\nimport { userReducer } from \"./components/users/UserReducer\"\r\nimport { profileReducer } from \"./components/users/ProfileReducer\"\r\nimport { profilesReducer } from \"./components/users/ProfilesReducer\"\r\nimport { unitsReducer } from \"./components/users/UnitsReducer\"\r\n\r\nconst createRootReducer = history =>\r\n  combineReducers({\r\n    router: connectRouter(history),\r\n    createUser: signupReducer,\r\n    auth: loginReducer,\r\n    jitsi: jitsiReducer,\r\n    calendars: CalendarReducer,\r\n    users: userReducer,\r\n    profiles: profilesReducer,\r\n    profile: profileReducer,\r\n    units: unitsReducer,\r\n  });\r\n\r\nexport default createRootReducer;","// please add utils directory in frontend/src\r\n// and the file frontend/src/utils/Utils.js\r\n\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport const setAxiosAuthToken = token => {\r\n  if (typeof token !== \"undefined\" && token) {\r\n    // Apply for every request\r\n    axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\r\n  } else {\r\n    // Delete auth header\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n};\r\n\r\nexport const toastOnError = error => {\r\n  if (error.response) {\r\n    // known error\r\n    toast.error(JSON.stringify(error.response.data));\r\n  } else if (error.message) {\r\n    toast.error(JSON.stringify(error.message));\r\n  } else {\r\n    toast.error(JSON.stringify(error));\r\n  }\r\n};\r\n\r\nexport const isEmpty = value =>\r\n  value === undefined ||\r\n  value === null ||\r\n  (typeof value === \"object\" && Object.keys(value).length === 0) ||\r\n  (typeof value === \"string\" && value.trim().length === 0);\r\n\r\n","// frontend/src/components/login/LoginActions.js\r\n\r\nimport axios from \"axios\";\r\nimport { push } from \"connected-react-router\";\r\nimport { toast } from \"react-toastify\";\r\nimport { SET_TOKEN, SET_CURRENT_USER, UNSET_CURRENT_USER, GET_PROFILEUSER_SUCCESS } from \"./LoginTypes\";\r\nimport { setAxiosAuthToken, toastOnError } from \"../../utils/Utils\";\r\n\r\nexport const login = (userData, redirectTo) => dispatch => {\r\n    axios\r\n        .post(\"/api/v1/token/login/\", userData)\r\n        .then(response => {\r\n            const { auth_token } = response.data;\r\n            setAxiosAuthToken(auth_token);\r\n            dispatch(setToken(auth_token));\r\n            dispatch(getCurrentUser(redirectTo));\r\n            \r\n        })\r\n        .catch(error => {\r\n            dispatch(unsetCurrentUser());\r\n            toastOnError('Tn ng nhp hoc mt khu khng ng');\r\n        });\r\n};\r\n\r\nexport const getCurrentUser = redirectTo => dispatch => {\r\n    axios\r\n        .get(\"/api/v1/users/me/\")\r\n        .then(response => {\r\n            const user = {\r\n                id: response.data.id,\r\n                username: response.data.username,\r\n                groups: response.data.groups,\r\n                last_login: response.data.last_login,\r\n                date_joined: response.data.date_joined,\r\n                email: response.data.email,\r\n                first_name: response.data.first_name,\r\n                last_name: response.data.last_name,\r\n                is_active: response.data.is_active,\r\n                is_staff: response.data.is_staff,\r\n                is_superuser: response.data.is_superuser,\r\n            };\r\n            dispatch(setCurrentUser(user, redirectTo));\r\n        })\r\n        .catch(error => {\r\n            dispatch(unsetCurrentUser());\r\n            toastOnError(error);\r\n        });\r\n};\r\n\r\nexport const setCurrentUser = (user, redirectTo) => dispatch => {\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n    dispatch({\r\n        type: SET_CURRENT_USER,\r\n        payload: user\r\n    });\r\n    dispatch(getProfileUser(user.id));\r\n\r\n    console.log(\"set user\" + redirectTo);\r\n    if (redirectTo !== \"\") {\r\n        dispatch(push(redirectTo));\r\n    }\r\n};\r\n\r\nexport const getProfileUser = (id) => dispatch => {\r\n    try {\r\n      axios\r\n        .get(`/api/v1/profile_user/${id}/`)\r\n        .then(response => {\r\n          dispatch({\r\n            type: GET_PROFILEUSER_SUCCESS,\r\n            payload: response.data\r\n          });\r\n        })\r\n  \r\n    } catch (error) {\r\n        toastOnError(error);\r\n    }\r\n  \r\n  };\r\n\r\n\r\nexport const setToken = token => dispatch => {\r\n    setAxiosAuthToken(token);\r\n    localStorage.setItem(\"token\", token);\r\n    dispatch({\r\n        type: SET_TOKEN,\r\n        payload: token\r\n    });\r\n};\r\n\r\nexport const unsetCurrentUser = () => dispatch => {\r\n    setAxiosAuthToken(\"\");\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"user\");\r\n    dispatch({\r\n        type: UNSET_CURRENT_USER\r\n    });\r\n};\r\n\r\nexport const logout = () => dispatch => {\r\n    axios\r\n        .post(\"/api/v1/token/logout/\")\r\n        .then(response => {\r\n            dispatch(unsetCurrentUser());\r\n            dispatch(push(\"/\"));\r\n            toast.success(\"ng xut thnh cng.\");\r\n        })\r\n        .catch(error => {\r\n            dispatch(unsetCurrentUser());\r\n            toastOnError(error);\r\n        });\r\n};\r\n\r\n\r\n","import React from \"react\";\r\nimport thunk from \"redux-thunk\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createBrowserHistory } from \"history\";\r\nimport { applyMiddleware, createStore } from \"redux\";\r\nimport { routerMiddleware, ConnectedRouter } from \"connected-react-router\";\r\n// import { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport rootReducer from \"./Reducer\";\r\nimport { setCurrentUser, setToken } from \"./components/login/LoginActions\"; // new imports\r\nimport { isEmpty } from \"./utils/Utils\"; // new imports\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default ({ children, initialState = {} }) => {\r\n  const history = createBrowserHistory();\r\n  const middleware = [thunk, routerMiddleware(history)];\r\n\r\n  // const store = createStore(rootReducer(history), composeWithDevTools(\r\n  //   initialState,\r\n  //   applyMiddleware(...middleware),\r\n\r\n  //   // other store enhancers if any\r\n  // ));\r\n\r\n  const store = createStore(\r\n    rootReducer(history),\r\n    initialState,\r\n    applyMiddleware(...middleware),\r\n    // + window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n  );\r\n\r\n  // check localStorage\r\n  if (!isEmpty(localStorage.getItem(\"token\"))) {\r\n    store.dispatch(setToken(localStorage.getItem(\"token\")));\r\n  }\r\n  if (!isEmpty(localStorage.getItem(\"user\"))) {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    store.dispatch(setCurrentUser(user, \"\"));\r\n  }\r\n\r\n  return (\r\n    <Provider store={store}>\r\n      <ConnectedRouter history={history}>{children}</ConnectedRouter>\r\n    </Provider>\r\n  );\r\n};","// frontend/src/components/signup/Signup.js file\r\n\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\"; // new import\r\nimport { connect } from \"react-redux\"; // new import\r\nimport PropTypes from \"prop-types\"; // new import\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  Form,\r\n  FormControl\r\n} from \"react-bootstrap\";\r\n\r\nimport { signupNewUser } from \"./SignupActions\"; // new import\r\n\r\nclass Signup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      re_password: \"\"\r\n    };\r\n  }\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // update function to call the action\r\n  onSignupClick = () => {\r\n    const userData = {\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n      re_password: this.state.re_password\r\n    };\r\n    this.props.signupNewUser(userData); // <-- signup new user request\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Row>\r\n          <Col md=\"4\">\r\n            <h1>Sign up</h1>\r\n            <Form>\r\n              <Form.Group controlId=\"usernameId\">\r\n                <Form.Label>Nhp tn ng nhp</Form.Label>\r\n                <Form.Control\r\n                  isInvalid={this.props.createUser.usernameError}\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  placeholder=\"Nhp tn ng nhp\"\r\n                  value={this.state.username}\r\n                  onChange={this.onChange}\r\n                />\r\n                <FormControl.Feedback type=\"invalid\">\r\n                  {this.props.createUser.usernameError}\r\n                </FormControl.Feedback>\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"passwordId\">\r\n                <Form.Label>Nhp mt khu</Form.Label>\r\n                <Form.Control\r\n                  isInvalid={this.props.createUser.passwordError}\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"Nhp mt khu\"\r\n                  value={this.password}\r\n                  onChange={this.onChange}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {this.props.createUser.passwordError}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n              <Form.Group controlId=\"re_passwordId\">\r\n                <Form.Label>Nhp li mt khu:</Form.Label>\r\n                <Form.Control\r\n                  isInvalid={this.props.createUser.re_passwordError}\r\n                  type=\"password\"\r\n                  name=\"re_password\"\r\n                  placeholder=\"Nhp li mt khu\"\r\n                  value={this.re_password}\r\n                  onChange={this.onChange}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {this.props.createUser.re_passwordError}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n            </Form>\r\n            <Button color=\"primary\" onClick={this.onSignupClick}>\r\n              Sign up\r\n            </Button>\r\n            <p className=\"mt-2\">\r\n              Already have account? <Link to=\"/login\">Login</Link>\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n// connect action and reducer\r\n// replace \r\n// export default Signup;\r\n// with code below:\r\n\r\nSignup.propTypes = {\r\n  signupNewUser: PropTypes.func.isRequired,\r\n  createUser: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  createUser: state.createUser\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  signupNewUser\r\n})(withRouter(Signup));","// frontend/src/components/signup/SignupActions.js\r\n\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n// import { isEmpty } from \"../../utils/Utils\";\r\nimport {\r\n  CREATE_USER_ERROR,\r\n  CREATE_USER_SUBMITTED,\r\n  CREATE_USER_SUCCESS\r\n} from \"./SignupTypes\";\r\n\r\nexport const signupNewUser = userData => dispatch => {\r\n  dispatch({ type: CREATE_USER_SUBMITTED }); // set submitted state\r\n  axios\r\n    .post(\"/api/v1/users/\", userData)\r\n    .then(response => {\r\n      toast.success(\r\n        \"Ti khon \" +\r\n          userData.username +\r\n          \" c to thnh cng. Xin mi ng nhp.\"\r\n      );\r\n      dispatch({ type: CREATE_USER_SUCCESS });\r\n    })\r\n    .catch(error => {\r\n      if (error.resposne) {\r\n        // The request was made and the server responded with a status code\r\n        // that falls out of the range of 2xx\r\n        toast.error(JSON.stringify(error.response.data));\r\n        dispatch({\r\n          type: CREATE_USER_ERROR,\r\n          errorData: error.response.data\r\n        });\r\n      } else if (error.message) {\r\n        // the error message is available,\r\n        // let's display it on error toast\r\n        toast.error(JSON.stringify(error.message));\r\n      } else {\r\n        // strange error, just show it\r\n        toast.error(JSON.stringify(error));\r\n      }\r\n    });\r\n};","// frontend/src/components/login/Login.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";  // new import \r\nimport { useDispatch } from \"react-redux\";          // new import \r\nimport { login } from \"./LoginActions.js\";      // new import \r\n\r\nfunction Login() {\r\n  const [username, setUsername] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const onLoginClick = () => {\r\n    const userData = {\r\n      username,\r\n      password,\r\n    };\r\n    dispatch(login(userData, \"/\")); // <--- login request\r\n  };\r\n  return (\r\n    <div className=\"row login-layout blur-login\" style={{ height: '100vh' }}>\r\n      <div className=\"col-sm-10 col-sm-offset-1\">\r\n        <div className=\"login-container\" style={{ paddingTop: \"18%\" }}>\r\n          <div className=\"center\">\r\n            <h1>\r\n              {/* <i className=\"ace-icon fa fa-leaf green\" /> */}\r\n              <span className=\"red\">NG NHP</span>\r\n            </h1>\r\n          </div>\r\n          <div className=\"space-6\" />\r\n          <div className=\"position-relative\">\r\n            <div id=\"login-box\" className=\"login-box visible widget-box no-border\">\r\n              <div className=\"widget-body\">\r\n                <div className=\"widget-main\">\r\n                  <h4 className=\"header blue lighter bigger\">\r\n                    <i className=\"ace-icon fa fa-coffee green\" />\r\n                    &nbsp; NG NHP H THNG\r\n                  </h4>\r\n                  <div className=\"space-6\" />\r\n                  <form>\r\n                    <fieldset>\r\n                      <label className=\"block clearfix\">\r\n                        <span className=\"block input-icon input-icon-right\">\r\n                          <input type=\"text\" className=\"form-control\" placeholder=\"Username\"\r\n                            type=\"text\"\r\n                            name=\"username\"\r\n                            placeholder=\"Tn ng nhp\"\r\n                            value={username}\r\n                            onChange={e => setUsername(e.target.value)}\r\n                          />\r\n                          <i className=\"ace-icon fa fa-user\" />\r\n                        </span>\r\n                      </label>\r\n                      <label className=\"block clearfix\">\r\n                        <span className=\"block input-icon input-icon-right\">\r\n                          <input type=\"password\" className=\"form-control\" placeholder=\"Password\"\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            placeholder=\"Nhp mt khu\"\r\n                            value={password}\r\n                            onChange={e => setPassword(e.target.value)}\r\n                          />\r\n                          <i className=\"ace-icon fa fa-lock\" />\r\n                        </span>\r\n                      </label>\r\n                      <div className=\"space\" />\r\n                      <div className=\"clearfix\">\r\n                        <button type=\"button\" className=\"width-40 pull-right btn-primary\"\r\n                          onClick={onLoginClick}\r\n                        >\r\n                          <i className=\"ace-icon fa fa-key\" />\r\n                          <span className=\"bigger-110\">&nbsp;ng nhp</span>\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"space-4\" />\r\n                    </fieldset>\r\n                  </form>\r\n                  <div className=\"social-or-login center\">\r\n                    <span className=\"bigger-110\">Thng tin lin h</span>\r\n                  </div>\r\n                  <div className=\"space-6\" />\r\n                  <div className=\"social-login center\">\r\n                    <span className=\"bigger-110\">Ban Cng ngh thng tin Qun khu 7</span>\r\n                  </div>\r\n                </div>{/* /.widget-main */}\r\n              </div>{/* /.widget-body */}\r\n            </div>{/* /.login-box */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default withRouter(Login);","// frontend/src/utils/RequireAuth.js\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { push } from \"connected-react-router\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function requireAuth(Component) {\r\n  class AuthenticatedComponent extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.checkAuth();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n      this.checkAuth();\r\n    }\r\n\r\n    checkAuth() {\r\n      if (!this.props.isAuthenticated) {\r\n        const redirectAfterLogin = this.props.location.pathname;\r\n        // this.props.dispatch(push(`/login?next=${redirectAfterLogin}`));\r\n        this.props.dispatch(push(`/login?next=${redirectAfterLogin}`));\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <>\r\n          {this.props.isAuthenticated === true ? (\r\n            <Component {...this.props} />\r\n          ) : null}\r\n        </>\r\n      );\r\n    }\r\n  }\r\n  AuthenticatedComponent.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    location: PropTypes.shape({\r\n      pathname: PropTypes.string.isRequired\r\n    }).isRequired,\r\n    dispatch: PropTypes.func.isRequired\r\n  };\r\n\r\n  const mapStateToProps = state => {\r\n    return {\r\n      isAuthenticated: state.auth.isAuthenticated,\r\n      token: state.auth.token\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps)(AuthenticatedComponent);\r\n}","// frontend/src/components/signup/SignupActions.js\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { toastOnError } from \"../../utils/Utils\";\r\n// import { isEmpty } from \"../../utils/Utils\";\r\nimport {\r\n  CREATE_USER_ERROR,\r\n  CREATE_USER_SUBMITTED,\r\n  CREATE_USER_SUCCESS,\r\n  UPDATE_USER_ERROR,\r\n  UPDATE_USER_SUBMITTED,\r\n  UPDATE_USER_SUCCESS,\r\n  GET_USERS_SUCCESS,\r\n  GET_USERS_REQUEST,\r\n  GET_USERS_ERROR,\r\n  DELETE_USER_SUCCESS,\r\n  DELETE_USER_ERROR,\r\n  CREATE_PROFILE_ERROR,\r\n  CREATE_PROFILE_SUBMITTED,\r\n  CREATE_PROFILE_SUCCESS,\r\n  UPDATE_PROFILE_ERROR,\r\n  UPDATE_PROFILE_SUBMITTED,\r\n  UPDATE_PROFILE_SUCCESS,\r\n  DELETE_PROFILE_SUCCESS,\r\n  GET_PROFILES_SUCCESS,\r\n  GET_PROFILES_REQUEST,\r\n  GET_PROFILES_ERROR,\r\n  GET_PROFILE_UNIT_SUCCESS,\r\n  GET_PROFILE_UNIT_ERROR,\r\n  GET_PROFILE_SUCCESS,\r\n  GET_PROFILE_REQUEST,\r\n  GET_PROFILE_ERROR,\r\n  RESETPASSWORD_SUCCESS,\r\n  GET_UNITS_SUCCESS,\r\n  GET_UNITS_REQUEST,\r\n  GET_UNITS_ERROR,\r\n\r\n} from \"./UserTypes\";\r\n\r\nexport const createUser = userData => dispatch => {\r\n  dispatch({ type: CREATE_USER_SUBMITTED }); // set submitted state\r\n  axios\r\n    .post(\"/api/v1/register\", userData)\r\n    .then(response => {\r\n      toast.success(\r\n        // \"Ti khon \" +  userData.username + \" c to thnh cng.\"\r\n        \"Ti khon c to thnh cng.\"\r\n      );\r\n      dispatch({ \r\n        type: CREATE_USER_SUCCESS,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      if (error.resposne) {\r\n        toast.error(JSON.stringify(error.response.data));\r\n        dispatch({\r\n          type: CREATE_USER_ERROR,\r\n          errorData: error.response.data\r\n        });\r\n      } else if (error.message) {\r\n        toast.error(JSON.stringify(error.message));\r\n      } else {\r\n        toast.error(JSON.stringify(error));\r\n      }\r\n    });\r\n};\r\n\r\nexport const resetPassword = dataReset => dispatch => {\r\n  dispatch({ type: CREATE_USER_SUBMITTED }); // set submitted state\r\n  axios\r\n    .post(\"/api/v1/users/set_password/\", dataReset)\r\n    .then(response => {\r\n      toast.success(\r\n        \"Thay i mt khu thnh cng.\"\r\n      );\r\n      dispatch({ type: RESETPASSWORD_SUCCESS });\r\n    })\r\n    .catch(error => {\r\n        toast.error(\"Mt khu phi bao gm ch ci, s, v k t c bit v c  di 8 k t tr ln!\");\r\n    });\r\n};\r\n\r\nexport const updateUser = (id, userData) => dispatch => {\r\n  dispatch({ type: UPDATE_USER_SUBMITTED }); // set submitted state\r\n  axios\r\n    .put(\"/api/v1/register\", (id, userData))\r\n    .then(response => {\r\n      toast.success(\r\n        \"Ti khon \" +\r\n        userData.username +\r\n        \" c to thnh cng. Xin mi ng nhp.\"\r\n      );\r\n      dispatch({ type: UPDATE_USER_SUCCESS });\r\n    })\r\n    .catch(error => {\r\n      if (error.resposne) {\r\n        toast.error(JSON.stringify(error.response.data));\r\n        dispatch({\r\n          type: UPDATE_USER_ERROR,\r\n          errorData: error.response.data\r\n        });\r\n      } else if (error.message) {\r\n        toast.error(JSON.stringify(error.message));\r\n      } else {\r\n        toast.error(JSON.stringify(error));\r\n      }\r\n    });\r\n};\r\n\r\nexport const getUsers = () => async dispatch => {\r\n  try {\r\n    dispatch({ type: GET_USERS_REQUEST });\r\n\r\n    await axios\r\n      .get(\"/api/v1/users/\")\r\n      .then(response => {\r\n        dispatch({\r\n          type: GET_USERS_SUCCESS,\r\n          payload: response.data\r\n        });\r\n      })\r\n\r\n  } catch (error) {\r\n    console.log(error)\r\n    dispatch({\r\n      type: GET_USERS_ERROR,\r\n      message: error\r\n    })\r\n  }\r\n\r\n};\r\n\r\nexport const deleteUser = (username) => async dispatch => {\r\n  try {\r\n    await axios\r\n      .delete(`/api/v1/users/${username}/`)\r\n      .then(response => {\r\n        dispatch({\r\n          type: DELETE_USER_SUCCESS,\r\n          payload: username\r\n        });\r\n      })\r\n\r\n  } catch (error) {\r\n    console.log(error)\r\n    dispatch({\r\n      type: DELETE_USER_ERROR,\r\n      message: error\r\n    })\r\n  }\r\n\r\n};\r\n\r\n// export const getProfiles = (unit_id) => async dispatch => {\r\nexport const getProfiles = () => async dispatch => {\r\n  try {\r\n    dispatch({ type: GET_PROFILES_REQUEST });\r\n\r\n    await axios\r\n      .get('/api/v1/profiles/')\r\n      .then(response => {\r\n        dispatch({\r\n          type: GET_PROFILES_SUCCESS,\r\n          payload: response.data\r\n        });\r\n      })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_PROFILES_ERROR,\r\n      message: error\r\n    })\r\n  }\r\n\r\n};\r\n\r\nexport const getProfileUnit = (unit_id) => async dispatch => {\r\n  try {\r\n    dispatch({ type: GET_PROFILES_REQUEST });\r\n    await axios\r\n      .get(`/api/v1/profiles/${unit_id}`)\r\n      .then(response => {\r\n        dispatch({\r\n          type: GET_PROFILES_SUCCESS,\r\n          payload: response.data\r\n        });\r\n      })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_PROFILES_ERROR,\r\n      message: error\r\n    })\r\n  }\r\n\r\n};\r\n\r\nexport const getProfile = (id) => async dispatch => {\r\n  try {\r\n    dispatch({ type: GET_PROFILE_REQUEST });\r\n\r\n    await axios\r\n      .get(`/api/v1/profile_user/${id}/`)\r\n      .then(response => {\r\n        dispatch({\r\n          type: GET_PROFILE_SUCCESS,\r\n          payload: response.data\r\n        });\r\n      })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_PROFILE_ERROR,\r\n      message: error\r\n    })\r\n  }\r\n\r\n};\r\n\r\nexport const updateProfile = (id, userData) => async dispatch => {\r\n  // console.log(userData)\r\n  await axios\r\n    .patch(`/api/v1/profile/${id}/`, userData)\r\n    \r\n    .then(response => {\r\n      toast.success(\r\n        \"Cp nht ti khon thnh cng.\"\r\n      );\r\n      dispatch({ \r\n        type: UPDATE_PROFILE_SUCCESS,\r\n        payload: response.data\r\n      });\r\n    })\r\n    // .catch(error => {\r\n    //   if (error.resposne) {\r\n    //     toast.error(JSON.stringify(error.response.data));\r\n    //     dispatch({\r\n    //       type: UPDATE_PROFILE_ERROR,\r\n    //       errorData: error.response.data\r\n    //     });\r\n    //   } else if (error.message) {\r\n    //     toast.error(JSON.stringify(error.message));\r\n    //   } else {\r\n    //     toast.error(JSON.stringify(error));\r\n    //   }\r\n    // });\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\nexport const deleteProfile = (id) => async dispatch => {\r\n  await axios\r\n    .delete(`/api/v1/profile/${id}/`)\r\n    .then(response => {\r\n      toast.success(\r\n        \"Xa ti khon thnh cng.\"\r\n      );\r\n      dispatch({ \r\n        type: DELETE_PROFILE_SUCCESS,\r\n        payload: id\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\n\r\nexport const getUnits = () => async dispatch => {\r\n  try {\r\n    dispatch({ type: GET_UNITS_REQUEST });\r\n\r\n    await axios\r\n      .get(\"/api/v1/unit/\")\r\n      .then(response => {\r\n        dispatch({\r\n          type: GET_UNITS_SUCCESS,\r\n          payload: response.data\r\n        });\r\n      })\r\n\r\n  } catch (error) {\r\n    console.log(error)\r\n    dispatch({\r\n      type: GET_UNITS_ERROR,\r\n      message: error\r\n    })\r\n  }\r\n\r\n};\r\n","// frontend/src/components/dashboard/Dashboard.js\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { getProfile, resetPassword } from '../users/UserActions';\r\nimport { logout } from \"../login/LoginActions\";\r\n\r\nconst Header = (props) => {\r\n  const { user } = useSelector((state) => state.auth);\r\n  const profile = useSelector(state => state.profile.data);\r\n  const [resetPass, setResetPass] = useState(false)\r\n  const [passwordNew, setPasswordNew] = useState()\r\n  const [passwordOld, setPasswordOld] = useState()\r\n\r\n  const dispatch = useDispatch()\r\n  const handleLogout = (event) => {\r\n    event.preventDefault();\r\n    dispatch(logout())\r\n  }\r\n  useEffect(() => {\r\n    dispatch(getProfile(user.id))\r\n  }, [])\r\n\r\n  const handleResetPass = () => {\r\n    setResetPass(true)\r\n  }\r\n\r\n  const handleSavePass = () => {\r\n    let dataReset = {\r\n      new_password: passwordNew,\r\n      current_password: passwordOld\r\n    }\r\n    dispatch(resetPassword(dataReset))\r\n  }\r\n\r\n  return (\r\n    <div id=\"navbar\" className=\"navbar navbar-default ace-save-state navbar-fixed-top\">\r\n      <div className=\"navbar-container ace-save-state\" id=\"navbar-container\">\r\n\r\n        <div className=\"navbar-header pull-left\">\r\n          <a href=\"/\" className=\"navbar-brand\"><small><i className=\"fa fa-th-large \" /> &nbsp;&nbsp;CNG NGH THNG TIN QUN KHU 7</small>\r\n          </a>\r\n        </div>\r\n        {user.username ? (\r\n          <>\r\n            <div className=\"navbar-buttons navbar-header pull-right\" role=\"navigation\">\r\n              <ul className=\"nav ace-nav\">\r\n\r\n                <li className=\"light-blue dropdown-modal\">\r\n                  <a data-toggle=\"dropdown\" href=\"#\" className=\"dropdown-toggle\">\r\n                    {/* className=\"user-info\"  */}\r\n                    {profile?.image &&\r\n                      <img className=\"nav-user-photo\" src={`http://cntt.qk7.bqp:8000${(profile.image).replace(\"http://cntt.qk7.bqp:8000\", \"\")}`} alt=\"CNTT Photo\" />\r\n                    }\r\n                    <span ><small>Xin cho,&nbsp;</small>{profile?.first_name ? profile.first_name : user.username}</span>\r\n                    <i className=\"ace-icon fa fa-caret-down\" />\r\n                  </a>\r\n                  <ul className='user-menu dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret dropdown-close' >\r\n\r\n                    {/* <li onClick={handleResetPass}> */}\r\n                    <li >\r\n                      <a><i className=\"ace-icon fa fa-cog\" />Thay i mt khu</a>\r\n                    </li>\r\n                    <li className=\"divider\" />\r\n\r\n                    {/* {resetPass && */}\r\n\r\n                    <li style={{ width: \"300px\" }}>\r\n                      <form>\r\n                        <div className=\"input-group\">\r\n                          <span className=\"input-group-addon\">\r\n                            Mt hin ti&nbsp;&nbsp;&nbsp;&nbsp;\r\n                          </span>\r\n                          <input type=\"password\" className=\"form-control search-query\" placeholder=\"Nhp mt khu hin ti\" value={passwordOld} onChange={(e) => setPasswordOld(e.target.value)} />\r\n\r\n                        </div>\r\n                        <div className=\"input-group\" >\r\n                          <span className=\"input-group-addon\">\r\n                            Mt khu mi&nbsp;\r\n                          </span>\r\n                          <input type=\"password\" className=\"form-control search-query\" placeholder=\"Nhp mt khu mi\" value={passwordNew} onChange={(e) => setPasswordNew(e.target.value)} />\r\n\r\n                        </div>\r\n\r\n                        <div className=\"input-group\">\r\n                          <span className=\"input-group-addon\">\r\n                            <button type=\"button\" className=\"btn-green btn-sm\" onClick={handleSavePass}>\r\n                              <span className=\"ace-icon fa fa-save icon-on-right bigger-110\"></span>&nbsp;\r\n                              Lu thay i\r\n                            </button>\r\n                          </span>\r\n\r\n                        </div>\r\n                      </form>\r\n\r\n                    </li>\r\n                    {/* } */}\r\n                    <li onClick={handleLogout}>\r\n                      <a><i className=\"ace-icon fa fa-power-off\" />ng xut</a>\r\n                    </li>\r\n\r\n                  </ul>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </>\r\n\r\n        ) : (\r\n          <div className=\"navbar-buttons navbar-header pull-right\" role=\"navigation\">\r\n            <ul className=\"nav ace-nav\">\r\n              <li className=\"light-blue dropdown-modal\">\r\n                <Link data-toggle=\"dropdown\" to=\"/login\" className=\"dropdown-toggle\">\r\n                  <span className=\"user-info\">ng nhp</span>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default withRouter(Header);","// frontend/src/components/dashboard/Dashboard.js\r\n\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Footer extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"footer\" style={{ paddingTop: \"0px\", position: \"fixed\", minHeight: \"45px\", bottom: \"0\", width: \"100%\", backgroundColor: \"#E3E3E3\" }}>\r\n          <div className=\"footer-inner\" style={{paddingBottom: \"10px\"}}>\r\n              <span className=\"bigger-120\">\r\n                <span className=\"blue bolder\">Ban Cng ngh thng tin Qun khu 7 - </span> H THNG TRUYN HNH NG DNG  2020-2021</span>\r\n           \r\n          </div>\r\n        </div>\r\n        <a href=\"#\" id=\"btn-scroll-up\" className=\"btn-scroll-up btn btn-sm btn-inverse\">\r\n          <i className=\"ace-icon fa fa-angle-double-up icon-only bigger-110\" />\r\n        </a>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default withRouter(Footer);","// frontend/src/components/dashboard/Dashboard.js\r\nimport React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter, NavLink } from \"react-router-dom\";\r\nimport { logout } from \"../login/LoginActions\";\r\n\r\nconst Menubar = () => {\r\n  const { user } = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch()\r\n  const handleLogout = (event) => {\r\n    event.preventDefault();\r\n    dispatch(logout())\r\n  }\r\n  return (\r\n    <>\r\n    { user.groups.find(u=>u===1) &&\r\n    <div id=\"sidebar\" className=\"sidebar responsive  ace-save-state sidebar-fixed compact sidebar-scroll\">\r\n      <div className=\"nav-wrap-up pos-rel\">\r\n        <div className=\"nav-wrap\" style={{ maxHeight: \"310px\" }}>\r\n          <div style={{ position: \"relative\" }}>\r\n            <ul className=\"nav nav-list\">\r\n              <li >\r\n                <NavLink axact to=\"/\" >\r\n                  <i className=\"menu-icon fa fa-tachometer bigger-160\" />\r\n                  <span className=\"menu-text\"> Trang ch </span>\r\n                </NavLink>\r\n                <b className=\"arrow\" />\r\n              </li>\r\n              <>\r\n              <li className=\"hover highlight\" >\r\n                <NavLink to=\"/cal_meet\" activeStyle={{color:\"white\", backgroundColor:\"grey\"}}>\r\n                  <i className=\"menu-icon \tfa fa-camera-retro bigger-160\" />\r\n                  <span className=\"menu-text\"> Lp Lch hi ngh </span>\r\n                </NavLink>\r\n                <b className=\"arrow\" />\r\n              </li>\r\n              \r\n              <li >\r\n                <NavLink to=\"/user-create\" activeStyle={{color:\"white\", backgroundColor:\"grey\"}}>\r\n                  <i className=\"menu-icon fa fa-users bigger-160\" />\r\n                  <span className=\"menu-text\"> Qun l Ti khon</span>\r\n                </NavLink>\r\n                <b className=\"arrow\" />\r\n              </li>\r\n              </>\r\n              <li  onClick={handleLogout}>\r\n              <NavLink to=\"\" >\r\n                  <i className=\"menu-icon fa fa-sign-out bigger-160\" />\r\n                  <span className=\"menu-text\"> ng xut</span>\r\n                <b className=\"arrow\" />\r\n                </NavLink>\r\n              </li>\r\n            </ul>\r\n            <div className=\"sidebar-toggle sidebar-collapse\" id=\"sidebar-collapse\">\r\n              <i id=\"sidebar-toggle-icon\" className=\"ace-icon fa fa-angle-double-left ace-save-state\" data-icon1=\"ace-icon fa fa-angle-double-left\" data-icon2=\"ace-icon fa fa-angle-double-right\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n  </>\r\n  );\r\n}\r\n\r\nexport default withRouter(Menubar);","\r\nimport axios from \"axios\";\r\nimport { toastOnError } from \"../../utils/Utils\";\r\nimport { toast } from \"react-toastify\";\r\nimport { GET_CALENDARS, DETAIL_CALENDAR, ADD_CALENDAR, DELETE_CALENDAR, UPDATE_CALENDAR } from \"./CalendarTypes\";\r\n\r\nexport const getCalendar = () => async dispatch => {\r\n  await axios\r\n    .get(\"/api/v1/room/\")\r\n    .then(response => {\r\n      dispatch({\r\n        type: GET_CALENDARS,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\nexport const detailCalendar = (Id) => async dispatch => {\r\n  await axios\r\n    .get(`/api/v1/room/${Id}/`)\r\n    .then(response => {\r\n      dispatch({\r\n        type: DETAIL_CALENDAR,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\nexport const addCalendar = calendar => dispatch => {\r\n  // console.log(calendar)\r\n  axios\r\n    .post(\"/api/v1/room/\", calendar)\r\n    .then(response => {\r\n      dispatch({\r\n        type: ADD_CALENDAR,\r\n        payload: response.data\r\n      });\r\n      toast.success(\r\n        \"To mi phng hp thnh cng!\"\r\n      );\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\n// new functions\r\nexport const deleteCalendar = id => dispatch => {\r\n  axios\r\n    .delete(`/api/v1/room/${id}/`)\r\n    .then(response => {\r\n      dispatch({\r\n        type: DELETE_CALENDAR,\r\n        payload: id\r\n      });\r\n      toast.success(\r\n        \"Xa phng hp thnh cng!\"\r\n      );\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\nexport const updateCalendar = (Id, calendar) => dispatch => {\r\n\r\n  console.log(Id)\r\n  console.log(calendar)\r\n  \r\n  var url = `/api/v1/room/${Id}/`\r\n  console.log(url)\r\n  axios\r\n    .patch(url, calendar)\r\n    .then(response => {\r\n      dispatch({\r\n        type: UPDATE_CALENDAR,\r\n        payload: response.data\r\n      });\r\n      toast.success(\r\n        \"Cp nht phng hp thnh cng!\"\r\n      );\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction CalendarToday(props) {\r\n    const { cal, profiles, profile } = props;\r\n    const [status, setStatus] = useState(\"Cha din ra\")\r\n    const [statusNum, setStatusNum] = useState(3)\r\n    const [classType, setClassType] = useState(\"search-promotion label label-blue arrowed-in arrowed-in-right\")\r\n\r\n    const eventType = (EventType) => {\r\n        switch (EventType) {\r\n            case 0:\r\n                return \"Cao\"\r\n            case 1:\r\n                return \"Trung bnh\"\r\n            case 2:\r\n                return \"Thp\"\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        var datenow = new Date()\r\n        var date1 = new Date(cal.StartTime);\r\n        var date2 = new Date(cal.EndTime);\r\n        var date3 = date1 - datenow\r\n        var date4 = date2 - datenow\r\n        // console.log(datenow.getTime())\r\n        if (date4 <= 0) {\r\n            setStatus(\" kt thc\")\r\n            setStatusNum(0)\r\n            setClassType(\"search-promotion label label-danger arrowed-in arrowed-in-right\")\r\n        }\r\n        if (date3 <= 0 && date4 >= 0) {\r\n            // if (date3 <= 0 && date4 >= 0 && moment(cal.StartTime).format(\"hh:mm A\").toString() <= moment(datenow).format(\"hh:mm A\").toString() && moment(cal.EndTime).format(\"hh:mm A\").toString() >= moment(datenow).format(\"hh:mm A\").toString()) {\r\n            setStatus(\"ang din ra\")\r\n            setStatusNum(1)\r\n            setClassType(\"search-promotion label label-success arrowed-in arrowed-in-right\")\r\n        }\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"col-xs-12 col-sm-6\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }} key={cal.Id}>\r\n            <div className=\"row\"  >\r\n                <div className=\"col-xs-12 col-sm-4\" >\r\n                    <div className=\"text-center\">\r\n                        <span className={classType}><b>{status}</b></span>\r\n                        <img style={{ maxWidth: '120%' }} className=\"thumbnail inline no-margin-bottom\" alt=\"Anh Hoi nghi\" src=\"assets\\images\\meet\\meeting2.jpg\" />\r\n                        <div className=\"hr hr-dotted hr-6\"></div>\r\n                        {status === \"ang din ra\" ?\r\n                            <Link to={`/hnth-client/${cal.Id}`} target=\"_blank\">\r\n                                <button className=\" btn-primary \" title=\"Click  tham gia cuc hp\">\r\n                                    &nbsp; Tham gia cuc hp&nbsp;\r\n                                    <i className=\"ace-icon fa fa-arrow-right icon-on-right\"></i>\r\n                                </button>\r\n                            </Link>\r\n                            :\r\n                            <button disabled title=\"Cuc hp  kt thc hoc cha din ra\">\r\n                                &nbsp; Tham gia cuc hp&nbsp;\r\n                                <i className=\"ace-icon fa fa-arrow-right icon-on-right\"></i>\r\n                            </button>\r\n                        }\r\n                        <div className=\"hr hr-dotted hr-6\"></div>\r\n                        {/* cal.User_control.find(profile.user) */}\r\n                        {cal.User_control.find((uR) => uR === profile.user) &&\r\n                            <Link to={`/hnth-admin/${cal.Id}`} target=\"_blank\">\r\n                                <button title=\"Click  iu khin cuc hp\">\r\n                                    &nbsp;iu khin hi ngh&nbsp;\r\n                                    <i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" />\r\n                                </button>\r\n                            </Link>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-xs-12 col-sm-8\" >\r\n                    <div className=\"profile-user-info profile-user-info-striped\" style={{ display: 'block' }}>\r\n                        <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                            <div className=\"profile-info-value\" style={{ whiteSpace: \"nowrap\", overflow: \"hidden\", textOverflow: \"ellipsis\", display: \"block\" }} title={cal.Subject}>\r\n                                <i className=\"ace-icon fa fa-laptop bigger-110\"></i> &nbsp;\r\n                                <b  >{cal.Subject}</b>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profile-info-row\">\r\n                            <div className=\"profile-info-value\" style={{ color: \"green\" }}>\r\n                                <i className=\"ace-icon fa fa-clock-o bigger-110\"></i> &nbsp;\r\n                                Bt u:\t{moment(cal.StartTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profile-info-row\">\r\n                            <div className=\"profile-info-value\" style={{ color: \"grey\" }} >\r\n                                <i className=\"ace-icon fa fa-clock-o bigger-110\"></i> &nbsp;\r\n                                Kt thc:\t{moment(cal.EndTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profile-info-row\">\r\n                            <div className=\"profile-info-value\" style={{ color: \"grey\" }} >\r\n                                <i className=\"ace-icon fa fa-clock-o bigger-110\"></i> &nbsp;\r\n                                Ch tr: {profiles.filter(p => cal.User_vip.includes(p.user)).map(v => { return <span style={{ color: \"blue\" }}>{v.first_name}&nbsp; </span> })}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profile-info-row\">\r\n                            <div className=\"profile-info-value\"  >\r\n                                <i className=\"ace-icon fa fa-heart-o bigger-110\"></i> &nbsp;\r\n                                Mc  u tin:\t{eventType(cal.EventType)}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profile-info-row\">\r\n                            <div className=\"profile-info-value\"  >\r\n                                <i className=\"ace-icon fa fa-eye bigger-110\"></i> &nbsp;\r\n                                S thnh vin: &nbsp;\r\n                                {(() => {\r\n                                    switch (String(cal.User_room.length).length) {\r\n                                        case 1: return <span>0{cal.User_room.length}</span>;\r\n                                        default: return <span>{cal.User_room.length}</span>;\r\n                                    }\r\n                                })()}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"hr hr-dotted hr-6\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CalendarToday\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\"; // new import\r\nimport { Col, Form } from \"react-bootstrap\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { updateProfile } from \"../users/UserActions\";\r\n\r\nfunction getModalStyle() {\r\n  const top = 40;\r\n  const left = 50;\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 500,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  small: {\r\n    width: theme.spacing(3),\r\n    height: theme.spacing(3),\r\n  },\r\n  large: {\r\n    width: theme.spacing(10),\r\n    height: theme.spacing(10),\r\n  },\r\n}));\r\n\r\n\r\nfunction UpdateProfile(props) {\r\n  const { profile } = props\r\n\r\n  const [phone, setPhone] = useState(profile.phone)\r\n  const [first_name, setFirst_name] = useState(profile.first_name)\r\n  const [last_name, setLast_name] = useState(profile.last_name)\r\n  const [groups, setGroups] = useState(profile.groups)\r\n  // const [email, setEmail] = useState(profile.email)\r\n  const [image, setImage] = useState(profile.image)\r\n  const [imagePreviewUrl, setImagePreviewUrl] = useState(null)\r\n  const [errorInput, setErrorInput] = useState()\r\n\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const classes = useStyles();\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n\r\n  const onUpdateClick = () => {\r\n    if (last_name === null || first_name === null || image.name === null || last_name === \"\" || first_name === \"\" || image.name === \"\") {\r\n      setErrorInput(\"Bn phi nht thng tin cc trng bt buc\")\r\n      props.setStateEdit(true)\r\n    } else {\r\n      let form_data = new FormData();\r\n      if (image.name) {\r\n        form_data.append('image', image, image.name)\r\n      }\r\n\r\n      form_data.append('id', props.id)\r\n      form_data.append('first_name', first_name)\r\n      form_data.append('last_name', last_name)\r\n      form_data.append('groups', groups)\r\n      // form_data.append('unit_id', profile.unit_id)\r\n      form_data.append('phone', phone)\r\n      // form_data.append('sort_id', profile.sort_id)\r\n      form_data.append('user', profile.user)\r\n      dispatch(updateProfile(profile.id, form_data)); // <-- signup new user request\r\n      props.setStateEdit(false)\r\n    }\r\n\r\n  };\r\n\r\n  const handleClose = () => {\r\n    if (profile.last_name === null || profile.first_name === null || profile.last_name === \"\" || profile.first_name === \"\") {\r\n      setErrorInput(\"Bn phi nht thng tin cc trng bt buc\")\r\n      props.setStateEdit(true)\r\n    } else {\r\n      props.setStateEdit(false);\r\n    }\r\n\r\n  };\r\n\r\n  const handleChangeImage = (e) => {\r\n    if (e.target.files[0]) {\r\n      setImage(e.target.files[0])\r\n    }\r\n    // console.log(e.target.files[0])\r\n    let reader = new FileReader();\r\n\r\n    reader.onloadend = () => {\r\n      setImagePreviewUrl(reader.result)\r\n    }\r\n    reader.readAsDataURL(e.target.files[0])\r\n  }\r\n\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper} >\r\n      <h4 id=\"simple-modal-title\">Cp nht thng tin ti khon</h4>\r\n      <hr />\r\n      <Col md=\"12\">\r\n        <Form>\r\n          <Form.Group controlId=\"usernameId\">\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              <p style={{ color: \"red\" }}>{errorInput}</p>\r\n            </Form.Control.Feedback>\r\n            <Form.Label>H v tn*</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"first_name\"\r\n              placeholder=\"Nhp H v tn\"\r\n              value={first_name}\r\n              onChange={e => setFirst_name(e.target.value)}\r\n            />\r\n\r\n          </Form.Group>\r\n          <Form.Group controlId=\"usernameId\">\r\n            <Form.Label>Tn hin th*</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"last_name\"\r\n              placeholder=\"Nhp tn hin th\"\r\n              value={last_name}\r\n              onChange={e => setLast_name(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"usernameId\">\r\n            <Form.Label>S in thoi</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"phone\"\r\n              placeholder=\"Nhp s in thoi\"\r\n              value={phone}\r\n              onChange={e => setPhone(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n\r\n          <div className=\"row\">\r\n            <div className=\"col-xs-12 col-sm-9\" style={{ marginLeft: \"-12px\" }}>\r\n              <Form.Group controlId=\"usernameId\">\r\n                <Form.Label>Chn nh di din*</Form.Label>\r\n                <input\r\n                  className='form-control'\r\n                  type='file'\r\n                  onChange={handleChangeImage}\r\n                // accept=\"image/png, image/jpeg\" \r\n                />\r\n              </Form.Group>\r\n            </div>\r\n            <div className=\"col-xs-12 col-sm-3\">\r\n              <div className={classes.root}>\r\n                <Avatar alt=\"Khac Hieu\" src={imagePreviewUrl ? imagePreviewUrl : image} className={classes.large} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Form>\r\n        <div style={{ backgroundColor: \"#EFF3F8\", fontSize: \"20px\", textAlign: \"center\", height: \"50px\", marginTop: \"6px\" }}>\r\n          <button type=\"submit\" className=\"btn-sm btn-success\" onClick={onUpdateClick} style={{ marginTop: \"6px\" }}>\r\n            <i className=\"ace-icon fa fa-plus icon-on-right bigger-110\" />&nbsp;\r\n            Cp nht\r\n          </button>\r\n          <button type=\"submit\" className=\"btn-sm \" onClick={handleClose} style={{ marginTop: \"6px\" }}>\r\n            <i className=\"ace-icon fa fa-close icon-on-right bigger-110\" />&nbsp;\r\n            ng\r\n          </button>\r\n        </div>\r\n      </Col>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      {body}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(UpdateProfile)","// frontend/src/components/dashboard/Dashboard.js\r\nimport React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Header from \"../common/Header\";\r\nimport Footer from \"../common/Footer\";\r\nimport Menubar from \"../common/Menubar\";\r\nimport { getUsers, getProfile, getProfiles } from '../users/UserActions';\r\nimport { getCalendar } from \"../calendar/CalendarActions\";\r\nimport CalendarToday from './CalendarToday';\r\nimport moment from 'moment'\r\nimport UpdateProfile from './UpdateProfile'\r\nimport Modal from '@material-ui/core/Modal';\r\n\r\nimport Clock from 'react-clock';\r\nimport 'react-clock/dist/Clock.css';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  small: {\r\n    width: theme.spacing(3),\r\n    height: theme.spacing(3),\r\n  },\r\n  large: {\r\n    width: theme.spacing(10),\r\n    height: theme.spacing(10),\r\n  },\r\n}));\r\n\r\nfunction Dashboard() {\r\n  const classes = useStyles();\r\n  const profile = useSelector(state => state.profile.data);\r\n  const profiles = useSelector(state => state.profiles.data);\r\n  const data = useSelector((state) => state.calendars.calendars);\r\n  const { user } = useSelector((state) => state.auth);\r\n  const [stateEdit, setStateEdit] = useState(false)\r\n\r\n  data.sort((a, b) => {\r\n    if (a.StartTime < b.StartTime) {\r\n      return -1;\r\n    }\r\n    if (a.StartTime > b.StartTime) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n\r\n  const [value, setValue] = useState(new Date());\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(\r\n      () => setValue(new Date()),\r\n      1000\r\n    );\r\n    return () => {\r\n      clearInterval(interval);\r\n    }\r\n  }, []);\r\n\r\n  const eventType = (EventType) => {\r\n    switch (EventType) {\r\n      case 0:\r\n        return \"Cao\"\r\n      case 1:\r\n        return \"Trung bnh\"\r\n      case 2:\r\n        return \"Thp\"\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getProfile(user.id))\r\n  }, [stateEdit])\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      if (profile.phone === \"\" || profile.first_name === null || profile.first_name === \"\" || profile.last_name === null) {\r\n        setStateEdit(true)\r\n      }\r\n    }, 2000);\r\n  }, [profile])\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(getCalendar())\r\n    dispatch(getUsers())\r\n    dispatch(getProfiles())\r\n\r\n\r\n  }, [])\r\n\r\n\r\n  const handleSetStateEdit = () => {\r\n    setStateEdit(true)\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setStateEdit(false)\r\n  }\r\n\r\n  const today = new Date()\r\n  const lengthCal = []\r\n  const lengthCalNext = []\r\n\r\n  const CalendarTodays = data.filter(x => moment(x.StartTime).format(\"DD-MM-YY\").toString() <= moment(today).format(\"DD-MM-YY\").toString() && moment(x.EndTime).format(\"DD-MM-YY\").toString() >= moment(today).format(\"DD-MM-YY\").toString()).map((cal, index) => {\r\n    if (cal.User_room.find((uR) => uR === profile.user)) {\r\n      lengthCal.push(cal.id)\r\n      return (\r\n        <CalendarToday key={index} cal={cal} profiles={profiles} profile={profile} />\r\n      )\r\n    }\r\n  })\r\n\r\n  const CalendarNexts = data.filter(x => moment(x.StartTime).format(\"DD-MM-YY\").toString() > moment(today).format(\"DD-MM-YY\").toString()).map((cal, index) => {\r\n    if (cal.User_room.find((uR) => uR === profile.user)) {\r\n      lengthCalNext.push(cal.id)\r\n      return (\r\n        <div className=\"col-xs-12 col-sm-6\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }} key={index}>\r\n          <div className=\"row\"  >\r\n            <div className=\"col-xs-12 col-sm-4\" >\r\n              <div className=\"text-center\">\r\n                <img style={{ maxWidth: '120%' }} className=\"thumbnail inline no-margin-bottom\" alt=\"Anh Hoi nghi\" src=\"assets\\images\\meet\\meeting.jpg\" />\r\n                <div className=\"hr hr-dotted hr-6\"></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-xs-12 col-sm-8\" >\r\n              <div className=\"profile-user-info profile-user-info-striped\" style={{ display: 'block' }}>\r\n                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                  <div className=\"profile-info-value\" style={{ whiteSpace: \"nowrap\", overflow: \"hidden\", textOverflow: \"ellipsis\", display: \"block\" }} title={cal.Subject}>\r\n                    <i className=\"ace-icon fa fa-laptop bigger-110\"></i> &nbsp;\r\n                    <b>{cal.Subject}</b>\r\n                  </div>\r\n                </div>\r\n                <div className=\"profile-info-row\">\r\n                  <div className=\"profile-info-value\" style={{ color: \"green\" }}>\r\n                    <i className=\"ace-icon fa fa-clock-o bigger-110\"></i> &nbsp;\r\n                    Bt u:\t{moment(cal.StartTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}\r\n                  </div>\r\n                </div>\r\n                <div className=\"profile-info-row\">\r\n                  <div className=\"profile-info-value\" style={{ color: \"grey\" }} >\r\n                    <i className=\"ace-icon fa fa-clock-o bigger-110\"></i> &nbsp;\r\n                    Kt thc:\t{moment(cal.EndTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}\r\n                  </div>\r\n                </div>\r\n                <div className=\"profile-info-row\">\r\n                  <div className=\"profile-info-value\" style={{ color: \"grey\" }} >\r\n                    <i className=\"ace-icon fa fa-clock-o bigger-110\"></i> &nbsp;\r\n                    Ch tr: {profiles.filter(p => cal.User_vip.includes(p.user)).map(v => { return <span style={{ color: \"blue\" }}>{v.first_name}&nbsp; </span> })}\r\n                  </div>\r\n                </div>\r\n                <div className=\"profile-info-row\">\r\n                  <div className=\"profile-info-value\"  >\r\n                    <i className=\"ace-icon fa fa-heart-o bigger-110\"></i> &nbsp;\r\n                    Mc  u tin:\t{eventType(cal.EventType)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"profile-info-row\">\r\n                  <div className=\"profile-info-value\"  >\r\n                    <i className=\"ace-icon fa fa-eye bigger-110\"></i> &nbsp;\r\n                    S thnh vin: &nbsp;\r\n                    {(() => {\r\n                      switch (String(cal.User_room.length).length) {\r\n                        case 1: return <span>0{cal.User_room.length}</span>;\r\n                        default: return <span>{cal.User_room.length}</span>;\r\n                      }\r\n                    })()}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"hr hr-dotted hr-6\"></div>\r\n        </div>\r\n      )\r\n    }\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n        <Menubar />\r\n        <div className=\"main-content\">\r\n          <div className=\"main-content-inner\" >\r\n            <div className=\"row\" >\r\n\r\n              <div className=\"row search-page\" >\r\n                <div className=\"col-xs-12 col-sm-8\" >\r\n                  <div className=\"widget-box\">\r\n                    <div className=\"widget-header\">\r\n                      <h4 className=\"widget-title\">\r\n                        <i className=\"ace-icon fa fa-tint\" />\r\n                        Danh sch lch hi ngh\r\n                      </h4>\r\n                    </div>\r\n                    <div className=\"widget-body\" >\r\n                      <div style={{ backgroundColor: \"#EFF3F8\", fontSize: \"14px\", textAlign: \"center\", height: \"30px\", marginTop: \"6px\", fontWeight: \"bold\" }}><b>Cc cuc hp trong ngy</b></div>\r\n                      <div className=\"widget-main\" style={{ paddingRight: \"0px\", paddingLeft: \"0px\" }} style={{ flex: 1, height: '40vh', overflowY: 'auto' }}>\r\n                        {lengthCal.length > 0 ?\r\n                          <div className=\"row\">\r\n                            {CalendarTodays}\r\n                          </div>\r\n                          :\r\n                          <div className=\"row\">\r\n                            <b style={{ color: \"red\" }}>Khng c lch hp trong ngy</b>\r\n                          </div>\r\n                        }\r\n                      </div>\r\n                      <div style={{ backgroundColor: \"#EFF3F8\", fontSize: \"14px\", textAlign: \"center\", height: \"30px\", marginTop: \"6px\" }}><b>Cc cuc hp trong nhng ngy ti</b></div>\r\n                      <div className=\"widget-main\" style={{ paddingRight: \"0px\", paddingLeft: \"0px\" }} style={{ flex: 1, height: '35vh', overflowY: 'auto' }}>\r\n                        {lengthCalNext.length > 0 ?\r\n                          <div className=\"row\">\r\n                            {CalendarNexts}\r\n                          </div>\r\n                          :\r\n                          <div className=\"row\">\r\n                            <b style={{ color: \"red\" }}>Cha c lch hp trong thi gian ti</b>\r\n                          </div>\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-xs-12 col-sm-4\" style={{ textAlign: \"center\" }}>\r\n                  <div className=\"widget-box\" style={{ marginTop: \"0px\" }}>\r\n                    <div className=\"widget-header\">\r\n                      <h4 className=\"widget-title\">\r\n                        Hm nay ngy {moment().format(\"DD-MM-YYYY\")}\r\n                      </h4>\r\n                    </div>\r\n                    <div className=\"widget-body\">\r\n                      <div className=\"widget-main\" style={{ paddingRight: \"0px\", paddingLeft: \"0px\" }}>\r\n                        <div className=\"row\" >\r\n                          <div className=\"col-xs-12 col-sm-6\" >\r\n                            <div className=\"infobox infobox-blue\">\r\n                              <div className=\"infobox-icon\">\r\n                                <i className=\"ace-icon fa  fa-laptop\" />\r\n                              </div>\r\n                              <div className=\"infobox-data\">\r\n                                <span className=\"infobox-data-number\">\r\n                                  {(() => {\r\n                                    switch (String(lengthCal.length).length) {\r\n                                      case 1: return <span>0{lengthCal.length}</span>;\r\n                                      default: return <span>{lengthCal.length}</span>;\r\n                                    }\r\n                                  })()}\r\n                                </span>\r\n                                <div className=\"infobox-content\">Cuc hp trong ngy</div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"infobox infobox-green\">\r\n                              <div className=\"infobox-icon\">\r\n                                <i className=\"ace-icon fa fa-calendar\" />\r\n                              </div>\r\n                              <div className=\"infobox-data\">\r\n                                <span className=\"infobox-data-number\">\r\n                                  {(() => {\r\n                                    switch (String(lengthCalNext.length).length) {\r\n                                      case 1: return <span>0{lengthCalNext?.length}</span>;\r\n                                      default: return <span>{lengthCalNext?.length}</span>;\r\n                                    }\r\n                                  })()}\r\n                                </span>\r\n                                <div className=\"infobox-content\">Cuc hp thi gian ti</div>\r\n                              </div>\r\n                            </div>\r\n\r\n                          </div>\r\n                          <div className=\"col-xs-12 col-sm-6\" style={{ display: 'flex', justifyContent: \"center\" }}>\r\n                            <Clock\r\n                              value={value}\r\n                              size={130}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"widget-box\">\r\n                    <div className=\"widget-header\">\r\n                      <h4 className=\"widget-title\">\r\n                        Thng tin ti khon\r\n                      </h4>\r\n                    </div>\r\n                    <div className=\"widget-body\" style={{ flex: 1, maxHeight: '52vh', overflowY: 'auto' }}>\r\n                      <div className=\"widget-main\">\r\n                        <div className=\"col-xs-12 col-sm-12\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }}>\r\n                          <div className=\"row\"  >\r\n                            <div className=\"col-xs-12 col-sm-4\" >\r\n                              <div className=\"text-center\">\r\n                                {profile.image &&\r\n                                  <img style={{ maxWidth: '125px' }} className=\"thumbnail inline no-margin-bottom\" alt=\"Anh dai dien\" src={`http://cntt.qk7.bqp:8000${(profile.image).replace(\"http://cntt.qk7.bqp:8000\", \"\")}`} />\r\n                                }\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"col-xs-12 col-sm-8\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }}>\r\n                              <div className=\"profile-user-info profile-user-info-striped \" >\r\n\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\" style={{ color: \"green\" }}>\r\n                                    <i className=\"ace-icon fa fa-user bigger-110\"></i> &nbsp;\r\n                                    {profile?.first_name}\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\" >\r\n                                    <i className=\"ace-icon fa fa-eye bigger-110\"></i> &nbsp;\r\n                                    {profile?.last_name}\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\"  >\r\n                                    <i className=\"ace-icon fa fa-envelope-o bigger-110\"></i> &nbsp;\r\n                                    {user?.email}\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\"  >\r\n                                    <i className=\"ace-icon fa fa-phone bigger-110\"></i> &nbsp;\r\n                                    {profile?.phone}\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\"  >\r\n                                    <i className=\"ace-icon fa fa-cogs bigger-110\"></i> &nbsp;\r\n                                    {(() => {\r\n                                      switch (String(profile?.groups)) {\r\n                                        case '1': return <span>Qun tr h thng</span>;\r\n                                        case '2': return <span>Ch tr phng hp</span>;\r\n                                        case '3': return <span>Thnh vin</span>;\r\n                                        default: return <span>Thnh vin</span>;\r\n                                      }\r\n                                    })()}\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\"  >\r\n                                    <i className=\"ace-icon fa fa-clock-o bigger-110\"></i> &nbsp; Login mi nht:&nbsp;\r\n                                    {moment(profile?.last_login).format(\"DD/MM/YYYY\").toString()}\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"hr hr-dotted hr-6\"></div>\r\n                          <div className=\"width-100 \">\r\n                            <button className=\" btn-primary \" title=\"Chnh sa thng tin ti khon\"\r\n                              onClick={handleSetStateEdit}\r\n                            >\r\n                              <i className=\"ace-icon fa fa-pencil-square-o\"></i>\r\n                              &nbsp; Chnh sa&nbsp;\r\n                            </button>\r\n\r\n                          </div>\r\n                          <div className=\"hr hr-dotted hr-6\"></div>\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"widget-box\">\r\n                    <div className=\"widget-header\">\r\n                      <h4 className=\"widget-title\">\r\n                        Gii thiu\r\n                      </h4>\r\n                    </div>\r\n                    <div className=\"widget-body\" style={{ flex: 1, maxHeight: '52vh', overflowY: 'auto' }}>\r\n                      <div className=\"widget-main\">\r\n                        <div className=\"col-xs-12 col-sm-12\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\", textAlign: \"left\" }}>\r\n                          <div className=\"row\"  >\r\n                            <div className=\"col-xs-12 col-sm-12\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }}>\r\n                              <div className=\"profile-user-info profile-user-info-striped \" >\r\n\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\" style={{ color: \"green\" }}>\r\n                                    <i className=\"ace-icon fa fa-th bigger-110\"></i> &nbsp;\r\n                                    H thng hi ngh truyn hnh ng dng c Ban Cng ngh thng tin Qun khu 7 pht trin da trn nn tng m ngun m.\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\" >\r\n                                    <i className=\"ace-icon fa fa-cogs bigger-110\"></i> &nbsp;\r\n                                    C dy  cc tnh nng qun tr, lp lch hp cho nhiu cuc Hi ngh ng thi.\r\n                                    Ngi iu hnh hoc qun tr c th iu khin cuc hp thng qua giao din iu khin.\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\" >\r\n                                    <i className=\"ace-icon fa fa-phone bigger-110\"></i> &nbsp;\r\n                                    Thng tin h tr: Email: hieunk_qk7@mail.bqp - ST: 0982.252.254\r\n                                  </div>\r\n                                </div>\r\n\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"hr hr-dotted hr-6\"></div>\r\n\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Modal\r\n          open={stateEdit}\r\n          aria-labelledby=\"simple-modal-title\"\r\n          aria-describedby=\"simple-modal-description\"\r\n        >\r\n          <UpdateProfile profile={profile} setStateEdit={setStateEdit} />\r\n        </Modal>\r\n\r\n        <Footer />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default withRouter(Dashboard);","import { toastOnError } from \"../../utils/Utils\";\r\nimport { TOGGLE_AUDIO_ALL, TOGGLE_AUDIO, TOGGLE_VIDEO_ALL, TOGGLE_FULL_ALL, SET_JITSI_STORE, GET_MEET_ROOM } from \"./JitsiTypes\";\r\nimport axios from \"axios\";\r\nexport const setAudioAll = (stateAudioAll) => dispatch => {\r\n  dispatch({\r\n    type: TOGGLE_AUDIO_ALL,\r\n    payload: stateAudioAll\r\n  });\r\n};\r\nexport const setAudio = (stateAudio) => dispatch => {\r\n  dispatch({\r\n    type: TOGGLE_AUDIO,\r\n    payload: stateAudio\r\n  });\r\n};\r\nexport const setVideoAll = (stateVideoAll) => dispatch => {\r\n  dispatch({\r\n    type: TOGGLE_VIDEO_ALL,\r\n    payload: stateVideoAll\r\n  });\r\n};\r\n\r\nexport const setFullAll = (stateFullAll) => dispatch => {\r\n  dispatch({\r\n    type: TOGGLE_FULL_ALL,\r\n    payload: stateFullAll\r\n  });\r\n};\r\n\r\nexport const setJitsiStore = (jitsiStore) => dispatch => {\r\n  dispatch({\r\n    type: SET_JITSI_STORE,\r\n    payload: jitsiStore\r\n  });\r\n};\r\n\r\nexport const getMeetRoom = (id) => async dispatch => {\r\n  await axios\r\n    .get(`/api/v1/room/${id}/`)\r\n    .then(response => {\r\n      // console.log(response.data)\r\n      dispatch({\r\n        type: GET_MEET_ROOM,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter, useHistory, useParams } from \"react-router-dom\";\r\nimport Select from \"react-select\";\r\nimport ProgressComponent from '@material-ui/core/CircularProgress';\r\nimport { getMeetRoom } from \"./JitsiActions\"\r\nimport Header from \"../common/Header\";\r\nimport Menubar from \"../common/Menubar\";\r\nimport Footer from \"../common/Footer\";\r\nimport { getUsers, getProfiles, getProfile} from '../users/UserActions';\r\nimport RecentActorsIcon from '@material-ui/icons/RecentActors';\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport AppsIcon from '@material-ui/icons/Apps';\r\nimport CropOriginalIcon from '@material-ui/icons/CropOriginal';\r\nimport socketIOClient from \"socket.io-client\";\r\nimport moment from 'moment';\r\nimport Clock from 'react-clock';\r\nimport 'react-clock/dist/Clock.css';\r\nconst USER_JOIN_CHAT_EVENT = \"USER_JOIN_CHAT_EVENT\";\r\nconst USER_LEAVE_CHAT_EVENT = \"USER_LEAVE_CHAT_EVENT\";\r\nconst JITSI_AUDIO_ONE = \"JITSI_AUDIO_ONE\";\r\nconst SVR_JITSI_AUDIO_ONE = \"SVR_JITSI_AUDIO_ONE\";\r\nconst JITSI_AUDIO_ALL = \"JITSI_AUDIO_ALL\";\r\nconst SVR_JITSI_AUDIO_ALL = \"SVR_JITSI_AUDIO_ALL\";\r\nconst JITSI_VIDEO_ONE = \"JITSI_VIDEO_ONE\";\r\nconst SVR_JITSI_VIDEO_ONE = \"SVR_JITSI_VIDEO_ONE\";\r\nconst JITSI_VIDEO_ALL = \"JITSI_VIDEO_ALL\";\r\nconst SVR_JITSI_VIDEO_ALL = \"SVR_JITSI_VIDEO_ALL\";\r\nconst JITSI_FILMSTRIP = \"JITSI_FILMSTRIP\";\r\nconst SVR_JITSI_FILMSTRIP = \"SVR_JITSI_FILMSTRIP\";\r\nconst JITSI_TOGGLE_VIEW = \"JITSI_TOGGLE_VIEW\";\r\nconst SVR_JITSI_TOGGLE_VIEW = \"SVR_JITSI_TOGGLE_VIEW\";\r\nconst JITSI_TOGGLE_DESKTOP = \"JITSI_TOGGLE_DESKTOP\";\r\nconst SVR_JITSI_TOGGLE_DESKTOP = \"SVR_JITSI_TOGGLE_DESKTOP\";\r\nconst SVR_JITSI_HANGUP = \"SVR_JITSI_HANGUP\";\r\nconst JITSI_HANGUP = \"JITSI_HANGUP\";\r\nconst SVR_JITSI_HANGUP_ALL = \"SVR_JITSI_HANGUP_ALL\";\r\nconst JITSI_HANGUP_ALL = \"JITSI_HANGUP_ALL\";\r\nconst JITSI_STOP_SHARE = \"JITSI_STOP_SHARE\";\r\nconst SVR_JITSI_STOP_SHARE = \"SVR_JITSI_STOP_SHARE\";\r\nconst JITSI_TILE_VIEW = \"JITSI_TILE_VIEW\";\r\nconst SVR_JITSI_TILE_VIEW = \"SVR_JITSI_TILE_VIEW\";\r\n\r\n\r\nconst SOCKET_SERVER_URL = \"http://localhost:4000\";\r\n\r\nconst JitsiMeetAdmin = () => {\r\n    const { roomId } = useParams();\r\n    const user_auth = useSelector((state) => state.auth.user);\r\n    // const profile = useSelector((state) => state.auth.profileUser);\r\n    const roomMeet = useSelector(state => state.jitsi.meetroom)\r\n    const dataUser = useSelector(state => state.users.data);\r\n    const profiles = useSelector(state => state.profiles.data);\r\n    // const profile = useSelector(state => state.profile.data);\r\n    const profile = useSelector((state) => state.auth.profile);\r\n    // console.log(profile)\r\n    const fullname = profile.last_name\r\n    const [users, setUsers] = useState([]);\r\n    const socketRef = useRef();\r\n\r\n    const dispatch = useDispatch();\r\n    \r\n    useEffect(() => {\r\n        dispatch(getUsers())\r\n        // dispatch(getProfile(user_auth.id))\r\n        dispatch(getProfiles())\r\n        dispatch(getMeetRoom(roomId));\r\n    }, [])\r\n\r\n    const [value, setValue] = useState(new Date());\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(\r\n            () => setValue(new Date()),\r\n            1000\r\n        );\r\n        return () => {\r\n            clearInterval(interval);\r\n        }\r\n    }, []);\r\n\r\n    const domain = 'meet.jit.si';\r\n    let api = {};\r\n    const [_api, setApi] = useState();\r\n    const [room, setRoom] = useState(\"CNTTQK7\");\r\n\r\n    const [isAudioMuted, setIsAudioMuted] = useState();\r\n    const [isAudioMutedAll, setIsAudioMutedAll] = useState(false);\r\n    const [isVideoMuted, setIsVideoMuted] = useState();\r\n    const [isTileView, setIsTileView] = useState(false);\r\n    const [isTileViews, setIsTileViews] = useState([]);\r\n    const [isFilmstrip, setIsFilmstrip] = useState(false);\r\n    const [isFullDestop, setIsFullDestop] = useState(false);\r\n    const [dominantSpeaker, setDominantSpeaker] = useState();\r\n    // const [meId, setMeId] = useState();\r\n\r\n    const [jitsiUser, setJitsiUser] = useState();\r\n\r\n    // const [raiseHand, setRaiseHand] = useState();\r\n    const [raiseHandNew, setRaiseHandNew] = useState([]);\r\n    const [sharingParticipants, setSharingParticipants] = useState([]);\r\n    // const [endpointTextMessageReceived, setEndpointTextMessageReceived] = useState();\r\n\r\n    const [numberOfParticipants, setNumberOfParticipants] = useState();\r\n    // const [incomingMessage, setIncomingMessage] = useState();\r\n    const incomingMessages = ['microphone', 'camera', 'chat', 'hangup', 'fullscreen', 'tileview'];\r\n    // const [outgoingMessage, setOutgoingMessage] = useState();\r\n\r\n    // const [displayName2, setDisplayName2] = useState();\r\n    // const [displayName3, setDisplayName3] = useState();\r\n    const [participants, setParticipants] = useState([]);\r\n    const [idLeave, setIdLeave] = useState();\r\n    const [availableDevices, setAvailableDevices] = useState([]);\r\n    // const [stateAudioAll, setStateAudioAll] = useState(false);\r\n    // const [audio_Input, setAudio_Input] = useState();\r\n    // const [audio_Output, setAudio_Output] = useState();\r\n    const [video_Input, setVideo_Input] = useState();\r\n    // const [webcamId, setWebcamId] = useState(\"\");\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const history = useHistory();\r\n\r\n    const jitsiContainerStyle = {\r\n        display: (loading ? 'none' : 'block'),\r\n        width: '100%',\r\n        height: '100%',\r\n    }\r\n\r\n    const startMeet = () => {\r\n        const options = {\r\n            roomName: 'cnttqk7',\r\n            // password:password,\r\n            width: '100%',\r\n            height: \"100%\",\r\n            configOverwrite: {\r\n                localRecording: {\r\n                    enabled: true,\r\n                },\r\n                fileRecordingsServiceEnabled: true,\r\n                fileRecordingsEnabled: true,\r\n                prejoinPageEnabled: false,\r\n            },\r\n            interfaceConfigOverwrite: {\r\n                filmStripOnly: false,\r\n                SHOW_JITSI_WATERMARK: false,\r\n                SHOW_WATERMARK_FOR_GUESTS: false,\r\n                DISABLE_DOMINANT_SPEAKER_INDICATOR: true,\r\n                // TILE_VIEW_MAX_COLUMNS: 4,\r\n                // TOOLBAR_BUTTONS: ['microphone', 'camera', 'chat', 'hangup', 'desktop', 'tileview', 'fullscreen'],\r\n            },\r\n            parentNode: document.querySelector('#jitsi-iframe'),\r\n            userInfo: { displayName: fullname, }\r\n        }\r\n        api = new window.JitsiMeetExternalAPI(domain, options);\r\n        setApi(api)\r\n        api.addEventListener('videoConferenceJoined', (object) => {\r\n            // setMeId(object.id)\r\n            setLoading(false);\r\n        });\r\n        api.addEventListeners({\r\n            readyToClose: handleClose,\r\n            participantLeft: handleParticipantLeft,\r\n            participantJoined: handleParticipantJoined,\r\n            videoConferenceJoined: handleVideoConferenceJoined,\r\n            videoConferenceLeft: handleVideoConferenceLeft,\r\n            audioMuteStatusChanged: handleMuteStatus,\r\n            videoMuteStatusChanged: handleVideoStatus,\r\n            tileViewChanged: handleTileViewStatus,\r\n            filmstripDisplayChanged: handleFilmstripDisplayChanged,\r\n            dominantSpeakerChanged: handleDominantSpeaker,\r\n            // avatarChanged: handleAvatarChanged,\r\n            raiseHandUpdated: handleRaiseHandUpdated,\r\n            // endpointTextMessageReceived: handleEndpointTextMessageReceived,\r\n            // incomingMessage: incomingMessageListener,\r\n            // outgoingMessage: outgoingMessageListener,\r\n            contentSharingParticipantsChanged: handleContentSharingParticipantsChanged,\r\n        });\r\n        api.executeCommand('subject', roomMeet.Subject);\r\n        api.executeCommand('toggleTileView')\r\n        // api.executeCommand('avatarUrl', 'assets/images/avatars/user.jpg');\r\n        // api.getCurrentDevices().then(devices => {\r\n        //     setCurrentDevices(devices)\r\n        // });\r\n        api.getAvailableDevices().then(devices => {\r\n            setAvailableDevices(devices)\r\n        });\r\n    }\r\n\r\n    const handleClose = () => {\r\n        console.log(\"handleClose\");\r\n    }\r\n    const handleParticipantLeft = async (participant) => {\r\n        // console.log(\"handleParticipantLeft\", participant); // { id: \"2baa184e\" }\r\n        setIdLeave(participant)\r\n    }\r\n    // console.log(_api)\r\n    const handleParticipantJoined = async (participant) => {\r\n        // console.log(\"handleParticipantJoined\", participant); // { id: \"2baa184e\", displayName: \"Shanu Verma\", formattedDisplayName: \"Shanu Verma\" }\r\n        // setMe_Id(participant)\r\n        console.log(participant)\r\n        const data = await getParticipants();\r\n        setParticipants(data)\r\n        const data2 = await getNumberOf();\r\n        setNumberOfParticipants(data2)\r\n    }\r\n    const handleVideoConferenceJoined = async (participant) => {\r\n        // console.log(\"handleVideoConferenceJoined\", participant); // { roomName: \"bwb-bfqi-vmh\", id: \"8c35a951\", displayName: \"Akash Verma\", formattedDisplayName: \"Akash Verma (me)\"}\r\n        // const data = await getParticipants();\r\n        setJitsiUser(participant)\r\n    }\r\n    // console.log(jitsiUser?.id)\r\n    const handleVideoConferenceLeft = () => {\r\n        // console.log(\"handleVideoConferenceLeft\");\r\n        return history.push('/');\r\n    }\r\n    const handleMuteStatus = (muted) => {\r\n        // console.log(\"handleMuteStatus\", muted); // { muted: true } \r\n        setIsAudioMuted(muted)\r\n    }\r\n    // console.log(isAudioMuted)\r\n    const handleVideoStatus = (video) => {\r\n        // console.log(\"handleVideoStatus\", video); // { muted: true }\r\n        setIsVideoMuted(video)\r\n    }\r\n    // console.log(isVideoMuted)\r\n    const handleTileViewStatus = (tileview) => {\r\n        // console.log(\"handleTileViewStatus\", tileview); // { enabled: true }\r\n        setIsTileView(tileview.enabled)\r\n    }\r\n    const handleFilmstripDisplayChanged = (filmstrip) => {\r\n        // console.log(\"handleTileViewStatus\", filmstrip); // { muted: true }\r\n        setIsFilmstrip(filmstrip.visible)\r\n    }\r\n    //Tao nut lenh dieu khien chung\r\n    const handleMuteAudioAll = () => {\r\n        _api.executeCommand('muteEveryone');\r\n        setIsAudioMutedAll(!isAudioMutedAll)\r\n    }\r\n    // Tao nut lenh dieu khien cuc bo\r\n    const handleToggleCameraMirror = () => {\r\n        _api.executeCommand('toggleCameraMirror');\r\n    }\r\n    //Cc lenh chua duoc\r\n    // const handleSetVideoQuality = () => {\r\n    //     _api.executeCommand('setVideoQuality', 720);//Chua duoc\r\n    // }\r\n    // const handleSendTones = () => {//Khong duoc\r\n    //     _api.executeCommand('sendTones', {\r\n    //         tones: '12345#',\r\n    //         duration: 200,\r\n    //         pause: 200\r\n    //     });\r\n    // }\r\n    // const handlesStartShareVideo = () => {\r\n    //     _api.executeCommand('startShareVideo', \"assets/vdeos/videoqk7.mp4\");//Chua duoc\r\n    // }\r\n    // const handlesStopShareVideo = () => {\r\n    //     _api.executeCommand('stopShareVideo');//Chua duoc\r\n    // }\r\n    // Nhan thong bao\r\n    // function incomingMessageListener(object) {\r\n    //     incomingMessages.push(object)\r\n    //     setIncomingMessage(incomingMessages)\r\n    // }\r\n    // useEffect(() => {\r\n    //     incomingMessages.push(incomingMessage)\r\n    // }, [incomingMessage])\r\n    // function outgoingMessageListener(object) {\r\n    //     setOutgoingMessage(object)\r\n    // }\r\n    // console.log(incomingMessage)\r\n    // console.log(availableDevices)\r\n    //Gui thong bao chua duoc\r\n    // const handleEndpointTextMessageReceived = (message) => {\r\n    //     console.log(\"handleEndpointTextMessageReceived\", message); //Chua duoc\r\n    //     setEndpointTextMessageReceived(message)\r\n    // }\r\n    const handleContentSharingParticipantsChanged = (data) => {\r\n        console.log(\"handleContentSharingParticipantsChanged\", data);\r\n        setSharingParticipants(data.data)\r\n    }\r\n    // console.log(sharingParticipants)\r\n\r\n    // console.log(endpointTextMessageReceived)\r\n    // const handleSendChatMessage = () => {\r\n    //     // _api.executeCommand('sendEndpointTextMessage', '99eafe21', 'text'); //Khong duoc\r\n    //     _api.executeCommand('sendChatMessage',\r\n    //         {\r\n    //             message: 'Hieu gui sao khong dc',\r\n    //             to: '89e539fa',\r\n    //             ignorePrivacy: false\r\n    //         });\r\n    // }\r\n\r\n    // const handleRemoveEventListeners = () => {\r\n    //     _api.removeEventListeners('incomingMessage');//chua duoc\r\n    // }\r\n    // const handleToggleCamera = () => {\r\n    //     _api.executeCommand('toggleCamera');//chua duoc\r\n    // }\r\n    const handleToggleVirtualBackgroundDialog = () => {\r\n        _api.executeCommand('toggleVirtualBackgroundDialog');//chua duoc\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (window.JitsiMeetExternalAPI && Object.entries(profile).length !== 0) {\r\n            startMeet();\r\n        } \r\n        // else {\r\n        //     alert('JitsiMeetExternalAPI not loaded');\r\n        // }\r\n    }, [profile])\r\n\r\n    //Nhan va tao bang Thanh vien join\r\n    const handleDominantSpeaker = (speaker) => {\r\n        console.log(\"DominantSpeaker\", speaker);\r\n        setDominantSpeaker(speaker.id)\r\n        // const dispName = api.getDisplayName(speaker.id)\r\n        // setDisplayName2(dispName)\r\n    }\r\n    // const handleAvatarChanged = (aV) => {\r\n        // console.log(\"handleAvatarChanged\", aV);\r\n        // console.log(aV.id);\r\n        // const dispName = api.getDisplayName(aV.id)\r\n        // setDisplayName3(dispName)\r\n    // }\r\n    const handleRaiseHandUpdated = (raise) => {\r\n        // setRaiseHand(raise)\r\n        const index = raiseHandNew.findIndex((rH) => rH.id === raise.id)\r\n        if (index !== -1) {\r\n            const rHCopy = [...raiseHandNew]\r\n            rHCopy[index].handRaised\r\n                ? rHCopy[index].handRaised = false\r\n                : rHCopy[index].handRaised = true\r\n            setRaiseHandNew([...raiseHandNew, rHCopy])\r\n        } else {\r\n            raiseHandNew.push(raise)\r\n            setRaiseHandNew([...raiseHandNew, raiseHandNew])\r\n        }\r\n\r\n    }\r\n    // console.log(raiseHandNew)\r\n    const getParticipants = () => {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                resolve(api.getParticipantsInfo()); // get all participants\r\n            }, 500)\r\n        });\r\n    }\r\n    const getNumberOf = () => {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                resolve(api.getNumberOfParticipants());\r\n            }, 500)\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n    //Nhan va tao select box Audio, Camera\r\n    // const audioInputs = availableDevices.audioInput?.map(au => {\r\n    //     return { \"value\": au.deviceId, \"label\": au.label }\r\n    // })\r\n    // const videoInputs = availableDevices.videoInput?.map(v => {\r\n    //     return { \"value\": v.deviceId, \"label\": v.label }\r\n    // })\r\n    // const audioOutputs = availableDevices.audioOutput?.map(v => {\r\n    //     return { \"value\": v.deviceId, \"label\": v.label }\r\n    // })\r\n    // const handleAudioInput = (audio_Input) => {\r\n    //     setAudio_Input(audio_Input)\r\n    //     _api.setVideoInputDevice(audio_Input.lable, audio_Input.value);\r\n    //     console.log(video_Input)\r\n    // }\r\n    // const handleVideoInput = (video_Input) => {\r\n    //     setVideo_Input(video_Input)\r\n    //     setWebcamId(video_Input.value)\r\n    //     _api.setVideoInputDevice(video_Input.lable, video_Input.value);\r\n    //     // console.log(audio_Input)\r\n    // }\r\n    // const handleAudioOutput = (audio_Output) => {\r\n    //     setAudio_Output(audio_Output)\r\n    //     _api.setVideoInputDevice(audio_Output.lable, audio_Output.value);\r\n    // }\r\n    // const videoConstraints = {\r\n    //     deviceId: webcamId\r\n    // };\r\n\r\n    //Socket IO\r\n    useEffect(() => {\r\n        if (!fullname || !jitsiUser?.id) {\r\n            return;\r\n        }\r\n        // socketRef.current = socketIOClient(SOCKET_SERVER_URL);\r\n        socketRef.current = socketIOClient(SOCKET_SERVER_URL, {\r\n            query: { roomId, userId: user_auth.id, fullname, jitsiUserId: jitsiUser?.id, isAudioMuted: isAudioMuted.muted, isVideoMuted: isVideoMuted.muted, isTileView },\r\n        });\r\n        socketRef.current.on(\"connect\", () => {\r\n            console.log(socketRef.current.id);\r\n        });\r\n        socketRef.current.on(USER_JOIN_CHAT_EVENT, (users) => {\r\n            // if (user.socketId === socketRef.current.id) return;\r\n            setUsers(users);\r\n        });\r\n        socketRef.current.on(USER_LEAVE_CHAT_EVENT, (user) => {\r\n            setUsers((users) => users.filter((u) => u.userId !== user_auth.id));\r\n        });\r\n        socketRef.current.on(SVR_JITSI_AUDIO_ONE, (id) => {\r\n            // const index = participants.findIndex(p=>p.participantId===id)\r\n            // if(index !==-1) \r\n            _api.executeCommand('toggleAudio');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_STOP_SHARE, (id) => {\r\n            _api.executeCommand('toggleShareScreen');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_TILE_VIEW, (id) => {\r\n            _api.executeCommand('toggleTileView');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_AUDIO_ALL, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleAudio');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_VIDEO_ONE, (id) => {\r\n            // console.log(id)\r\n            _api.executeCommand('toggleVideo');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_VIDEO_ALL, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleVideo');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_FILMSTRIP, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleFilmStrip');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_TOGGLE_VIEW, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleTileView');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_HANGUP_ALL, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('hangup');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_HANGUP, (data) => {\r\n            _api.executeCommand('hangup');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_TOGGLE_DESKTOP, (data) => {\r\n            if (data.isFullDestop) {\r\n                _api.executeCommand('setLargeVideoParticipant', data.id);\r\n            } else {\r\n                _api.executeCommand('setLargeVideoParticipant');\r\n            }\r\n\r\n        });\r\n        return () => {\r\n            socketRef.current.disconnect();\r\n        };\r\n    }, [roomId, jitsiUser, isAudioMuted, isVideoMuted, isTileView]);\r\n\r\n    const audioClick = (id) => {\r\n        // console.log(users)\r\n        // console.log(id)\r\n        if (audioClick) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_AUDIO_ONE,\r\n                // idSocket: socketRef.current.id,\r\n                id\r\n            );\r\n        }\r\n    }\r\n    const videoClick = (id) => {\r\n        if (videoClick) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_VIDEO_ONE,\r\n                id\r\n            );\r\n        }\r\n    }\r\n    const stopShareVideoClick = (id) => {\r\n        if (stopShareVideoClick) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_STOP_SHARE,\r\n                id\r\n            );\r\n        }\r\n    }\r\n    const tileViewClick = (id) => {\r\n        if (tileViewClick) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_TILE_VIEW,\r\n                id\r\n            );\r\n        }\r\n    }\r\n    const handleMuteEveryoneCamera = () => {\r\n        if (handleMuteEveryoneCamera) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_VIDEO_ALL,\r\n                roomId\r\n            );\r\n        }\r\n    }\r\n    const handleMuteEveryone = () => {\r\n        if (handleMuteEveryone) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_AUDIO_ALL,\r\n                roomId\r\n            );\r\n        }\r\n    }\r\n    const handleToggleFilmStrip = () => {\r\n        if (!socketRef.current) return;\r\n        socketRef.current.emit(JITSI_FILMSTRIP,\r\n            roomId\r\n        );\r\n    }\r\n    const handleToggleTileView = () => {\r\n        if (!socketRef.current) return;\r\n        socketRef.current.emit(JITSI_TOGGLE_VIEW,\r\n            roomId\r\n        );\r\n    }\r\n    // const handleToggleDesktopClick = (id) => {\r\n    //     if (!socketRef.current) return;\r\n    //     if(handleToggleDesktopClick){\r\n    //         socketRef.current.emit(JITSI_TOGGLE_DESKTOP,\r\n    //             id\r\n    //         );\r\n    //     }\r\n    //     // setIsFullDestop()\r\n    // }\r\n    const handleLargeVideoParticipant = (id) => {\r\n        if (!socketRef.current) return;\r\n        setIsFullDestop(!isFullDestop)\r\n        socketRef.current.emit(JITSI_TOGGLE_DESKTOP,\r\n            { id, roomId, isFullDestop }\r\n        );\r\n    }\r\n    // console.log(isFullDestop)\r\n    const handleHangupAll = () => {\r\n        if (!socketRef.current) return;\r\n        socketRef.current.emit(JITSI_HANGUP_ALL,\r\n            roomId\r\n        );\r\n    }\r\n    const handleHangup = (id) => {\r\n        if (!socketRef.current) return;\r\n        socketRef.current.emit(JITSI_HANGUP,\r\n            id\r\n        );\r\n    }\r\n    const participantView = participants.map((p, index) => {\r\n        if (p.participantId !== idLeave?.id)\r\n            return (\r\n                <tr key={index}>\r\n                    {/* <td>{index + 1}</td> */}\r\n                    <td style={{ color: \"green\", fontWeight: \"bold\" }}>{p.displayName}</td>\r\n                    {/* <td>{p.participantId}</td> */}\r\n                    <td>\r\n                        {raiseHandNew?.find((rH) => rH?.id === p.participantId)?.handRaised ? <i className=\"ace-icon fa fa-hand-paper-o  green bigger-120\" /> : \"\"}\r\n                        &nbsp;{p.participantId === dominantSpeaker ? (<i className=\"ace-icon fa fa-volume-up green bigger-120\" />) : \"\"}\r\n                        &nbsp;{sharingParticipants?.find((sP) => sP === p.participantId) ? <i className=\"ace-icon fa fa-share  green bigger-120\" /> : \" \"}\r\n                    </td>\r\n\r\n                    {/* {raiseHand?.find((rH)=> rH.id === p.participantId)?.handRaised} */}\r\n                    <td>\r\n                        <span className=\"vbar\" />\r\n                        <button className=\"blue\" onClick={() => audioClick(p.participantId)} title=\"Tt/M mc thnh vin\">\r\n                            {users?.find((u) => u?.jitsiUserId === p.participantId)?.isAudioMuted !== 'true' ? (<i className=\"ace-icon fa fa-microphone green\" />) : (<i className=\"ace-icon fa fa-microphone-slash red\" />)}\r\n                            {/* {users.find((u)=>u.jitsiUserId===p.participantId)?.userId} */}\r\n                        </button>\r\n                        <span className=\"vbar\" />\r\n                        <button className=\"blue\" onClick={() => videoClick(p.participantId)} title=\"Tt/M Camera thnh vin\">\r\n                            {users?.find((u) => u?.jitsiUserId === p.participantId)?.isVideoMuted !== 'true' ? (<i className=\"ace-icon fa fa-video-camera green\" />) : (<i className=\"ace-icon fa fa-video-camera red\" />)}\r\n                        </button>\r\n                        <span className=\"vbar\" />\r\n                        <button className=\"blue\" onClick={() => stopShareVideoClick(p.participantId)} title=\"Tt/M chia s mn hnh thnh vin\">\r\n                            {sharingParticipants?.find((sP) => sP === p.participantId) ? <i className=\"ace-icon fa fa-share  green \" /> : <i className=\"ace-icon fa fa-share \" />}\r\n                        </button>\r\n                        <span className=\"vbar\" />\r\n                        <button className=\"blue\" onClick={() => tileViewClick(p.participantId)} title=\"Thit lp kiu hin th thnh vin\">\r\n                            {users?.find((u) => u?.jitsiUserId === p.participantId)?.isTileView === 'true' ? (<i className=\"ace-icon fa fa-th green\" />) : (<i className=\"ace-icon fa fa-th red\" />)}\r\n                        </button>\r\n                        <span className=\"vbar\" />\r\n                        {/* <button className=\"blue\" onClick={() => handleLargeVideoParticipant(p.participantId)}>\r\n                            <i className=\"ace-icon fa fa-image red \" />\r\n                        </button> */}\r\n                        <span className=\"vbar\" />\r\n                        <button className=\"blue\" onClick={() => handleHangup(p.participantId)} title=\"Ngt kt ni thnh vin\">\r\n                            <i className=\"ace-icon fa fa-power-off red \" />\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n    });\r\n    const ps = participants.map(p => {\r\n        if (p.participantId !== idLeave?.id)\r\n            return p?.displayName\r\n    })\r\n    const rU = roomMeet.User_room\r\n    const List_user_room = dataUser && rU && dataUser.filter(items => rU.includes(items.id))\r\n    const List_user_room_filter = List_user_room && profiles && List_user_room.filter(items => !ps.includes(profiles?.find(p => p.user === items.id)?.last_name)).map((item, index) => {\r\n        return (\r\n            <tr key={index} >\r\n                {/* <td >\r\n                    {index + ps?.length + 1}\r\n                </td> */}\r\n                <td >\r\n                {profiles && profiles.find(p => p.user === item.id)?.last_name ? profiles?.find(p => p.user === item.id)?.last_name : item.username}\r\n                </td>\r\n                <td >\r\n                    <span ></span>\r\n                </td>\r\n                <td >\r\n                    <span ></span>\r\n                </td>\r\n            </tr>\r\n        )\r\n    })\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n                <Menubar />\r\n                <div className=\"main-content\">\r\n                    <div className=\"main-content-inner\" >\r\n                        {roomMeet &&\r\n                            <div className=\"row\">\r\n                                {loading && <><b style={{ marginLeft: '40%', marginTop: '30%', width: \"100px\", height: \"100px\" }}>ang kt ni vo h thng ...</b> <br/><ProgressComponent style={{ marginLeft: '45%', marginTop: '25%', width: \"100px\", height: \"100px\" }} /></>}\r\n\r\n                                {/* { (user_auth.user.rules == \"1\" || user_auth.user.rules == \"0\") && ( */}\r\n                                {/* <div style={{ display: 'flex', height: '100vh', marginRight: '0px', overflow: 'scroll initial' }} > */}\r\n\r\n                                <div className=\"col-xs-12 col-sm-7\"  >\r\n                                    <div className=\"widget-box\" style={{ display: (loading ? 'none' : 'block'), marginRight: '0px' }}>\r\n                                        {/* <div className=\"widget-header\">\r\n                                            <h4 className=\"widget-title\" style={{ textAlign: \"center\" }}>{roomMeet.Subject}</h4>\r\n                                        </div> */}\r\n                                        <div className=\"row\" style={{ display: 'flex', height: '56vh', marginRight: '0px', justifyContent: \"center\" }}>\r\n                                            {/* {displayName2 && dominantSpeaker !== meId && <div style={{ position: 'fixed', marginTop: '47vh', fontSize: \"18px\", fontWeight: \"bold\", backgroundColor: \"gray\", color: \"white\" }}>&nbsp;{displayName2}&nbsp;</div>}\r\n                                            {displayName3 && dominantSpeaker === meId && <div style={{ position: 'fixed', marginTop: '47vh', fontSize: \"18px\", fontWeight: \"bold\", backgroundColor: \"gray\", color: \"white\" }}>&nbsp;{displayName3}&nbsp;</div>} */}\r\n                                            <div id=\"jitsi-iframe\" style={jitsiContainerStyle} ></div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"widget-box\" style={{ display: (loading ? 'none' : 'block'), marginRight: '0px' }}>\r\n                                        <div class=\"widget-header\">\r\n                                            <h5 class=\"widget-title\"><i class=\"ace-icon fa fa-cog\"></i>Thit lp giao din hin th cho h thng</h5>\r\n                                        </div>\r\n                                        <div class=\"widget-body\">\r\n                                            <div className=\"widget-main\" >\r\n                                                <div className=\"row\" style={{ marginLeft: \"-12px\", marginRight: \"-12px\" }} >\r\n                                                    <div className=\"col-xs-12 col-sm-6\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }}>\r\n                                                        <div className=\"profile-user-info profile-user-info-striped\">\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" > Chn giao din </div>\r\n                                                                <div className=\"profile-info-value\" style={{ width: \"180px\" }} >\r\n                                                                    <span>\r\n                                                                        <button className=\"pull-center btn-sm btn-white btn-round\" type=\"button\" onClick={handleToggleTileView} title=\"Chn mt hoc nhiu hnh nh thnh vin\">\r\n                                                                            &nbsp;&nbsp;{isTileView && isTileView ? <CropOriginalIcon style={{ fontSize: 17 }} /> : <AppsIcon style={{ fontSize: 17 }} />}&nbsp;&nbsp;\r\n                                                                        </button>\r\n                                                                        {isTileView === false &&\r\n                                                                            <button className=\"pull-center btn-sm btn-white btn-round\" type=\"button\" onClick={handleToggleFilmStrip} title=\"Tt/M mn hnh cc thnh vin\">\r\n                                                                                &nbsp;&nbsp;{isFilmstrip && isFilmstrip ? <AccountBoxIcon style={{ fontSize: 17 }} /> : <RecentActorsIcon style={{ fontSize: 17 }} />}&nbsp;&nbsp;\r\n                                                                            </button>\r\n                                                                        }\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" >o chiu Camera ti ch</div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span>\r\n                                                                        <button className=\"btn-sm btn-white btn-round\" type=\"button\" onClick={handleToggleCameraMirror} title=\"o chiu Camera\">\r\n                                                                            &nbsp;&nbsp;<i className=\"ace-icon fa fa-camera-retro green bigger-120\" />&nbsp;\r\n                                                                        </button>\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" >Thit lp Market</div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span>\r\n                                                                        <button className=\"pull-center btn-sm btn-white btn-round\" type=\"button\" onClick={handleToggleVirtualBackgroundDialog}>\r\n                                                                            &nbsp;&nbsp;<i className=\"ace-icon fa fa-image green bigger-120\" />&nbsp;\r\n\r\n                                                                        </button>\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"col-xs-12 col-sm-6\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }}>\r\n                                                        <div className=\"profile-user-info profile-user-info-striped\">\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" style={{ width: \"210px\" }} >Tt mc tt c cc thnh vin </div>\r\n                                                                <div className=\"profile-info-value\" >\r\n                                                                    <span>\r\n                                                                        {/* {isAudioMutedAll &&\r\n                                                                            <button className=\" btn-sm btn-white btn-round\" type=\"button\" onClick={handleMuteEveryone} title=\"M mc tt c cc thnh vin\">\r\n                                                                                &nbsp;&nbsp;<i className=\"ace-icon fa fa-microphone green bigger-120\" />&nbsp;&nbsp;\r\n                                                                            </button>\r\n                                                                        } */}\r\n                                                                        {/* { !isAudioMutedAll && */}\r\n                                                                        <button className=\" btn-sm btn-white btn-round\" type=\"button\" onClick={handleMuteAudioAll} title=\"Tt mc tt c cc thnh vin\">\r\n                                                                            &nbsp;&nbsp;<i className=\"ace-icon fa fa-microphone-slash red bigger-120\" />&nbsp;&nbsp;\r\n                                                                        </button>\r\n                                                                        {/* } */}\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" >Tt Camera tt c cc thnh vin </div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span>\r\n                                                                        <button className=\" btn-sm btn-white btn-round\" type=\"button\" onClick={handleMuteEveryoneCamera} title=\"Tt Camera tt c cc thnh vin\">\r\n                                                                            &nbsp;&nbsp;<i className=\"ace-icon fa fa-video-camera red bigger-120\" />&nbsp;\r\n                                                                        </button>\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            {/* <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" >Phng to/Thu nh mn hnh</div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span>\r\n                                                                        <button className=\"pull-center btn-sm btn-white btn-round\" type=\"button\" onClick={handleToggleDesktop} title=\"Phng to/thu nh mn hnh\">\r\n                                                                            &nbsp;&nbsp;{!fs.fullScreen ? (<i className=\"ace-icon fa fa-arrows-alt green bigger-120\" />) : <i className=\"ace-icon fa fa-compress red bigger-120\" />}&nbsp;&nbsp;\r\n                                                                        </button>\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div> */}\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" >Ngt tt c cc thnh vin</div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span>\r\n                                                                        {/* <button className=\"pull-center btn-sm btn-white btn-round\" type=\"button\" onClick={fs.toggle} title=\"Phng to/thu nh mn hnh\"> */}\r\n                                                                        <button className=\"pull-center btn-sm btn-white btn-round\" type=\"button\" onClick={handleHangupAll} title=\"Tt phin hp tt c cc thnh vin\">\r\n                                                                            &nbsp;&nbsp;<i className=\"ace-icon fa fa-power-off red bigger-120\" />&nbsp;&nbsp;\r\n                                                                        </button>\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-xs-12 col-sm-5\" style={{ display: (loading ? 'none' : 'block') }} >\r\n                                    <div class=\"widget-box\">\r\n                                        <div class=\"widget-header\">\r\n                                            <h5 class=\"widget-title\"><i class=\"ace-icon fa fa-desktop\"></i>THNG TIN PHNG HP</h5>\r\n                                        </div>\r\n                                        <div class=\"widget-body\">\r\n                                            <div className=\"widget-main\">\r\n                                                <div class=\"row\" style={{ marginLeft: \"-12px\", marginRight: \"-12px\" }}>\r\n                                                    <div className=\"col-xs-12 col-sm-9\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }}>\r\n                                                        <div className=\"profile-user-info profile-user-info-striped\">\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" >Tiu  hi ngh </div>\r\n                                                                <div className=\"profile-info-value\" style={{ minWidth: \"200px\" }}>\r\n                                                                    <span>{roomMeet.Subject}</span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" > a im ch tr </div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span> {roomMeet.Location}</span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" > Thi gian bt u </div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span>{moment(roomMeet.StartTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\"> Thi gian kt thc </div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span>{moment(roomMeet.EndTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        \r\n                                                    </div>\r\n                                                    <div className=\"col-xs-12 col-sm-3\" style={{ display: 'flex', paddingLeft: \"0px\", paddingRight: \"0px\", justifyContent: \"center\" }}>\r\n                                                            <Clock\r\n                                                                value={value}\r\n                                                                size={120}\r\n                                                            />\r\n                                                        </div>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\r\n                                    <div class=\"widget-box\">\r\n                                        <div class=\"widget-header\">\r\n                                            <h5 class=\"widget-title\"><i class=\"ace-icon fa fa-credit-card \"></i>Danh sch thnh vin hi ngh: {numberOfParticipants} / {List_user_room_filter?.length} thnh vin</h5>\r\n                                        </div><div class=\"widget-body\">\r\n                                            <div className=\"widget-main\" style={{ flex: 1, maxHeight: '55vh', overflowY: 'auto' }}>\r\n                                                <div class=\"row\">\r\n                                                    {/* <JitsiControl _api={_api} roomId={roomId} jitsiUser={jitsiUser} participants={participants} raiseHandNew={raiseHandNew} dominantSpeaker={dominantSpeaker} isAudioMuted={isAudioMuted} isVideoMuted={isVideoMuted} List_user_room={List_user_room} idLeave={idLeave} isFilmstrip={isFilmstrip} isTileView={isTileView} handleToggleTileView={handleToggleTileView} /> */}\r\n                                                    <div className=\"control-group\">\r\n                                                        <div className=\"dataTables_wrapper form-inline no-footer\">\r\n                                                            <table id=\"simple-table\" className=\"table  table-bordered table-hover\">\r\n                                                                <thead>\r\n                                                                    <tr>\r\n                                                                        {/* <th >TT</th> */}\r\n                                                                        <th >Tn thnh vin</th>\r\n                                                                        <th >Trng thi</th>\r\n                                                                        <th >Thao tc</th>\r\n                                                                    </tr>\r\n                                                                </thead>\r\n                                                                <tbody>\r\n                                                                    {participantView}\r\n\r\n                                                                    {List_user_room_filter}\r\n                                                                </tbody>\r\n                                                            </table>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n\r\n                                                </div>\r\n                                                {/* <div className=\"col-xs-12 col-sm-4\" style={{ marginLeft: \"-10px\", paddingRight: \"0px\" }}>\r\n                            \r\n                        </div> */}\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </div >\r\n                </div >\r\n                <Footer />\r\n            </div >\r\n        </>\r\n    );\r\n};\r\nexport default withRouter(JitsiMeetAdmin);\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter, useHistory, useParams } from \"react-router-dom\";\r\nimport ProgressComponent from '@material-ui/core/CircularProgress';\r\nimport { getMeetRoom } from \"./JitsiActions\"\r\nimport { getUsers, getProfiles, getProfile } from '../users/UserActions';\r\nimport socketIOClient from \"socket.io-client\";\r\nconst USER_JOIN_CHAT_EVENT = \"USER_JOIN_CHAT_EVENT\";\r\nconst USER_LEAVE_CHAT_EVENT = \"USER_LEAVE_CHAT_EVENT\";\r\nconst JITSI_AUDIO_ONE = \"JITSI_AUDIO_ONE\";\r\nconst SVR_JITSI_AUDIO_ONE = \"SVR_JITSI_AUDIO_ONE\";\r\nconst JITSI_AUDIO_ALL = \"JITSI_AUDIO_ALL\";\r\nconst SVR_JITSI_AUDIO_ALL = \"SVR_JITSI_AUDIO_ALL\";\r\nconst JITSI_VIDEO_ONE = \"JITSI_VIDEO_ONE\";\r\nconst SVR_JITSI_VIDEO_ONE = \"SVR_JITSI_VIDEO_ONE\";\r\nconst JITSI_VIDEO_ALL = \"JITSI_VIDEO_ALL\";\r\nconst SVR_JITSI_VIDEO_ALL = \"SVR_JITSI_VIDEO_ALL\";\r\nconst JITSI_FILMSTRIP = \"JITSI_FILMSTRIP\";\r\nconst SVR_JITSI_FILMSTRIP = \"SVR_JITSI_FILMSTRIP\";\r\nconst JITSI_TOGGLE_VIEW = \"JITSI_TOGGLE_VIEW\";\r\nconst SVR_JITSI_TOGGLE_VIEW = \"SVR_JITSI_TOGGLE_VIEW\";\r\nconst JITSI_TOGGLE_DESKTOP = \"JITSI_TOGGLE_DESKTOP\";\r\nconst SVR_JITSI_TOGGLE_DESKTOP = \"SVR_JITSI_TOGGLE_DESKTOP\";\r\nconst SVR_JITSI_HANGUP = \"SVR_JITSI_HANGUP\";\r\nconst JITSI_HANGUP = \"JITSI_HANGUP\";\r\nconst SVR_JITSI_HANGUP_ALL = \"SVR_JITSI_HANGUP_ALL\";\r\nconst JITSI_HANGUP_ALL = \"JITSI_HANGUP_ALL\";\r\nconst JITSI_STOP_SHARE = \"JITSI_STOP_SHARE\";\r\nconst SVR_JITSI_STOP_SHARE = \"SVR_JITSI_STOP_SHARE\";\r\nconst JITSI_TILE_VIEW = \"JITSI_TILE_VIEW\";\r\nconst SVR_JITSI_TILE_VIEW = \"SVR_JITSI_TILE_VIEW\";\r\n\r\n\r\nconst SOCKET_SERVER_URL = \"http://localhost:4000\";\r\n\r\nconst JitsiMeetClient = () => {\r\n    const { roomId } = useParams();\r\n    const user_auth = useSelector((state) => state.auth.user);\r\n    const roomMeet = useSelector(state => state.jitsi.meetroom)\r\n    // const profiles = useSelector(state => state.profiles.data);\r\n    const profile = useSelector((state) => state.auth.profile);\r\n    // const [fullname, setFullname] = useState(user_auth.username)\r\n    // conresole.log(profile)\r\n    const fullname = profile.last_name\r\n    const socketRef = useRef();\r\n\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        // dispatch(getProfile(user_auth.id))\r\n        // dispatch(getProfiles())\r\n        dispatch(getUsers())\r\n        dispatch(getMeetRoom(roomId));\r\n    }, [])\r\n\r\n    // useEffect(() => {\r\n    //     setTimeout(() => {\r\n    //       if (profile.last_name !== null || profile.last_name !== \"\") {\r\n    //         setFullname(profile.last_name)\r\n    //       }\r\n    //     }, 2000);\r\n    //   }, [profile])\r\n\r\n    const domain = 'meet.jit.si';\r\n    let api = {};\r\n    const [_api, setApi] = useState();\r\n    const [room, setRoom] = useState(\"CNTTQK7\");\r\n\r\n    const [isAudioMuted, setIsAudioMuted] = useState();\r\n    const [isAudioMutedAll, setIsAudioMutedAll] = useState(false);\r\n    const [isVideoMuted, setIsVideoMuted] = useState();\r\n    const [isTileView, setIsTileView] = useState(false);\r\n    const [isTileViews, setIsTileViews] = useState([]);\r\n    const [isFilmstrip, setIsFilmstrip] = useState(false);\r\n    const [isFullDestop, setIsFullDestop] = useState(false);\r\n    const [dominantSpeaker, setDominantSpeaker] = useState();\r\n\r\n    const [jitsiUser, setJitsiUser] = useState();\r\n\r\n    // const [raiseHand, setRaiseHand] = useState();\r\n    const [raiseHandNew, setRaiseHandNew] = useState([]);\r\n    const [sharingParticipants, setSharingParticipants] = useState([]);\r\n    // const [endpointTextMessageReceived, setEndpointTextMessageReceived] = useState();\r\n\r\n    const [numberOfParticipants, setNumberOfParticipants] = useState();\r\n    // const [incomingMessage, setIncomingMessage] = useState();\r\n    const incomingMessages = ['microphone', 'camera', 'chat', 'hangup', 'fullscreen', 'tileview'];\r\n    // const [outgoingMessage, setOutgoingMessage] = useState();\r\n\r\n    // const [displayName2, setDisplayName2] = useState();\r\n    // const [displayName3, setDisplayName3] = useState();\r\n    const [participants, setParticipants] = useState([]);\r\n    const [idLeave, setIdLeave] = useState();\r\n    const [availableDevices, setAvailableDevices] = useState([]);\r\n    // const [stateAudioAll, setStateAudioAll] = useState(false);\r\n    // const [audio_Input, setAudio_Input] = useState();\r\n    // const [audio_Output, setAudio_Output] = useState();\r\n    const [video_Input, setVideo_Input] = useState();\r\n    // const [webcamId, setWebcamId] = useState(\"\");\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const history = useHistory();\r\n\r\n    const jitsiContainerStyle = {\r\n        display: (loading ? 'none' : 'block'),\r\n        width: '100%',\r\n        height: '100%',\r\n    }\r\n\r\n    const startMeet = () => {\r\n        if (profile !== null) {\r\n            const options = {\r\n                roomName: 'cnttqk7',\r\n                // password:password,\r\n                width: '100%',\r\n                height: \"100%\",\r\n                configOverwrite: {\r\n                    localRecording: {\r\n                        enabled: true,\r\n                    },\r\n                    fileRecordingsServiceEnabled: true,\r\n                    fileRecordingsEnabled: true,\r\n                    prejoinPageEnabled: false,\r\n                },\r\n                interfaceConfigOverwrite: {\r\n                    filmStripOnly: false,\r\n                    SHOW_JITSI_WATERMARK: false,\r\n                    SHOW_WATERMARK_FOR_GUESTS: false,\r\n                    DISABLE_DOMINANT_SPEAKER_INDICATOR: true,\r\n                    // TILE_VIEW_MAX_COLUMNS: 4,\r\n                    // TOOLBAR_BUTTONS: ['microphone', 'camera', 'chat', 'hangup', 'desktop', 'tileview', 'fullscreen'],\r\n                },\r\n                parentNode: document.querySelector('#jitsi-iframe'),\r\n                userInfo: { displayName: fullname }\r\n            }\r\n            api = new window.JitsiMeetExternalAPI(domain, options);\r\n            setApi(api)\r\n            api.addEventListener('videoConferenceJoined', (object) => {\r\n                // setMeId(object.id)\r\n                setLoading(false);\r\n            });\r\n            api.addEventListeners({\r\n                readyToClose: handleClose,\r\n                videoConferenceLeft: handleVideoConferenceLeft,\r\n                videoConferenceJoined: handleVideoConferenceJoined,\r\n                audioMuteStatusChanged: handleMuteStatus,\r\n                videoMuteStatusChanged: handleVideoStatus,\r\n                tileViewChanged: handleTileViewStatus,\r\n            });\r\n            api.executeCommand('subject', roomMeet.Subject);\r\n            api.executeCommand('toggleTileView')\r\n        }\r\n    }\r\n\r\n\r\n    const handleVideoConferenceJoined = async (participant) => {\r\n        // console.log(\"handleVideoConferenceJoined\", participant); // { roomName: \"bwb-bfqi-vmh\", id: \"8c35a951\", displayName: \"Akash Verma\", formattedDisplayName: \"Akash Verma (me)\"}\r\n        // const data = await getParticipants();\r\n        setJitsiUser(participant)\r\n    }\r\n    const handleVideoConferenceLeft = () => {\r\n        return history.push('/');\r\n    }\r\n    const handleMuteStatus = (muted) => {\r\n        // console.log(\"handleMuteStatus\", muted); // { muted: true } \r\n        setIsAudioMuted(muted)\r\n    }\r\n    const handleVideoStatus = (video) => {\r\n        // console.log(\"handleVideoStatus\", video); // { muted: true }\r\n        setIsVideoMuted(video)\r\n    }\r\n    const handleTileViewStatus = (tileview) => {\r\n        // console.log(\"handleTileViewStatus\", tileview); // { enabled: true }\r\n        setIsTileView(tileview.enabled)\r\n    }\r\n    const handleClose = () => {\r\n        console.log(\"handleClose\");\r\n    }\r\n    useEffect(() => {\r\n        if (window.JitsiMeetExternalAPI && Object.entries(profile).length !== 0 ) {\r\n            startMeet();\r\n        } \r\n        // else {\r\n        //     alert('JitsiMeetExternalAPI not loaded');\r\n        // }\r\n    }, [profile])\r\n    //Socket IO\r\n    useEffect(() => {\r\n        if (!fullname || !jitsiUser?.id) {\r\n            return;\r\n        }\r\n        socketRef.current = socketIOClient(SOCKET_SERVER_URL, {\r\n            query: { roomId, userId: user_auth.id, fullname, jitsiUserId: jitsiUser?.id, isAudioMuted: isAudioMuted.muted, isVideoMuted: isVideoMuted.muted, isTileView },\r\n        });\r\n        socketRef.current.on(\"connect\", () => {\r\n            console.log(socketRef.current.id);\r\n        });\r\n        socketRef.current.on(SVR_JITSI_AUDIO_ONE, (id) => {\r\n            _api.executeCommand('toggleAudio');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_STOP_SHARE, (id) => {\r\n            _api.executeCommand('toggleShareScreen');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_TILE_VIEW, (id) => {\r\n            _api.executeCommand('toggleTileView');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_AUDIO_ALL, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleAudio');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_VIDEO_ONE, (id) => {\r\n            // console.log(id)\r\n            _api.executeCommand('toggleVideo');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_VIDEO_ALL, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleVideo');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_FILMSTRIP, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleFilmStrip');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_TOGGLE_VIEW, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleTileView');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_HANGUP_ALL, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('hangup');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_HANGUP, (data) => {\r\n            _api.executeCommand('hangup');\r\n        });\r\n\r\n        return () => {\r\n            socketRef.current.disconnect();\r\n        };\r\n    }, [roomId, jitsiUser, isAudioMuted, isVideoMuted, isTileView]);\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            {loading && <ProgressComponent style={{ marginLeft: '45%', marginTop: '25%', width: \"100px\", height: \"100px\" }} />}\r\n            <div className=\"row\" style={{ display: (loading ? 'none' : 'block'), height: '100vh', marginRight: '0px', justifyContent: \"center\" }}>\r\n                {profile.id !== null &&\r\n                    <div id=\"jitsi-iframe\" style={jitsiContainerStyle} ></div>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default withRouter(JitsiMeetClient);\r\n","import React, { useState } from \"react\";\r\nimport ColumnSelect from 'react-column-select'\r\n\r\n\r\nfunction CalendarSelectUser(props) {\r\n\r\n    const {user_list, handleUserSelect} = props\r\n\r\n    const [selected, setSelected] = useState([])\r\n\r\n    // console.log(user_list)\r\n   \r\n    const onChange = (values) => {\r\n        \r\n        setSelected(values)\r\n        handleUserSelect(values)\r\n\r\n    }\r\n    // console.log(selected)\r\n    return (\r\n        <>\r\n        {/* {user_list.map(x=>{return(<li key={x.value}>{x.value}</li>)})} */}\r\n            <ColumnSelect\r\n            // defaultValue={hobbies}\r\n            options={user_list}\r\n            onChange={onChange}\r\n            leftHeader='Chn danh sch thnh vin'\r\n            rightHeader='Danh sch thnh vin c chn'\r\n            backgroundColor='#fff'\r\n            isSearchable\r\n            searchFocusBorderColor=\"\"\r\n            theme={{\r\n                buttonBgColor: '#CBD5E0',\r\n                columnBgColor: '#CBD5E0',\r\n                columnBorderColor: '#CCC',\r\n                headerBgColor: '#d6b1ff',\r\n                searchFocusBorderColor: '',\r\n                textColor: '#000000',\r\n                headerBgColor: '#fff',\r\n            }}\r\n        />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CalendarSelectUser\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\"; // new import\r\nimport { Col, Form, FormControl } from \"react-bootstrap\";\r\nimport { createUser } from \"./UserActions\"; // new import\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nfunction getModalStyle() {\r\n  // const top = 50 + rand();\r\n  // const left = 50 + rand();\r\n  const top = 40;\r\n  const left = 50;\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 500,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\n\r\n// function rand() {\r\n//   return Math.round(Math.random() * 20) - 10;\r\n// }\r\n\r\nfunction UserAdd(props) {\r\n  const [email, setEmail] = useState()\r\n  const [username, setUsername] = useState()\r\n  const [password, setPassword] = useState()\r\n  const [re_password, setRe_password] = useState()\r\n  const [errorInput, setErrorInput] = useState()\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const classes = useStyles();\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n\r\n  const onSignupClick = () => {\r\n    if (email === undefined || username === undefined || password === undefined || re_password === undefined) {\r\n      setErrorInput(\"Bn phi nht y  thng tin ng k\")\r\n      props.setOpen(true)\r\n    } else {\r\n      const userData = {\r\n        email: email,\r\n        username: username,\r\n        groups: 2,\r\n        password: password,\r\n        re_password: re_password,\r\n      };\r\n      dispatch(createUser(userData));\r\n      props.setOpen(false)\r\n    }\r\n  };\r\n\r\n\r\n  const handleClose = () => {\r\n    props.setOpen(false);\r\n  };\r\n\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <h4 id=\"simple-modal-title\">Thm mi ti khon ngi dng</h4>\r\n      <hr />\r\n      <Col md=\"12\">\r\n        <Form>\r\n          <Form.Group controlId=\"usernameId\">\r\n          <FormControl.Feedback type=\"invalid\">\r\n              {/* {createUser.usernameError} */}\r\n              <p style={{color: \"red\"}}> {errorInput} </p>\r\n            </FormControl.Feedback>\r\n            <Form.Label>Nhp tn ng nhp</Form.Label>\r\n            <Form.Control\r\n              // isInvalid={createUser.usernameError}\r\n              type=\"text\"\r\n              name=\"username\"\r\n              placeholder=\"Nhp tn ng nhp\"\r\n              value={username}\r\n              onChange={e => setUsername(e.target.value)}\r\n            />\r\n            \r\n          </Form.Group>\r\n          <Form.Group controlId=\"usernameId\">\r\n            <Form.Label>a ch Mail</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"email\"\r\n              placeholder=\"Nhp a ch Mail\"\r\n              value={email}\r\n              onChange={e => setEmail(e.target.value)}\r\n            />\r\n            <FormControl.Feedback type=\"invalid\">\r\n              {/* {createUser.usernameError} */}\r\n              {/* <p style={{color: \"red\"}}> {errorInput} </p> */}\r\n            </FormControl.Feedback>\r\n          </Form.Group>\r\n          <Form.Group controlId=\"passwordId\">\r\n            <Form.Label>Nhp mt khu</Form.Label>\r\n            <Form.Control\r\n              // isInvalid={createUser.passwordError}\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Nhp mt khu\"\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}\r\n            />\r\n            <FormControl.Feedback type=\"invalid\">\r\n              {/* {createUser.passwordError} */}\r\n              {/* <p style={{color: \"red\"}}> {errorInput} </p> */}\r\n            </FormControl.Feedback>\r\n          </Form.Group>\r\n          <Form.Group controlId=\"re_passwordId\">\r\n            <Form.Label>Nhp li mt khu:</Form.Label>\r\n            <Form.Control\r\n              // isInvalid={createUser.re_passwordError}\r\n              type=\"password\"\r\n              name=\"re_password\"\r\n              placeholder=\"Nhp li mt khu\"\r\n              value={re_password}\r\n              onChange={e => setRe_password(e.target.value)}\r\n            />\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              {/* {createUser.re_passwordError} */}\r\n              {/* <p style={{color: \"red\"}}> {errorInput} </p> */}\r\n            </Form.Control.Feedback>\r\n          </Form.Group>\r\n        </Form>\r\n        <div style={{ backgroundColor: \"#EFF3F8\", fontSize: \"20px\", textAlign: \"center\", height: \"50px\", marginTop: \"6px\" }}>\r\n          <button type=\"submit\" className=\"btn-sm btn-success\" onClick={onSignupClick} style={{ marginTop: \"6px\" }}>\r\n            <i className=\"ace-icon fa fa-plus icon-on-right bigger-110\" />&nbsp;\r\n            Thm mi\r\n          </button>\r\n          <button type=\"submit\" className=\"btn-sm \" onClick={handleClose} style={{ marginTop: \"6px\" }}>\r\n            <i className=\"ace-icon fa fa-close icon-on-right bigger-110\" />&nbsp;\r\n            ng\r\n          </button>\r\n        </div>\r\n      </Col>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      {body}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(UserAdd)","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport ProgressComponent from '@material-ui/core/CircularProgress';\r\nimport { DateTimePickerComponent } from '@syncfusion/ej2-react-calendars';\r\nimport Multiselect from 'multiselect-react-dropdown';\r\nimport CalendarSelectUser from './CalendarSeclectUser'\r\nimport { getUsers, getProfiles } from '../users/UserActions';\r\nimport { addCalendar } from './CalendarActions'\r\nimport Select from \"react-select\";\r\nimport Header from \"../common/Header\"\r\nimport Footer from \"../common/Footer\"\r\nimport Menubar from \"../common/Menubar\"\r\nimport UserAdd from '../users/UserAdd';\r\nimport Modal from '@material-ui/core/Modal';\r\n\r\n\r\nfunction CalendarAddRoom() {\r\n\r\n    const [Subject, setSubject] = useState();\r\n    const [EventTypes, setEventTypes] = useState();\r\n    const [StartTime, setStartTime] = useState();\r\n    const [EndTime, setEndTime] = useState();\r\n    const [Location, setLocation] = useState();\r\n    const [user_control, setUser_control] = useState([]);\r\n    const [user_vip, setUser_vip] = useState([]);\r\n    const [Description, setDescription] = useState();\r\n    const [userAdd, setUserAdd] = useState();\r\n    const [addSuccess, setAddSuccess] = useState(true);\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const data = useSelector(state => state.users.data);\r\n    const profiles = useSelector(state => state.profiles.data);\r\n    // console.log(profiles)\r\n    // const responseting = useSelector(state => state.users.responseting);\r\n    // const messege = useSelector(state => state.users.messege);\r\n    const success = useSelector(state => state.users.success);\r\n    // console.log(data.data)\r\n\r\n    useEffect(() => {\r\n        dispatch(getUsers())\r\n        dispatch(getProfiles())\r\n    }, [])\r\n\r\n    const user_list = data?.map(u => {\r\n        const label = profiles?.find(p => p.user === u.id)?.first_name ? profiles.find(p => p.user === u.id)?.first_name : u.username\r\n        return ({ \"value\": u.id, \"label\": label })\r\n    })\r\n\r\n    // const user_Control = data?.map(u => {\r\n    //     const label = profiles?.find(p => p.user === u.id)?.first_name ? profiles.find(p => p.user === u.id)?.first_name : u.username\r\n    //     return { id: u.id, label: label }\r\n    // })\r\n\r\n    const eventType2 = [\r\n        { value: 0, label: \"u tin cao\" },\r\n        { value: 1, label: \"u tin trung bnh\" },\r\n        { value: 2, label: \"u tin thp\" }\r\n    ]\r\n    const handleChangePro = (EventTypes) => {\r\n        setEventTypes(EventTypes)\r\n    }\r\n    const selectUserControl = (selectedList, selectedItem) =>{\r\n        // console.log(selectedList);\r\n        // console.log(selectedItem);\r\n        setUser_control(selectedList)\r\n    }\r\n    const selectUserVip = (selectedList, selectedItem) =>{\r\n        // console.log(selectedItem);\r\n        setUser_vip(selectedList)\r\n    }\r\n\r\n\r\n    \r\n    const handleUserSelect = (values) => {\r\n        setUserAdd(values)\r\n    }\r\n\r\n    const addCalendarForm = (event) => {\r\n        event.preventDefault();\r\n        var User_room = Array.isArray(userAdd) ? userAdd.map(x => x.value) : []\r\n        var User_control = Array.isArray(user_control) ? user_control.map(x => x.value) : []\r\n        var User_vip = Array.isArray(user_vip) ? user_vip.map(x => x.value) : []\r\n        var EventType = EventTypes.value\r\n        let calendarAdd = {\r\n            Subject, EventType, StartTime, EndTime, Location, Description, User_room, User_control, User_vip\r\n        }\r\n        if (calendarAdd) {\r\n            dispatch(addCalendar(calendarAdd));\r\n            setAddSuccess(true)\r\n        }\r\n        // setSubject(\"\")\r\n        // setEventTypes(\"\")\r\n        // setStartTime(\"\")\r\n        // setEndTime(\"\")\r\n        // setLocation(\"\")\r\n        // setDescription(\"\")\r\n    }\r\n\r\n    const handleFormAdd = () => {\r\n        setOpen(true)\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n                <Menubar />\r\n                <div className=\"main-content\">\r\n                    <div className=\"main-content-inner\" >\r\n                        {/* <CalendarBreadcrumb /> */}\r\n                        <div className=\"page-content\">\r\n\r\n                            <div className=\"row\">\r\n                                <div className=\"widget-box\">\r\n                                    <div className=\"widget-header\">\r\n                                        <h4 className=\"widget-title\">Thm mi cuc hp</h4>\r\n                                    </div>\r\n                                    <div className=\"widget-body\">\r\n                                        <div className=\"widget-main\">\r\n                                            <div className=\"row\">\r\n\r\n                                                {/* <form > */}\r\n                                                <div className=\"col-xs-12 col-sm-6\">\r\n                                                    <div className=\"col-sm-12\">\r\n                                                        <span className=\"bigger-110\">Tiu  cuc hp</span>\r\n                                                        <input id=\"Summary\" className=\"e-field e-input\" type=\"text\" name=\"Subject\" value={Subject} style={{ width: '100%' }} onChange={e => setSubject(e.target.value)} />\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"col-sm-12\">\r\n                                                        <span className=\"bigger-110\">M t cuc hp</span>\r\n                                                        <textarea id=\"Description\" className=\"e-field e-input\" name=\"Description\" rows={2} cols={50} style={{ width: '100%', height: '60px !important', resize: 'vertical' }} value={Description} onChange={e => setDescription(e.target.value)}></textarea>\r\n                                                    </div>\r\n                                                    <div className=\"col-sm-12\">\r\n                                                        <span className=\"bigger-110\">Chn ngi ch tr</span>\r\n                                                        <Multiselect\r\n                                                            displayValue=\"label\"\r\n                                                            onRemove={function noRefCheck() { }}\r\n                                                            onSearch={function noRefCheck() { }}\r\n                                                            onSelect={selectUserVip}\r\n                                                            options={user_list}\r\n                                                            placeholder=\"Chn ngi ch tr\"\r\n                                                        />\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"col-sm-12\">\r\n                                                        <span className=\"bigger-110\">Chn nhng ngi iu khin</span>\r\n                                                        <Multiselect\r\n                                                            displayValue=\"label\"\r\n                                                            onRemove={function noRefCheck() { }}\r\n                                                            onSearch={function noRefCheck() { }}\r\n                                                            onSelect={selectUserControl}\r\n                                                            options={user_list}\r\n                                                            placeholder=\"Chn ngi iu khin\"\r\n                                                        />\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"col-sm-12\">\r\n                                                        <span className=\"bigger-110\">Thi gian bt u</span>\r\n                                                        <DateTimePickerComponent id=\"StartTime\" format='dd/MM/yyyy hh:mm a' data-name=\"StartTime\" className=\"e-field\" value={StartTime} onChange={e => setStartTime(e.target.value)}></DateTimePickerComponent>\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"col-sm-12\">\r\n                                                        <span className=\"bigger-110\">Thi gian kt thc</span>\r\n                                                        <DateTimePickerComponent id=\"StartTime\" format='dd/MM/yyyy hh:mm a' data-name=\"EndTime\" className=\"e-field\" value={EndTime} onChange={e => setEndTime(e.target.value)} ></DateTimePickerComponent>\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"col-sm-12\">\r\n                                                        <span className=\"bigger-110\">a im</span>\r\n                                                        <input id=\"Location\" className=\"e-field e-input\" type=\"text\" name=\"Location\" style={{ width: '100%' }} value={Location} onChange={e => setLocation(e.target.value)} />\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"col-sm-7\">\r\n                                                        <span className=\"bigger-110\">Mc c u tin</span>\r\n                                                        <Select\r\n                                                            value={EventTypes}\r\n                                                            onChange={handleChangePro}\r\n                                                            options={eventType2}\r\n                                                            placeholder={\"Chn mc  mu tin\"}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                </div>\r\n                                                <div className=\"col-xs-12 col-sm-6\">\r\n                                                    {success\r\n                                                        ? <CalendarSelectUser user_list={user_list} handleUserSelect={handleUserSelect} addSuccess={addSuccess} />\r\n                                                        : <ProgressComponent />\r\n                                                    }\r\n\r\n                                                </div>\r\n                                                <div className=\"space\"></div>\r\n                                                <div className=\"col-sm-6\" style={{ textAlign: \"right\", marginTop: \"12px\" }}>\r\n                                                    <button type=\"submit\" className=\"btn-sm btn-success\" onClick={addCalendarForm}>\r\n                                                        Thm mi\r\n                                                        {/* <i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" /> */}\r\n                                                    </button>\r\n                                                    &nbsp;&nbsp;&nbsp;\r\n                                                    <button type=\"submit\" className=\"btn-sm\">\r\n                                                        <Link to=\"/cal_meet\" >\r\n                                                            {/* <i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" /> */}\r\n                                                            Tr v danh sch phng hp\r\n\r\n                                                        </Link>\r\n                                                    </button>\r\n                                                </div>\r\n                                                <div className=\"space\"></div>\r\n                                                <div className=\"col-sm-6\" style={{ textAlign: \"right\", marginTop: \"12px\" }}>\r\n                                                    {/* <button type=\"submit\" className=\"btn-sm\"> */}\r\n                                                    {/* <a onClick={handleFormAdd} style={{cursor: 'pointer'}}> */}\r\n                                                    <Link to={'/user-create'} style={{ cursor: 'pointer' }}>\r\n                                                        <i className=\"ace-icon fa fa-plus icon-on-right bigger-110\" />&nbsp;\r\n                                                        <b>To ti khon ngi dng</b>\r\n                                                    </Link>\r\n                                                    {/* </a> */}\r\n                                                    {/* </button> */}\r\n                                                </div>\r\n                                                {/* </form> */}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div >\r\n                            </div >\r\n                        </div >\r\n                    </div>\r\n                </div>\r\n                <Modal\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    aria-labelledby=\"simple-modal-title\"\r\n                    aria-describedby=\"simple-modal-description\"\r\n                >\r\n                    <UserAdd setOpen={setOpen} />\r\n                </Modal>\r\n                <Footer />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default withRouter(CalendarAddRoom);","import React, { useState } from \"react\";\r\nimport ColumnSelect from 'react-column-select'\r\n\r\n\r\nfunction CalendarSeclectUserEdit(props) {\r\n\r\n    const {user_list, handleUserSelect, userEdit} = props\r\n\r\n    const [selected, setSelected] = useState([])\r\n\r\n    const onChange = (values) => {\r\n        setSelected(values)\r\n        handleUserSelect(values)\r\n    }\r\n    // console.log(selected)\r\n    return (\r\n        <>\r\n        {/* {user_list.map(x=>{return(<li key={x.value}>{x.value}</li>)})} */}\r\n            <ColumnSelect\r\n            defaultValue={userEdit}\r\n            options={user_list}\r\n            onChange={onChange}\r\n            leftHeader='Chn danh sch thnh vin'\r\n            rightHeader='Danh sch thnh vin c chn'\r\n            backgroundColor='#fff'\r\n            // buttonAriaLabel= \"Thm\"\r\n            isSearchable\r\n            searchFocusBorderColor=\"\"\r\n            theme={{\r\n                buttonBgColor: '#CBD5E0',\r\n                columnBgColor: '#CBD5E0',\r\n                columnBorderColor: '#CCC',\r\n                headerBgColor: '#d6b1ff',\r\n                searchFocusBorderColor: '',\r\n                textColor: '#000000',\r\n                headerBgColor: '#fff',\r\n                \r\n            }}\r\n        />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CalendarSeclectUserEdit\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { withRouter, Link, useParams, useHistory } from \"react-router-dom\";\r\nimport ProgressComponent from '@material-ui/core/CircularProgress';\r\nimport { DateTimePickerComponent } from '@syncfusion/ej2-react-calendars';\r\nimport Multiselect from 'multiselect-react-dropdown';\r\nimport CalendarSeclectUserEdit from './CalendarSeclectUserEdit'\r\nimport { getUsers, getProfiles } from '../users/UserActions'\r\nimport { updateCalendar, detailCalendar } from './CalendarActions'\r\nimport Select from \"react-select\";\r\nimport Header from \"../common/Header\"\r\nimport Footer from \"../common/Footer\"\r\nimport Menubar from \"../common/Menubar\"\r\n\r\nfunction CalendarEditRoom() {\r\n    const { Id } = useParams();\r\n    const history = useHistory();\r\n\r\n    const [Subject, setSubject] = useState();\r\n    const [EventTypes, setEventTypes] = useState();\r\n    const [StartTime, setStartTime] = useState();\r\n    const [EndTime, setEndTime] = useState();\r\n    const [Location, setLocation] = useState();\r\n    const [Description, setDescription] = useState();\r\n    const [User_rooms, setUser_rooms] = useState();\r\n    const [user_control, setUser_control] = useState();\r\n    const [user_vip, setUser_vip] = useState();\r\n    const [userEdit, setUserEdit] = useState();\r\n\r\n    const [userAdd, setUserAdd] = useState();\r\n    const [updateSuccess, setUpdateSuccess] = useState(false);\r\n    const [updateData, setUpdateData] = useState(false);\r\n\r\n    const dataRoom2 = useSelector(state => state.calendars.calendarId);\r\n    const dataRooms = useSelector(state => state.calendars.calendars)\r\n    const profiles = useSelector(state => state.profiles.data);\r\n    const dataRoom = dataRooms.filter((item) => item.Id === Id)[0]\r\n\r\n    const data = useSelector(state => state.users.data);\r\n    // const responseting = useSelector(state => state.users.responseting);\r\n    // const messege = useSelector(state => state.users.messege);\r\n    const user_list = data.map(item => {\r\n        const label = profiles.find(p => p.user === item.id)?.first_name ? profiles.find(p => p.user === item.id)?.first_name : item.username\r\n        return ({ \"value\": item.id, \"label\": label })\r\n    })\r\n    // const user_Control = data?.map(u => {\r\n    //     const label = profiles?.find(p => p.user === u.id)?.first_name ? profiles.find(p => p.user === u.id)?.first_name : u.username\r\n    //     return { id: u.id, label: label }\r\n    // })\r\n    const eventType2 = [\r\n        { value: 0, label: \"u tin cao\" },\r\n        { value: 1, label: \"u tin trung bnh\" },\r\n        { value: 2, label: \"u tin thp\" }\r\n    ]\r\n\r\n    const success = useSelector(state => state.users.success);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getUsers())\r\n        dispatch(detailCalendar(Id))\r\n        dispatch(getProfiles())\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (dataRoom) {\r\n            setSubject(dataRoom.Subject)\r\n            setStartTime(dataRoom.StartTime)\r\n            setEndTime(dataRoom.EndTime)\r\n            setLocation(dataRoom.Location)\r\n            setDescription(dataRoom.Description)\r\n\r\n            const EventType1 = eventType2.filter(items => {\r\n                if (items.value === dataRoom.EventType) {\r\n                    return { value: items.value, label: items.label }\r\n                }\r\n            })\r\n            setEventTypes(EventType1)\r\n\r\n            const userEdit2 = data.filter(items => dataRoom.User_room.includes(items.id)).map(item => {\r\n                const label = profiles.find(p => p.user === item.id)?.first_name ? profiles.find(p => p.user === item.id)?.first_name : item.username\r\n                return { value: item.id, label: label };\r\n            })\r\n            setUserEdit(userEdit2)\r\n\r\n            const userCtrEdit2 = data.filter(items => dataRoom.User_control.includes(items.id)).map(item => {\r\n                const label = profiles.find(p => p.user === item.id)?.first_name ? profiles.find(p => p.user === item.id)?.first_name : item.username\r\n                return { value: item.id, label: label };\r\n            })\r\n            setUser_control(userCtrEdit2)\r\n\r\n            const userVipEdit2 = data.filter(items => dataRoom.User_vip.includes(items.id)).map(item => {\r\n                const label = profiles.find(p => p.user === item.id)?.first_name ? profiles.find(p => p.user === item.id)?.first_name : item.username\r\n                return { value: item.id, label: label };\r\n            })\r\n            setUser_vip(userVipEdit2)\r\n\r\n            setUpdateData(true)\r\n        }\r\n    }, [])\r\n\r\n    const handleChangePro = (EventTypes) => {\r\n        setEventTypes(EventTypes)\r\n    }\r\n    const setUsercontrol = () =>{\r\n        setUser_control()\r\n    }\r\n    const selectUserControl = (selectedList, selectedItem) =>{\r\n        setUser_control(selectedList)\r\n    }\r\n    const setUservip = () =>{\r\n        setUser_vip()\r\n    }\r\n    \r\n    const selectUserVip = (selectedList, selectedItem2) =>{\r\n        setUser_vip(selectedList)\r\n    }\r\n    \r\n    const handleUserSelect = (values) => {\r\n        setUserEdit(values)\r\n    }\r\n\r\n    const updateCalendarForm = () => {\r\n        // event.preventDefault();\r\n        var User_room = Array.isArray(userEdit) ? userEdit.map(x => x.value) : []\r\n        var User_control = Array.isArray(user_control) ? user_control.map(x => x.value) : []\r\n        var User_vip = Array.isArray(user_vip) ? user_vip.map(x => x.value) : []\r\n        // console.log(User_room)\r\n        var EventType = EventTypes.value\r\n        let calendarUpdate = {\r\n            Subject, EventType, StartTime, EndTime, Location, Description, User_room, User_control, User_vip\r\n        }\r\n        if (calendarUpdate) {\r\n            dispatch(updateCalendar(Id, calendarUpdate));\r\n            setUpdateSuccess(true)\r\n            // Redirect(\"/cal_meet\")\r\n        }\r\n        history.push(`/cal_edit/${Id}`);\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n                <Menubar />\r\n                <div className=\"main-content\">\r\n                    <div className=\"main-content-inner\" >\r\n                        {/* <CalendarBreadcrumb /> */}\r\n                        <div className=\"page-content\">\r\n                            {success && updateData ?\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-xs-12 col-sm-12\">\r\n                                        <div className=\"widget-box\">\r\n                                            <div className=\"widget-header\">\r\n                                                <h4 className=\"widget-title\">Chnh sa phng hp - {Id}</h4>\r\n                                            </div>\r\n                                            <div className=\"widget-body\">\r\n                                                <div className=\"widget-main\">\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\"col-xs-12 col-sm-6\">\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <span className=\"bigger-110\">Tiu  cuc hp</span>\r\n                                                                <input id=\"Summary\" className=\"e-field e-input\" type=\"text\" name=\"Subject\" value={Subject} style={{ width: '100%' }} onChange={e => setSubject(e.target.value)} />\r\n                                                            </div>\r\n                                                            <hr />\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <span className=\"bigger-110\">M t cuc hp</span>\r\n                                                                <textarea id=\"Description\" className=\"e-field e-input\" name=\"Description\" rows={3} cols={50} style={{ width: '100%', height: '60px !important', resize: 'vertical' }} value={Description} onChange={e => setDescription(e.target.value)}></textarea>\r\n                                                            </div>\r\n                                                            <hr />\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <span className=\"bigger-110\">Chn ngi ch tr</span>\r\n                                                                <Multiselect\r\n                                                                    displayValue=\"label\"\r\n                                                                    onRemove={setUservip}\r\n                                                                    onSearch={function noRefCheck() { }}\r\n                                                                    onSelect={selectUserVip}\r\n                                                                    options={user_list}\r\n                                                                    selectedValues={user_vip}\r\n                                                                    placeholder=\"C th tm theo vn\"\r\n                                                                />\r\n                                                            </div>\r\n                                                            <hr />\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <span className=\"bigger-110\">Chn nhng ngi iu khin</span>\r\n                                                                <Multiselect\r\n                                                                    displayValue=\"label\"\r\n                                                                    onRemove={setUsercontrol}\r\n                                                                    onSearch={function noRefCheck() { }}\r\n                                                                    onSelect={selectUserControl}\r\n                                                                    options={user_list}\r\n                                                                    selectedValues={user_control}\r\n                                                                    placeholder=\"C th tm theo vn\"\r\n                                                                />\r\n                                                            </div>\r\n                                                            <hr />\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <span className=\"bigger-110\">Thi gian bt u</span>\r\n                                                                <DateTimePickerComponent id=\"StartTime\" format='dd/MM/yyyy hh:mm a' data-name=\"StartTime\" className=\"e-field\" value={StartTime} onChange={e => setStartTime(e.target.value)}></DateTimePickerComponent>\r\n                                                            </div>\r\n                                                            <hr />\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <span className=\"bigger-110\">Thi gian kt thc</span>\r\n                                                                <DateTimePickerComponent id=\"StartTime\" format='dd/MM/yyyy hh:mm a' data-name=\"EndTime\" className=\"e-field\" value={EndTime} onChange={e => setEndTime(e.target.value)} ></DateTimePickerComponent>\r\n                                                            </div>\r\n                                                            <hr />\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <span className=\"bigger-110\">a im</span>\r\n                                                                <input id=\"Location\" className=\"e-field e-input\" type=\"text\" name=\"Location\" style={{ width: '100%' }} value={Location} onChange={e => setLocation(e.target.value)} />\r\n                                                            </div>\r\n                                                            <hr />\r\n                                                            <div className=\"col-sm-7\">\r\n                                                                <span className=\"bigger-110\">Mc c u tin</span>\r\n                                                                <Select\r\n                                                                    value={EventTypes}\r\n                                                                    onChange={handleChangePro}\r\n                                                                    options={eventType2}\r\n                                                                    placeholder={\"Chn mc  mu tin\"}\r\n                                                                />\r\n                                                            </div>\r\n\r\n                                                        </div>\r\n                                                        <div className=\"col-xs-12 col-sm-6\">\r\n                                                            {success && userEdit !== null\r\n                                                                ? <CalendarSeclectUserEdit user_list={user_list} handleUserSelect={handleUserSelect} userEdit={userEdit} />\r\n                                                                : <ProgressComponent />\r\n                                                            }\r\n                                                        </div>\r\n                                                        <hr />\r\n                                                        <div className=\"col-sm-6 wizard-actions\">\r\n                                                            <button type=\"submit\" className=\"btn-sm btn-success\" onClick={updateCalendarForm}>\r\n                                                                Cp nht\r\n                                                                {/* <i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" /> */}\r\n                                                            </button>\r\n                                                            &nbsp;&nbsp;&nbsp;\r\n                                                            <button type=\"submit\" className=\"btn-sm \">\r\n                                                                <Link to=\"/cal_meet\" >\r\n                                                                    Tr v danh sch phng hp\r\n                                                                    {/* <i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" /> */}\r\n                                                                </Link>\r\n                                                            </button>\r\n                                                        </div>\r\n                                                        {/* </form> */}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div >\r\n                                    </div >\r\n                                </div >\r\n                                : \" \"}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default withRouter(CalendarEditRoom);","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport moment from 'moment';\r\n\r\nfunction CalendarListDetail(props) {\r\n    const {className, handleEditCalendar, pageVisited, index, calendar, profiles } = props\r\n    const { Id, Subject, Location, StartTime, EndTime, Description, EventType, User_room, User_vip } = props.calendar\r\n    // const [isActive2, setIsActive2] = useState(false)\r\n    // console.log(props.calendar)\r\n\r\n    const eventType = (EventType) => {\r\n        switch (EventType) {\r\n            case 0:\r\n                return \"u tin Cao\"\r\n            case 1:\r\n                return \"u tin Trung bnh\"\r\n            case 2:\r\n                return \"u tin Thp\"\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const handleToggle = () => {\r\n        handleEditCalendar(Id, calendar)\r\n    }\r\n\r\n    const videoConstraints = {\r\n        width: 200,\r\n        height: 160,\r\n        facingMode: \"user\"\r\n    };\r\n    // const webcamRef = useRef(null);\r\n    // const capture = React.useCallback(\r\n    //     () => {\r\n    //         const imageSrc = webcamRef.current.getScreenshot();\r\n    //     },\r\n    //     [webcamRef]\r\n    // );\r\n\r\n\r\n    return (\r\n\r\n        <tr className={className === 'active' ? `detail-row open {}` : \"detail-row\"} key={index}  >\r\n            <td colSpan={6}>\r\n                <div className=\"row\">\r\n                    <div className=\"col-xs-12 col-sm-3\">\r\n\r\n                        <div className=\"text-center\">\r\n                            <>\r\n                                {/* <Webcam\r\n                                    audio={false}\r\n                                    screenshotFormat=\"image/jpeg\"\r\n                                    videoConstraints={videoConstraints}\r\n                                /> */}\r\n                                {/* <button onClick={capture}>Capture photo</button> */}\r\n                            </>\r\n                            {/* <CalendarModal /> */}\r\n                            <img height={170} className=\"thumbnail inline no-margin-bottom\" alt=\"Domain Owner's Avatar\" src=\"assets\\images\\myimg\\HNTT.jpg\" />\r\n                            {/* <br />\r\n                            <div className=\"width-80 label label-info label-xlg arrowed-in arrowed-in-right\">\r\n                                <div className=\"inline position-relative\">\r\n                                    <a className=\"user-title-label\" href=\"#\">\r\n                                        <i className=\"ace-icon fa fa-circle light-green\" />\r\n                                        &nbsp;\r\n                                        <span className=\"white\">Nguyn Khc Hiu</span>\r\n                                    </a>\r\n                                </div>\r\n                            </div> */}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-xs-12 col-sm-7\">\r\n                        <div className=\"profile-user-info profile-user-info-striped\">\r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\" style={{ width: '150px' }}>Tiu  hi ngh </div>\r\n                                <div className=\"profile-info-value\">\r\n                                    <span>{Subject}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\" style={{ width: '150px' }}> a im </div>\r\n                                <div className=\"profile-info-value\">\r\n                                    <span> {Location}</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\" style={{ width: '150px' }}> Thi gian bt u </div>\r\n                                <div className=\"profile-info-value\">\r\n                                    <span>{moment(StartTime).format(\"hh:mm A - DD/MM/YY\").toString()}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\"> Thi gian kt thc </div>\r\n                                <div className=\"profile-info-value\">\r\n                                    <span>{moment(EndTime).format(\"hh:mm A - DD/MM/YY\").toString()}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\"> Ch tr hi ngh: </div>\r\n                                <div className=\"profile-info-value\">\r\n                                {profiles?.filter(p => User_vip.includes(p.user)).map(v => { return <span style={{color:\"blue\"}}>{v.first_name}&nbsp; </span> })}\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\" style={{ width: '150px' }}> M t cuc hi ngh </div>\r\n                                <div className=\"profile-info-value\">\r\n                                    <span> {Description}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\" style={{ width: '150px' }}> Mc  u tin </div>\r\n                                <div className=\"profile-info-value\">\r\n                                    <span>{eventType(EventType)}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\" style={{ width: '150px' }}> Tng s thnh vin </div>\r\n                                <div className=\"profile-info-value\">\r\n                                    {(() => {\r\n                                        switch (String(User_room.length).length) {\r\n                                            case 1: return <span>0{User_room.length}</span>;\r\n                                            default: return <span>{User_room.length}</span>;\r\n                                        }\r\n                                    })()}\r\n                                    \r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"col-xs-12 col-sm-2\">\r\n                        <div className=\"clearfix\">\r\n                            <button className=\"pull-right btn-sm btn-white btn-round\" type=\"button\" onClick={handleToggle}>\r\n                            &nbsp;&nbsp;&nbsp;&nbsp;Xem danh sch&nbsp;\r\n                                &nbsp;<i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"hr hr-dotted\" />\r\n                        <div className=\"clearfix\">\r\n                            <button className=\"pull-right btn-sm btn-white btn-round\">\r\n                                <Link to={`/hnth-client/${Id}`} target=\"_blank\">\r\n                                    &nbsp;Tham gia hi ngh&nbsp;\r\n                                    &nbsp;<i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" />\r\n                                </Link>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"hr hr-dotted\" />\r\n                        <div className=\"clearfix\">\r\n                            <button className=\"pull-right btn-sm btn-white btn-round\">\r\n                                <Link to={`/hnth-admin/${Id}`} target=\"_blank\">\r\n                                    iu khin hi ngh&nbsp;\r\n                                    <i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" />\r\n                                </Link>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nexport default CalendarListDetail;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport CalendarListDetail from './CalendarListDetail';\r\nimport moment from 'moment';\r\n\r\nfunction CalendarListItem(props) {\r\n    const [isActive, setActive] = useState(false);\r\n    const [isActive2, setActive2] = useState(false)\r\n    // const [activeIndex, setActiveIndex] = useState(0);\r\n    const [status, setStatus] = useState(\"Cha din ra\")\r\n    const [classType, setClassType] = useState(\"blue\")\r\n\r\n    const { Id, Subject, StartTime, EndTime } = props.calendar\r\n    const {setIsSelected, className, index, idSelected, pageVisited, handleEditCalendar, handleDelCalendar, calendar, profiles } = props\r\n    // const data = useSelector((state) => state.calendars.calendars);\r\n    // const timeNow = new Date().getMilliseconds();\r\n    // const timeStart = new Date(StartTime).getMilliseconds();\r\n    // const timeEnd = new Date(EndTime).getMilliseconds();\r\n\r\n\r\n    useEffect(() => {\r\n        var datenow = new Date()\r\n        var date1 = new Date(StartTime);\r\n        var date2 = new Date(EndTime);\r\n        var date3 = date1 - datenow\r\n        var date4 = date2 - datenow\r\n        if (date4 <= 0) {\r\n            setStatus(\" kt thc\")\r\n            setClassType(\"orange\")\r\n        }\r\n        if (date3 <= 0 && date4 >= 0) {\r\n            setStatus(\"ang din ra\")\r\n            setClassType(\"green bolder\")\r\n        }\r\n\r\n    }, [calendar])\r\n\r\n    const dispatch = useDispatch();\r\n    // console.log(idSelected)\r\n    const handleToggle = () => {\r\n        props.setActiveIndex(index)\r\n        props.setIsSelected(false)\r\n        // handleEditCalendar(Id, calendar)\r\n    }\r\n\r\n    // useEffect(() => {\r\n    //     if (index === 0) {\r\n    //         setActive2(!isActive2)\r\n    //         setActive(!isActive)\r\n    //     }\r\n    // },[])\r\n\r\n\r\n    // const handleEditCal = () =>{\r\n    //     // let data = {\"id\":1, \"title\":\"HHHHHH\"}\r\n    //     handleEditCalendar(Id, props.calendar)\r\n    // }\r\n    const handleDelCal = () => {\r\n        handleDelCalendar(Id)\r\n    }\r\n    return (\r\n\r\n        <>\r\n            <tr key={index}>\r\n                <td >\r\n                    {index + pageVisited + 1}\r\n                </td>\r\n                <td >\r\n                    <span >{Subject}</span>\r\n                </td>\r\n                <td >\r\n                    <span >{moment(StartTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span>\r\n                </td>\r\n                <td >\r\n                    <span>{moment(EndTime).format(\"hh:mm A - DD/MM/YYYY\").toString()} </span>\r\n                </td>\r\n\r\n                <td className=\"hidden-480\">\r\n                    <span className={classType}>{status}</span>\r\n                </td>\r\n                <td>\r\n                    <div className=\"hidden-sm hidden-xs \">\r\n                        <button className={className === 'active' ? 'btn-xs btn-success' : 'btn-xs'} >\r\n                            <i className={className === 'active' ? 'ace-icon bigger-120 fa fa-eye' : 'ace-icon bigger-120 fa fa-eye-slash'} onClick={() => handleToggle(index)} title=\"Xem chi tit\" />\r\n                        </button>\r\n                        <button className='btn-xs btn-btn-info' >\r\n                            <Link to={`/cal_edit/${Id}`}>\r\n                                <i className=\"ace-icon fa fa-pencil bigger-120\" />\r\n                            </Link>\r\n                        </button>\r\n                        <button className=\"btn-xs btn-danger\">\r\n                            <i className=\"ace-icon fa fa-trash-o bigger-120\" onClick={handleDelCal} />\r\n                        </button>\r\n                        {/* <button className=\"btn-xs btn-warning\">\r\n                            <i className=\"ace-icon fa fa-flag bigger-120\" />\r\n                        </button> */}\r\n                    </div>\r\n\r\n                </td>\r\n            </tr>\r\n            {Id ? <CalendarListDetail className ={className} calendar={calendar} profiles={profiles} idSelected={idSelected} isActive={isActive} isActive2={isActive2} pageVisited={pageVisited} index={index} handleEditCalendar={handleEditCalendar} /> : \"\"}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CalendarListItem\r\n\r\n","import React from 'react'\r\nimport ReactPaginate from \"react-paginate\"\r\n\r\nconst CalendarPagination = (props) => {\r\n    const { pageCount, onPageChange, counts, pageVisited } = props\r\n    // console.log(pageCount)\r\n    // console.log(onPageChange)\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-xs-6\">\r\n                <div className=\"dataTables_info\" id=\"dynamic-table_info\" role=\"status\" aria-live=\"polite\">Hin th t { pageVisited + 1} n { (pageVisited + 10) < counts ? pageVisited + 10 : counts } trong tng {counts} phng hp</div>\r\n            </div>\r\n            <div className=\"col-xs-6\">\r\n\r\n                <div className=\"dataTables_paginate paging_simple_numbers\" id=\"dynamic-table_paginate\">\r\n                    <ReactPaginate\r\n                        previousLabel={\"V trang trc\"}\r\n                        nextLabel={\"Trang tip theo\"}\r\n                        containerClassName={\"pagination\"}\r\n                        previousClassName={\"paginate_button previous\"}\r\n                        nextLinkClassName={\"paginate_button next\"}\r\n                        disabledClassName={\"disabled\"}\r\n                        activeClassName={\"active\"}\r\n                        pageCount={pageCount}\r\n                        onPageChange={onPageChange}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CalendarPagination\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n// import CalendarListDetail from './CalendarListDetail';\r\nimport moment from 'moment';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n        },\r\n    },\r\n    small: {\r\n        width: theme.spacing(3),\r\n        height: theme.spacing(3),\r\n    },\r\n    large: {\r\n        width: theme.spacing(10),\r\n        height: theme.spacing(10),\r\n    },\r\n}));\r\n\r\n\r\n\r\nfunction UserListItem(props) {\r\n    const classes = useStyles();\r\n    const { index, pageVisited, user, handleDelUser, handleEditUser } = props\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleEdit = (id) => {\r\n        handleEditUser(id)\r\n    }\r\n    const handleDel = (id, user) => {\r\n        handleDelUser(id, user)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <tr key={index}>\r\n                <td style={{ textAlign: \"center\" }}>\r\n                    {index + pageVisited + 1}\r\n                </td>\r\n                <td style={{ textAlign: \"center\" }}>\r\n                    <div className={classes.root}>\r\n                        {/* <Avatar alt={user.last_name} src={user.image} className={classes.small} style={{margin:\"0px\"}} /> */}\r\n                        <Avatar alt={user.last_name} src={`http://localhost:8000${user.image}`} style={{margin:\"-6px\", }} />\r\n                        {/* <Avatar alt=\"Khac Hieu\" src={user.image} className={classes.large} /> */}\r\n                    </div>\r\n                </td>\r\n                <td >\r\n                    <span >{user.first_name}</span>\r\n                </td>\r\n                <td >\r\n                    <span >{user.last_name}</span>\r\n                </td>\r\n                <td style={{ textAlign: \"center\" }} >\r\n                    {(() => {\r\n                        switch (String(user.groups)) {\r\n                            case '1': return <span>Qun tr h thng</span>;\r\n                            case '2': return <span>Ch tr phng hp</span>;\r\n                            case '3': return <span>Thnh vin</span>;\r\n                            default: return <span>Thnh vin</span>;\r\n                        }\r\n                    })()}\r\n\r\n                </td>\r\n                <td style={{ textAlign: \"center\" }}>\r\n                    {user.phone &&\r\n                        <span>{user.phone} </span>\r\n                    }\r\n                </td>\r\n                <td style={{ textAlign: \"center\" }}>\r\n                    {user.date_joined &&\r\n                        <span>{moment(user.date_joined).format(\"hh:mm A - DD/MM/YYYY\").toString()} </span>\r\n                    }\r\n                </td>\r\n                <td style={{ textAlign: \"center\", color: \"green\" }}>\r\n                    {(() => {\r\n                        switch (user.is_active) {\r\n                            case true: return <span> kch hot</span>;\r\n                            default: return <span>Cha kch hot</span>;\r\n                        }\r\n                    })()}\r\n                    <span>{user.is_active}</span>\r\n                </td>\r\n                <td>\r\n                    <div className=\"hidden-sm hidden-xs \">\r\n                        <button className='btn-xs btn-success' >\r\n                            <i className='ace-icon bigger-120 fa fa-eye' title=\"Xem chi tit\" />\r\n                        </button>\r\n                        <button className='btn-xs btn-btn-info' onClick={() => handleEdit(user.id)}>\r\n                            {/* <Link to={`/user_edit/${user.id}`}> */}\r\n                            <i className=\"ace-icon fa fa-pencil bigger-120\" />\r\n                            {/* </Link> */}\r\n                        </button>\r\n                        <button className=\"btn-xs btn-danger\">\r\n                            <i className=\"ace-icon fa fa-trash-o bigger-120\" onClick={() => handleDel(user.id, user.user)} />\r\n                        </button>\r\n                        {/* <button className=\"btn-xs btn-warning\">\r\n                            <i className=\"ace-icon fa fa-flag bigger-120\" />\r\n                        </button> */}\r\n                    </div>\r\n\r\n                </td>\r\n            </tr>\r\n            {/* {Id ? <CalendarListDetail  calendar={props.calendar} idSelected={idSelected} isActive={isActive} isActive2={isActive2} pageVisited={pageVisited} index={index} handleEditCalendar={handleEditCalendar}/> : \"\"} */}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserListItem\r\n\r\n","import React from 'react'\r\nimport ReactPaginate from \"react-paginate\"\r\n\r\nconst UserPagination = (props) => {\r\n    const { pageCount, onPageChange, counts, pageVisited } = props\r\n    // console.log(pageCount)\r\n    // console.log(onPageChange)\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-xs-6\">\r\n                <div className=\"dataTables_info\" id=\"dynamic-table_info\" role=\"status\" aria-live=\"polite\">Hin th t { pageVisited + 1} n { (pageVisited + 10) < counts ? pageVisited + 10 : counts } trong tng {counts} phng hp</div>\r\n            </div>\r\n            <div className=\"col-xs-6\">\r\n\r\n                <div className=\"dataTables_paginate paging_simple_numbers\" id=\"dynamic-table_paginate\">\r\n                    <ReactPaginate\r\n                        previousLabel={\"V trang trc\"}\r\n                        nextLabel={\"Trang tip theo\"}\r\n                        containerClassName={\"pagination\"}\r\n                        previousClassName={\"paginate_button previous\"}\r\n                        nextLinkClassName={\"paginate_button next\"}\r\n                        disabledClassName={\"disabled\"}\r\n                        activeClassName={\"active\"}\r\n                        pageCount={pageCount}\r\n                        onPageChange={onPageChange}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserPagination\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\"; // new import\r\nimport { Col, Form, FormControl, } from \"react-bootstrap\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Select from \"react-select\";\r\nimport { getProfile, getProfiles, updateProfile } from \"./UserActions\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  small: {\r\n    width: theme.spacing(3),\r\n    height: theme.spacing(3),\r\n  },\r\n  large: {\r\n    width: theme.spacing(10),\r\n    height: theme.spacing(10),\r\n  },\r\n}));\r\n\r\nfunction ProfileUpdate(props) {\r\n  const classes = useStyles();\r\n  const profile = useSelector(state => state.profile.data)\r\n  console.log(profile)\r\n  console.log(props.id)\r\n  const [first_name, setFirst_name] = useState()\r\n  const [last_name, setLast_name] = useState()\r\n  const [email, setEmail] = useState()\r\n  const [groups, setGroups] = useState()\r\n  const [unit_id, setUnit_id] = useState()\r\n  const [phone, setPhone] = useState()\r\n  const [city, setCity] = useState()\r\n  const [sort_id, setSort_id] = useState()\r\n  const [user, setUser] = useState()\r\n  const src = \"http://127.0.0.1:8000/media/profiles/profile-pic.jpg\"\r\n  const [image, setImage] = useState(src)\r\n  const [imagePreviewUrl, setImagePreviewUrl] = useState(null)\r\n  const dispatch = useDispatch();\r\n\r\n  const groupsFix = [\r\n    { value: 1, label: \"Qun tr h thng\" },\r\n    { value: 2, label: \"Ch tr phng hp\" },\r\n    { value: 3, label: \"Thnh vin\" }\r\n  ]\r\n\r\n  const handleChangePro = (groups) => {\r\n    setGroups(groups)\r\n  }\r\n\r\n  useEffect(() => {\r\n    setFirst_name(profile.first_name ? profile.first_name : \"\")\r\n    setLast_name(profile.last_name ? profile.last_name : \"\")\r\n    setEmail(profile.email ? profile.email : \"\")\r\n    setGroups(profile.groups ? profile.groups : \"\")\r\n    setUnit_id(profile.unit_id ? profile.unit_id : 1)\r\n    setPhone(profile.phone ? profile.phone : \"\")\r\n    setSort_id(profile.sort_id ? profile.sort_id : \"\")\r\n    setImage(profile.image ? profile.image : src)\r\n    setUser(profile.user)\r\n  }, [profile.id])\r\n\r\n  // useEffect(() => {\r\n  //   dispatch(getProfiles())\r\n  // }, [])\r\n\r\n\r\n  const onUpdateClick = () => {\r\n    let form_data = new FormData();\r\n    if(image.name){\r\n      form_data.append('image', image, image.name)\r\n    }\r\n    form_data.append('id', props.id)\r\n    form_data.append('first_name', first_name)\r\n    form_data.append('last_name', last_name)\r\n    form_data.append('groups', groups.value?groups.value: groups)\r\n    form_data.append('unit_id', unit_id)\r\n    form_data.append('phone', phone)\r\n    form_data.append('sort_id', sort_id)\r\n    form_data.append('user', user)\r\n    dispatch(updateProfile(props.id, form_data)); // <-- signup new user request\r\n    props.setOpen2(false);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    props.setOpen2(false);\r\n  }\r\n\r\n  const handleChangeImage = (e) =>{\r\n    setImage(e.target.files[0])\r\n    let reader = new FileReader();\r\n\r\n    reader.onloadend = () => {\r\n     setImagePreviewUrl(reader.result)\r\n    }\r\n    reader.readAsDataURL(e.target.files[0])\r\n  }\r\n\r\n  console.log(image)\r\n\r\n  return (\r\n    <Col md=\"12\">\r\n      <Form>\r\n        <Form.Group controlId=\"usernameId\">\r\n          <Form.Label>H v tn</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"first_name\"\r\n            placeholder=\"Nhp Tn thng dng\"\r\n            value={first_name}\r\n            onChange={e => setFirst_name(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"usernameId\">\r\n          <Form.Label>Tn hin th</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"last_name\"\r\n            placeholder=\"Nhp H v tn lt\"\r\n            value={last_name}\r\n            onChange={e => setLast_name(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"usernameId\">\r\n          <Form.Label>S in thoi</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"phone\"\r\n            placeholder=\"Nhp S in thoi\"\r\n            value={phone}\r\n            onChange={e => setPhone(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"usernameId\">\r\n          <Form.Label>Chn Vai tr</Form.Label>\r\n          <Select\r\n            value={groups}\r\n            onChange={handleChangePro}\r\n            options={groupsFix}\r\n            placeholder={\"Chn Vai tr\"}\r\n            defaultValue={groupsFix[2]}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"usernameId\">\r\n          <Form.Label>n v</Form.Label>\r\n          <Select\r\n            value={unit_id}\r\n            onChange={handleChangePro}\r\n            options={groupsFix}\r\n            placeholder={\"Chn n v\"}\r\n          />\r\n        </Form.Group>\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-sm-9\" style={{marginLeft:\"-12px\"}}>\r\n            <Form.Group controlId=\"usernameId\">\r\n              <Form.Label>Chn Vai tr</Form.Label>\r\n              <input\r\n                className='form-control'\r\n                type='file'\r\n                onChange={handleChangeImage}\r\n              // accept=\"image/png, image/jpeg\" \r\n              />\r\n            </Form.Group>\r\n          </div>\r\n          <div className=\"col-xs-12 col-sm-3\">\r\n          <div className={classes.root}>\r\n            {/* <Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" className={classes.small} />\r\n            <Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" /> */}\r\n            <Avatar alt=\"Khac Hieu\" src={imagePreviewUrl?imagePreviewUrl:image} className={classes.large} />\r\n          </div>\r\n          </div>\r\n          \r\n\r\n        </div>\r\n\r\n        <Form.Group controlId=\"usernameId\">\r\n          <Form.Label>Th t hin th</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"sort_id\"\r\n            placeholder=\"Nhp a ch Mail\"\r\n            value={sort_id}\r\n            onChange={e => setSort_id(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n\r\n      </Form>\r\n      <div style={{ backgroundColor: \"#EFF3F8\", fontSize: \"20px\", textAlign: \"center\", height: \"50px\", marginTop: \"6px\" }}>\r\n        <button type=\"submit\" className=\"btn-sm btn-success\" onClick={onUpdateClick} style={{ marginTop: \"6px\" }}>\r\n          <i className=\"ace-icon fa fa-plus icon-on-right bigger-110\" />&nbsp;\r\n          Cp nht\r\n        </button>\r\n        <button type=\"submit\" className=\"btn-sm \" onClick={handleClose} style={{ marginTop: \"6px\" }}>\r\n          <i className=\"ace-icon fa fa-close icon-on-right bigger-110\" />&nbsp;\r\n          ng\r\n        </button>\r\n      </div>\r\n\r\n    </Col>\r\n  );\r\n}\r\nexport default withRouter(ProfileUpdate)","import React from 'react'\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\n\r\nfunction Recursive(props) {\r\n\r\n    const {item, children} = props\r\n    const uId=item.id\r\n    const Test =(id) =>{\r\n        \r\n        \r\n    }\r\n\r\n\r\n    let childitems = null;\r\n    if (children) {\r\n        childitems = children.map((childitem, index) => {\r\n            return (\r\n                <Recursive item={childitem} children={childitem.children} key={index} />\r\n            )\r\n        })\r\n    }\r\n    return (\r\n        <li key={uId} style={{cursor: 'pointer'}}>\r\n            \r\n            <NavLink to={`/user-create/${uId}/`} activeStyle={{color:\"green\"}}>{item.unit_name}</NavLink>\r\n            {childitems ? <ul >{childitems}</ul> : null}\r\n        </li>\r\n\r\n    )\r\n}\r\n\r\nexport default withRouter(Recursive)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter, useLocation   } from \"react-router-dom\";\r\n\r\nimport { getUsers, getProfiles, getProfile, getUnits, deleteUser, deleteProfile } from '../users/UserActions';\r\nimport UserListItem from './UserListItem'\r\nimport UserPagination from './UserPagination';\r\nimport UserAdd from './UserAdd';\r\nimport ProfileUpdate from './ProfileUpdate';\r\nimport Recursive from './Recursive';\r\n\r\nimport Modal from '@material-ui/core/Modal';\r\n\r\nfunction UserList(props) {\r\n    const location  = useLocation ();\r\n    // const { handleUpdate } = props\r\n    const [userSelected, setUserSelected] = useState([])\r\n    const [isSelected, setIsSelected] = useState(false)\r\n    const [idSelected, setIdSelected] = useState()\r\n    const [open, setOpen] = useState(false);\r\n    const [open2, setOpen2] = useState(false);\r\n    const [dataNew, setDataNew] = useState();\r\n    const [idUser, setIdUser] = useState(0);\r\n    const [idPro, setIdPro] = useState(1);\r\n    const [unitId, setUnitId] = useState(1);\r\n    \r\n    const data = useSelector(state => state.users.data);\r\n    const profiles = useSelector(state => state.profiles.data);\r\n    const units = useSelector(state => state.units.data);\r\n    const [proF, setProF] = useState(profiles)\r\n    const pf = profiles.filter((p) => unitId === p.unit_id)\r\n    console.log(location.pathname.split('/')[2])\r\n    console.log(profiles)\r\n    console.log(pf)\r\n    // const dataRoom = dataRooms.filter((item) => item.Id === Id)[0]\r\n    \r\n\r\n    const [pageNumber, setPageNumber] = useState(0);\r\n    const calPerPage = 10\r\n    const pageVisited = pageNumber * calPerPage\r\n\r\n    // data.sort((a, b) => {\r\n    //     if (a.StartTime > b.StartTime) {\r\n    //         return -1;\r\n    //     }\r\n    //     if (a.StartTime < b.StartTime) {\r\n    //         return 1;\r\n    //     }\r\n    //     return 0;\r\n    // });\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        setUnitId(parseInt(location.pathname.split('/')[2]))\r\n    }, [location.pathname.split('/')[2]])\r\n\r\n    useEffect(() => {\r\n        dispatch(getUsers())\r\n        dispatch(getUnits())\r\n    }, [])\r\n    useEffect(() => {\r\n        dispatch(getProfiles(unitId))\r\n    }, [unitId])\r\n\r\n    const handleEdit = (Id, dataUserSelect) => {\r\n        setUserSelected(dataUserSelect.User_room)\r\n        setIdSelected(Id)\r\n        setIsSelected(!isSelected)\r\n    }\r\n\r\n    const handleEditUser = (id) => {\r\n        setOpen2(true)\r\n        let idnew = profiles.find(p => p.id === id).id\r\n        console.log(idnew)\r\n        setIdUser(idnew)\r\n        dispatch(getProfile(id))\r\n    }\r\n\r\n\r\n\r\n    const handleDelUser = (id, user) => {\r\n        const username = data.find(u=>u.id===user).username\r\n        console.log(username)\r\n        dispatch(deleteUser(username))\r\n        dispatch(deleteProfile(id))\r\n    }\r\n\r\n    const pageCount = Math.ceil(profiles?.length / calPerPage)\r\n    const List_User = profiles?.slice(pageVisited, pageVisited + calPerPage)\r\n        .map((user, index) => {\r\n            return (\r\n                <UserListItem setOpen2={setOpen2} handleDelUser={handleDelUser} handleEditUser={handleEditUser} key={index} index={index} user={user} pageVisited={pageVisited} />\r\n            )\r\n        });\r\n\r\n    const changePage = ({ selected }) => {\r\n        setPageNumber(selected)\r\n    }\r\n\r\n    const handleFormAdd = () => {\r\n        setOpen(true)\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    \r\n\r\n    const selectUnit = units.map((item) => {\r\n        return (\r\n            <Recursive item={item} children={item.children} key={item.id} />\r\n        )\r\n\r\n    })\r\n\r\n    return (\r\n        <div className=\"row\" style={{ marginLeft: \"-12px\", marginRight: \"-12px\" }}>\r\n            <div className=\"col-xs-12 col-sm-3\">\r\n                <div className=\"widget-box\" style={{ marginTop: \"0px\" }}>\r\n                    <div className=\"widget-header\">\r\n                        <h5 className=\"widget-title\">n v</h5>\r\n                    </div>\r\n                    <div className=\"widget-body\">\r\n                        <div className=\"widget-main\" style={{ flex: 1, maxHeight: '80vh', overflowY: 'auto' }}>\r\n\r\n                            <ul>\r\n                                {selectUnit}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={open2 ? \"col-xs-12 col-sm-6\" : \"col-xs-12 col-sm-9\"} >\r\n                <div className=\"control-group\">\r\n                    <div className=\"dataTables_wrapper form-inline no-footer\" style={{ flex: 1, maxHeight: '76vh', overflowY: 'auto' }}>\r\n                        <table id=\"simple-table\" className=\"table  table-bordered table-hover\">\r\n                            <thead>\r\n                                <tr >\r\n                                    <th style={{ textAlign: \"center\" }}>TT</th>\r\n                                    <th style={{ textAlign: \"center\" }}></th>\r\n                                    <th style={{ textAlign: \"center\" }}>H v tn </th>\r\n                                    <th style={{ textAlign: \"center\" }}>Tn hin th</th>\r\n                                    <th style={{ textAlign: \"center\" }}>Vai tr</th>\r\n                                    <th style={{ textAlign: \"center\" }}>S in thoi</th>\r\n                                    <th style={{ textAlign: \"center\" }}>Ngy to</th>\r\n                                    <th style={{ textAlign: \"center\" }}>Trng thi</th>\r\n                                    <th className=\"hidden-480\" style={{ width: \"120px\" }}>\r\n                                        <button className=\"pull-right btn-sm btn-white btn-round\" onClick={handleFormAdd}>\r\n                                            <i className=\"menu-icon fa fa-plus\" />&nbsp;\r\n                                            <span className=\"menu-text\">Thm mi</span>\r\n                                        </button>\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {List_User}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <div className=\"dataTables_wrapper form-inline no-footer\" >\r\n                    <UserPagination pageCount={pageCount} onPageChange={changePage} counts={data?.length} pageVisited={pageVisited} />\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"simple-modal-title\"\r\n                aria-describedby=\"simple-modal-description\"\r\n            >\r\n                <UserAdd setOpen={setOpen} />\r\n            </Modal>\r\n            {open2 &&\r\n                <div className=\"col-xs-12 col-sm-3\">\r\n                    <div className=\"widget-box\" style={{ marginTop: \"0px\" }}>\r\n                        <div className=\"widget-header\">\r\n                            <h5 className=\"widget-title\">Cp nht thng tin ti khon</h5>\r\n                        </div>\r\n                        <div className=\"widget-body\">\r\n                            <div className=\"widget-main\" >\r\n                                <div className=\"row\">\r\n                                    <div style={{ display: 'flex', justifyContent: \"center\" }}>\r\n\r\n                                        <ProfileUpdate id={idUser} setOpen2={setOpen2} />\r\n\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(UserList)\r\n\r\n\r\n\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter, useHistory } from \"react-router-dom\";\r\nimport { useFullScreen } from \"react-browser-hooks\";\r\nimport { setJitsiStore } from \"../jitsi/JitsiActions\"\r\nimport ProgressComponent from '@material-ui/core/CircularProgress';\r\nimport UserList from \"../users/UserList\";\r\n\r\nfunction CalendarJitsi(props){\r\n    // const { roomId } = props.match.params;\r\n    const {Id, Subject} = props\r\n    const user_auth = useSelector((state) => state.auth);\r\n    const [users, setUsers] = useState([]);\r\n    const [user, setUser] = useState(user_auth.user.username);\r\n    const socketRef = useRef();\r\n    const { toggle, fullScreen } = useFullScreen();\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const domain = 'meet.jit.si';\r\n    let api = {};\r\n    const [room, setRoom] = useState(\"CNTTQK7\");\r\n    const [loading, setLoading] = useState(true);\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n        setRoom(Subject)\r\n    }, [])\r\n\r\n    const jitsiContainerStyle = {\r\n        display: (loading ? 'none' : 'block'),\r\n        width: '100%',\r\n        height: '300px',\r\n    }\r\n\r\n    const startMeet = () => {\r\n        const options = {\r\n            roomName: Id,\r\n            width: '100%',\r\n            height: \"300px\",\r\n            configOverwrite: { prejoinPageEnabled: false },\r\n            interfaceConfigOverwrite: {\r\n                // overwrite interface properties\r\n                filmStripOnly: false,\r\n                SHOW_JITSI_WATERMARK: false,\r\n                SHOW_WATERMARK_FOR_GUESTS: false,\r\n                DISABLE_DOMINANT_SPEAKER_INDICATOR: true,\r\n                TILE_VIEW_MAX_COLUMNS: 2,\r\n                TOOLBAR_BUTTONS: ['microphone', 'camera', 'chat', 'hangup', 'fullscreen', 'tileview', 'desktop', 'sharedvideo'],\r\n            },\r\n            parentNode: document.querySelector('#jitsi-iframe'),\r\n            userInfo: {\r\n                displayName: user,\r\n            }\r\n        }\r\n        api = new window.JitsiMeetExternalAPI(domain, options);\r\n        api.addEventListener('videoConferenceJoined', () => {\r\n            // console.log('Local User Joined');\r\n            setLoading(false);\r\n        });\r\n        api.addEventListeners({\r\n            readyToClose: handleClose,\r\n            participantLeft: handleParticipantLeft,\r\n            participantJoined: handleParticipantJoined,\r\n            videoConferenceJoined: handleVideoConferenceJoined,\r\n            videoConferenceLeft: handleVideoConferenceLeft,\r\n            audioMuteStatusChanged: handleMuteStatus,\r\n            videoMuteStatusChanged: handleVideoStatus\r\n        });\r\n        api.executeCommand('subject', Subject);\r\n        api.executeCommand('setLargeVideoParticipant', 'abcd1234');\r\n        api.executeCommand('avatarUrl', 'assets/images/avatars/user.jpg');\r\n        // console(api.getNumberOfParticipants())\r\n\r\n        dispatch(setJitsiStore(api));\r\n    }\r\n\r\n    const handleClose = () => {\r\n        console.log(\"handleClose\");\r\n    }\r\n    const handleParticipantLeft = async (participant) => {\r\n        console.log(\"handleParticipantLeft\", participant); // { id: \"2baa184e\" }\r\n        const data = await getParticipants();\r\n    }\r\n    const handleParticipantJoined = async (participant) => {\r\n        console.log(\"handleParticipantJoined\", participant); // { id: \"2baa184e\", displayName: \"Shanu Verma\", formattedDisplayName: \"Shanu Verma\" }\r\n        const data = await getParticipants();\r\n        console.log(data)\r\n    }\r\n    const handleVideoConferenceJoined = async (participant) => {\r\n        console.log(\"handleVideoConferenceJoined\", participant); // { roomName: \"bwb-bfqi-vmh\", id: \"8c35a951\", displayName: \"Akash Verma\", formattedDisplayName: \"Akash Verma (me)\"}\r\n        const data = await getParticipants();\r\n    }\r\n    const handleVideoConferenceLeft = () => {\r\n        console.log(\"handleVideoConferenceLeft\");\r\n        return history.push('/dashboard');\r\n    }\r\n\r\n    const handleMuteStatus = (muted) => {\r\n        console.log(\"handleMuteStatus\", muted); // { muted: true } \r\n        // setIsAudioMuted(muted)\r\n    }\r\n\r\n    const handleVideoStatus = (video) => {\r\n        console.log(\"handleVideoStatus\", video); // { muted: true }\r\n    }\r\n\r\n    const getParticipants = () => {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                resolve(api.getParticipantsInfo()); // get all participants\r\n            }, 500)\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (window.JitsiMeetExternalAPI) {\r\n            startMeet();\r\n        } else {\r\n            alert('JitsiMeetExternalAPI not loaded');\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n\r\n            { (user_auth.user.rules === \"1\" || user_auth.user.rules === \"0\") && (\r\n                <div id=\"sidebar\" className=\"sidebar responsive  ace-save-state \">\r\n\r\n                    < ul className=\"nav nav-list\" >\r\n                        <UserList users={users} ></UserList>\r\n                    </ul >\r\n                    <div className=\"sidebar-toggle sidebar-collapse\" id=\"sidebar-collapse\">\r\n                        <i id=\"sidebar-toggle-icon\" className=\"ace-icon fa fa-angle-double-left ace-save-state\" data-icon1=\"ace-icon fa fa-angle-double-left\" data-icon2=\"ace-icon fa fa-angle-double-right\" />\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n\r\n\r\n            <div style={{ display: 'flex', marginRight: '0px', overflow: 'scroll initial', height: '30vh'   }} >\r\n                {loading && <ProgressComponent style={{marginLeft: '45%', marginTop: '20%', width: '5%', height: '5%'}} />}\r\n                \r\n                <div id=\"jitsi-iframe\" style={jitsiContainerStyle}\r\n                ></div>\r\n\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(CalendarJitsi);\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setAudio } from \"../jitsi/JitsiActions\"\r\n\r\nimport { useFullScreen } from \"react-browser-hooks\";\r\n\r\nconst ControlList = () => {\r\n\r\n    const apiStore = useSelector((state) => state.jitsi);\r\n    const jitsiState = useSelector((state) => state.jitsi);\r\n    const api = apiStore.jitsiStrore;\r\n    const [stateAudio, setStateAudio] = useState(jitsiState.stateAudio)\r\n    const [stateCamera, setStateCamera] = useState(true)\r\n    const [stateShare, setStateShare] = useState(true)\r\n    const [stateChat, setStateChat] = useState(true)\r\n    const [stateCameraMirror, setStateCameraMirror] = useState(true)\r\n    const [stateTileView, setStateTileView] = useState(true)\r\n    const [stateFull, setStateFull] = useState(true)\r\n    const [stateRaiseHand, setStateRaiseHand] = useState(true)\r\n    const [stateFilmStrip, setStateFilmStrip] = useState(true)\r\n\r\n    const [fullDesktop, setFullDesktop] = useState(false)\r\n    const [numberOfParticipants, setNumberOfParticipants] = useState()\r\n    const dispatch = useDispatch();\r\n\r\n    // useEffect(()=>{\r\n    //     // const numberOfParticipants = api.getNumberOfParticipants();\r\n    //     // setNumberOfParticipants(numberOfParticipants)\r\n    //     const infoMy = api.getParticipantsInfo()\r\n    //     console.log(infoMy)\r\n    //     console.log(infoMy[0].participantId)\r\n    // }, [api])\r\n\r\n\r\n    const { toggle, fullScreen } = useFullScreen();\r\n    const handleFullDesktop = () => {\r\n        toggle();\r\n        setFullDesktop(!fullDesktop);\r\n    }\r\n    const audioOneClick = () =>{\r\n        api.executeCommand('toggleAudio');\r\n        // api.executeCommand('toggleFilmStrip');//An hien khung anh doc\r\n        // api.executeCommand('setLargeVideoParticipant', 'abcd1234');\r\n        // api.executeCommand('setVideoQuality', 1080);\r\n        // api.executeCommand('muteEveryone');\r\n        // api.dispose();\r\n        // api.executeCommand('avatarUrl', 'https://avatars0.githubusercontent.com/u/3671647');\r\n        // api.executeCommand('sendTones', {\r\n        //     tones: '12345#', // The dial pad touch tones to play. For example, '12345#'.\r\n        //     duration: 200, // Optional. The number of milliseconds each tone should play. The default is 200.\r\n        //     pause: 200 // Optional. The number of milliseconds between each tone. The default is 200.\r\n        // });\r\n        setStateAudio(!stateAudio)\r\n        dispatch(setAudio(!jitsiState.stateAudio))\r\n        console.log(jitsiState.stateAudio)\r\n    }\r\n    const videoOneClick = () =>{\r\n        api.executeCommand('toggleVideo');\r\n        setStateCamera(!stateCamera)\r\n    }\r\n    const shareScreenClick = () =>{\r\n        api.executeCommand('toggleShareScreen');\r\n        setStateShare(!stateShare)\r\n    }\r\n    const chatClick = () =>{\r\n        api.executeCommand('toggleChat');\r\n        setStateChat(!stateChat)\r\n    }\r\n    const cameraMirrorClick = () =>{\r\n        api.executeCommand('toggleCameraMirror');\r\n        // room.setLocalParticipantProperty('raised-hand', true)\r\n        setStateCameraMirror(!stateCameraMirror)\r\n    }\r\n    const tileViewClick = () =>{\r\n        api.executeCommand('toggleTileView');\r\n        setStateTileView(!stateTileView)\r\n    }\r\n    const filmStripClick = () =>{\r\n        api.executeCommand('toggleFilmStrip');\r\n        setStateFilmStrip(!stateFilmStrip)\r\n    }\r\n\r\n\r\n\r\n    \r\n    const raiseHandClick = () =>{\r\n        // const infoMy = api.getParticipantsInfo()\r\n        // console.log(infoMy)\r\n        // console.log(infoMy[0].participantId)\r\n        // const numberOfParticipants = api.getNumberOfParticipants();\r\n        // console.log(numberOfParticipants)\r\n        // api.addEventListener(\r\n        //     {\r\n        //         id: infoMy[0].participantId,         \r\n        //         handRaised: true // whether hand raised or lowered\r\n        //     }\r\n        //   );\r\n        //   console.log(handleParticipantLeft())\r\n        api.executeCommand('toggleRaiseHand');\r\n          setStateRaiseHand(!stateRaiseHand)\r\n    }\r\n\r\n    \r\n    return (\r\n        <div className=\"navbar-buttons navbar-header \" role=\"navigation\" style={{ marginTop: '10px', textAlign: \"center\"}}>\r\n            <div className=\"pull-right action-buttons\">\r\n                <button className=\"blue\" onClick={audioOneClick} title=\"Tt/M Micro\">\r\n                    {jitsiState.stateAudioAll ? (<i className=\"ace-icon fa fa-microphone green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-microphone-slash red bigger-160\" /> )}\r\n                </button>\r\n                <span className=\"vbar\" />\r\n                <button className=\"blue\" onClick={videoOneClick} title=\"Tt/M Camera\">\r\n                    {stateCamera ? (<i className=\"ace-icon fa fa-video-camera green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-file-movie-o red bigger-160\" /> )}\r\n                </button>\r\n                <button className=\"blue\" onClick={shareScreenClick} title=\"Chia s mn hnh\">\r\n                    {stateShare ? (<i className=\"ace-icon fa fa-share-square-o green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-share-square red bigger-160\" /> )}\r\n                </button>\r\n\r\n                <button className=\"blue\" onClick={chatClick} title=\"Trao i thng tin\">\r\n                    {stateChat ? (<i className=\"ace-icon fa  fa-comments-o  green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-comments-o red bigger-160\" /> )}\r\n\r\n                </button>\r\n                <button className=\"blue\" onClick={raiseHandClick} title=\"ng k pht biu\">\r\n                    {stateRaiseHand ? (<i className=\"ace-icon fa fa-hand-paper-o  green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-hand-rock-o red bigger-160\" /> )}\r\n                </button>\r\n                <button className=\"blue\" onClick={tileViewClick} title=\"Thay i giao din hnh nh\">\r\n                    {stateTileView ? (<i className=\"ace-icon fa fa-th-large green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-desktop red bigger-160\" /> )}\r\n\r\n                </button>\r\n                <button className=\"blue\" onClick={handleFullDesktop} title=\"Phng to/Thu nh mn hnh\">\r\n                    {/* <i className=\"ace-icon fa fa-external-link-square fa fa-film green bigger-160\" /> */}\r\n                    {!fullDesktop ? (<i className=\"ace-icon fa fa-arrows-alt green bigger-160\" />) : (<i className=\"ace-icon fa fa-compress red bigger-160\" />)}\r\n\r\n                </button>\r\n                <button className=\"blue\" onClick={cameraMirrorClick} title=\"Lt hnh nh Camera\">\r\n                    {stateCameraMirror ? (<i className=\"ace-icon fa fa-exchange  green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-file-image-o red bigger-160\" /> )}\r\n\r\n                </button>\r\n                <button className=\"blue\" onClick={filmStripClick} title=\"Hin th/Tt hin th hnh nh cc thnh vin\">\r\n                    {stateFilmStrip ? (<i className=\"ace-icon fa fa-film  green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-film red bigger-160\" /> )}\r\n\r\n                </button>\r\n                {(numberOfParticipants)&&(\r\n                    <button className=\"blue\" title=\"Hin th/Tt hin th hnh nh cc thnh vin\">\r\n                    <i className=\"ace-icon fa fa-group green bigger-160\" /> \r\n                    \r\n                    &nbsp;&nbsp; {numberOfParticipants}\r\n                </button>\r\n                )}\r\n                \r\n\r\n\r\n\r\n            </div>\r\n            {/* <button href=\"/\"><span className=\"badge badge-important\">Trang ch</span></button>\r\n                  <span className=\"badge badge-important\"><a className=\"dropdown-toggle\" href=\"/\"></a>Trang ch</span> */}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ControlList;\r\n","import React, { useState, useEffect } from 'react';\r\nimport moment from 'moment';\r\nimport CalendarJitsi from './CalendarJitsi';\r\nimport ControlList from './ControlList';\r\n\r\nfunction CalendarToday(props) {\r\n    const { index, cal } = props;\r\n    const [status, setStatus] = useState(\"Cha din ra\")\r\n    const [statusNum, setStatusNum] = useState(3)\r\n    const [classType, setClassType] = useState(\"search-promotion label label-blue arrowed-in arrowed-in-right\")\r\n\r\n    useEffect(() => {\r\n        var datenow = new Date()\r\n        var date1 = new Date(cal.StartTime);\r\n        var date2 = new Date(cal.EndTime);\r\n        var date3 = date1 - datenow\r\n        var date4 = date2 - datenow\r\n        if (date4 <= 0) {\r\n            setStatus(\" kt thc\")\r\n            setStatusNum(0)\r\n            setClassType(\"search-promotion label label-danger arrowed-in arrowed-in-right\")\r\n        }\r\n        if (date3 <= 0 && date4 >= 0) {\r\n            setStatus(\"ang din ra\")\r\n            setStatusNum(1)\r\n            setClassType(\"search-promotion label label-success arrowed-in arrowed-in-right\")\r\n        }\r\n\r\n    }, [props.calendar])\r\n    return (\r\n        <>\r\n            {cal && statusNum === 1 ?\r\n                <div className=\"col-xs-12 col-sm-12 col-md-12\" key={index} style={{ padding: \"1px\" }}>\r\n                    <div className=\"thumbnail search-thumbnail\">\r\n                        <span className={classType}><b>{status}</b></span>\r\n                        {/* <iframe  src=\"https://meet.jit.si/Hieu\" style={{height: \"300px\", width: \"100%\", border: \"0px\"}}></iframe> */}\r\n                        {/* <Iframe url=\"https://meet.jit.si/Hieu\"\r\n                            width=\"100%\"\r\n                            height=\"300px\"\r\n                            // id=\"myId\"\r\n                            // className=\"myClassname\"\r\n                            display=\"initial\"\r\n                            position=\"relative\"\r\n                            allow=\"camera; microphone; fullscreen; display-capture; autoplay\" \r\n                            /> */}\r\n                        <CalendarJitsi id={cal.Id} Subject={cal.Subject} />\r\n                        <ControlList />\r\n                        <div className=\"caption\">\r\n                            <div className=\"clearfix\">\r\n                                <span className=\"pull-right label label-grey info-label\">a im: {cal.Location}</span>\r\n\r\n                            </div>\r\n                            <h5 className=\"search-title\">\r\n                                <a href=\"#\" className=\"blue\">{cal.Subject}</a>\r\n                            </h5>\r\n                            {/* <p>{cal.Description}</p> */}\r\n                            <span >Thi gian t {moment(cal.StartTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span> &nbsp;\r\n                            <span >n {moment(cal.EndTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                :\r\n                <div className=\"col-xs-6 col-sm-6 col-md-6\" key={index} style={{ padding: \"1px\" }}>\r\n                    <div className=\"thumbnail search-thumbnail\">\r\n                        <span className={classType}><b>{status}</b></span>\r\n                        <img className=\"media-object\" alt=\"100%x200\" style={{ height: 120, width: '100%', display: 'block' }} src=\"assets/images/myimg/HNTT.jpg\" data-holder-rendered=\"true\" />\r\n                        {/* <iframe src=\"https://meet.jit.si/Hieu\" style={{ height: \"200px\", width: \"100%\", border: \"0px\" }}></iframe> */}\r\n                        <div className=\"caption\">\r\n                            <div className=\"clearfix\">\r\n                                <span className=\"pull-right label label-grey info-label\">a im: {cal.Location}</span>\r\n\r\n                            </div>\r\n                            <h5 className=\"search-title\">\r\n                                <a href=\"#\" className=\"blue\">{cal.Subject}</a>\r\n                            </h5>\r\n                            {/* <p>{cal.Description}</p> */}\r\n                            <span >Thi gian t {moment(cal.StartTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span> &nbsp;\r\n                            <span >n {moment(cal.EndTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CalendarToday\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom'\r\nimport { getUsers, getProfiles } from '../users/UserActions';\r\nimport { getCalendar, deleteCalendar } from \"./CalendarActions\";\r\nimport CalendarListItem from './CalendarListItem'\r\nimport CalendarPagination from './CalendarPagination';\r\nimport CalendarToday from './CalendarToday';\r\nimport moment from 'moment'\r\n\r\nimport Clock from 'react-clock';\r\nimport 'react-clock/dist/Clock.css';\r\n\r\nfunction CalendarList(props) {\r\n    const { handleUpdate } = props\r\n\r\n    const dataUser = useSelector(state => state.users.data);\r\n    const profiles = useSelector(state => state.profiles.data);\r\n    const data = useSelector((state) => state.calendars.calendars);\r\n    // const dataRoom = dataRooms.filter((item) => item.Id === Id)[0]\r\n    const [userSelected, setUserSelected] = useState([])\r\n    const [isSelected, setIsSelected] = useState(false)\r\n    const [idSelected, setIdSelected] = useState()\r\n    const [activeIndex, setActiveIndex] = useState(0);\r\n    const [pageNumber, setPageNumber] = useState(0);\r\n    const calPerPage = 5\r\n    const pageVisited = pageNumber * calPerPage\r\n\r\n    data.sort((a, b) => {\r\n        if (a.StartTime > b.StartTime) {\r\n            return -1;\r\n        }\r\n        if (a.StartTime < b.StartTime) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    });\r\n\r\n    const [value, setValue] = useState(new Date());\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(\r\n            () => setValue(new Date()),\r\n            1000\r\n        );\r\n        return () => {\r\n            clearInterval(interval);\r\n        }\r\n    }, []);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getCalendar())\r\n        dispatch(getUsers())\r\n        dispatch(getProfiles())\r\n    }, [])\r\n\r\n    const handleEdit = (Id, dataUserSelect) => {\r\n        setUserSelected(dataUserSelect.User_room)\r\n        setIdSelected(Id)\r\n        setIsSelected(true)\r\n    }\r\n    // console.log(idSelected)\r\n    const List_user_room = dataUser?.filter(items => userSelected.includes(items.id)).map((item, index) => {\r\n        return (\r\n            <tr key={index}>\r\n                <td >\r\n                    {index + 1}\r\n                </td>\r\n                <td >\r\n                    {profiles.find(p => p.user === item.id).first_name ? profiles.find(p => p.user === item.id).first_name : item.username}\r\n                </td>\r\n                <td style={{textAlign:\"center\", color:\"green\"}}>\r\n                    {(() => {\r\n                        switch (String(item.groups)) {\r\n                            case '1':\r\n                                return <span >Qun tr h thng </span>\r\n                            case '2':\r\n                                return <span style={{fontWeight:\"bold\", color:\"blue\"}}>Ch tr phng hp </span>\r\n                            default:\r\n                                return <span >Thnh vin </span>\r\n                        }\r\n                    })()}\r\n\r\n                </td>\r\n            </tr>\r\n        )\r\n    })\r\n\r\n    const handleDel = (Id) => {\r\n        dispatch(deleteCalendar(Id))\r\n    }\r\n\r\n    const pageCount = Math.ceil(data.length / calPerPage)\r\n    const List_calendar = data\r\n        .slice(pageVisited, pageVisited + calPerPage)\r\n        .map((calendar, index) => {\r\n            const className = activeIndex === index ? 'active' : 'disable';\r\n            return (\r\n                <CalendarListItem setIsSelected={setIsSelected} setActiveIndex={setActiveIndex} className={className} idSelected={idSelected} key={index} index={index} calendar={calendar} profiles={profiles} pageVisited={pageVisited} handleEditCalendar={handleEdit} handleDelCalendar={handleDel} />\r\n            )\r\n        });\r\n\r\n    const changePage = ({ selected }) => {\r\n        setPageNumber(selected)\r\n    }\r\n    const today = new Date()\r\n\r\n    // console.log(moment(today).format(\"DD-MM-YY\").toString())\r\n\r\n    const CalendarTodays = data?.filter(x => moment(x.StartTime).format(\"DD-MM-YY\").toString() === moment(today).format(\"DD-MM-YY\").toString()).map((cal, index) => {\r\n        return (\r\n            <CalendarToday key={index} index={index} cal={cal} />\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className=\"row\" style={{ marginLeft: \"-24px\", marginRight: \"-24px\", backgroundColor:\"white\" }}>\r\n            <div className=\"col-xs-12 col-sm-8\">\r\n                <div className=\"control-group\">\r\n                    <div className=\"dataTables_wrapper form-inline no-footer\" style={{ flex: 1, maxHeight: '76vh', overflowY: 'auto' }}>\r\n                        <table id=\"simple-table\" className=\"table  table-bordered table-hover\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th >TT</th>\r\n                                    <th >Tiu  cuc hp</th>\r\n                                    <th >Thi gian bt u</th>\r\n                                    <th >Thi gian kt thc</th>\r\n                                    <th >Trng thi</th>\r\n                                    <th className=\"hidden-480\" style={{ width: \"120px\" }}>\r\n                                        <button className=\"pull-right btn-sm btn-white btn-round\">\r\n                                            <Link to='/cal_add'>\r\n                                                <i className=\"menu-icon fa fa-plus\" />&nbsp;\r\n                                                <span className=\"menu-text\">Thm mi</span>\r\n                                            </Link>\r\n                                        </button>\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {List_calendar}\r\n                            </tbody>\r\n                        </table>\r\n                        \r\n                    </div>\r\n                    <div className=\"dataTables_wrapper form-inline no-footer\" >\r\n                    <CalendarPagination pageCount={pageCount} onPageChange={changePage} counts={data?.length} pageVisited={pageVisited} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-xs-12 col-sm-4\">\r\n                {isSelected ?\r\n                    <div className=\"control-group\" >\r\n                        <div className=\"dataTables_wrapper form-inline no-footer\" style={{ flex: 1, maxHeight: '84vh', overflowY: 'auto' }}>\r\n\r\n                            <table id=\"simple-table\" className=\"table  table-bordered table-hover\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th style={{textAlign:\"center\"}}>TT</th>\r\n                                        <th style={{textAlign:\"center\"}}>Tn thnh vin</th>\r\n                                        <th style={{textAlign:\"center\"}}>Vai tr</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody >\r\n                                    {\r\n                                        List_user_room\r\n                                    }\r\n                                </tbody>\r\n                            </table>\r\n\r\n                        </div>\r\n                    </div>\r\n                    :\r\n                    <div className=\"widget-box\" style={{ marginTop: \"0px\" }}>\r\n                        <div className=\"widget-header\">\r\n                        </div>\r\n                        <div className=\"widget-body\">\r\n                            <div className=\"widget-main\" >\r\n                                <div className=\"row\" >\r\n                                    <div style={{ display: 'flex', justifyContent: \"center\" }}>\r\n                                        <Clock\r\n                                            value={value}\r\n                                            size={235}\r\n                                        />\r\n                                    </div>\r\n                                    <div style={{ backgroundColor: \"#EFF3F8\", fontSize: \"20px\", textAlign: \"center\", height: \"50px\", marginTop: \"6px\" }}>Ngy {moment().format(\"DD-MM-YYYY\")}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CalendarList\r\n","import React, { useState, useEffect } from \"react\";\r\n// import \"./material.css\";\r\nimport CalendarList from \"./CalendarList\";\r\nimport CalendarBreadcrumb from \"./CalendarBreadcrumb\";\r\nimport Header from \"../common/Header\"\r\nimport Footer from \"../common/Footer\"\r\nimport Menubar from \"../common/Menubar\"\r\n\r\nfunction CalendarMeet() {\r\n\r\n    // const [Id_cal, setId_cal] = useState()\r\n    // const [itemCalendar, setItemCalendar] = useState()\r\n\r\n    // const handleUpdate = (Id, data) => {\r\n    //     setId_cal(Id)\r\n    //     setItemCalendar(data)\r\n    // }\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n                <Menubar />\r\n                <div className=\"main-content\">\r\n                    <div className=\"main-content-inner\" >\r\n                        {/* <CalendarBreadcrumb /> */}\r\n\r\n                        <div className=\"page-content\">\r\n                            <CalendarList />\r\n                            {/* handleUpdate={handleUpdate} */}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default CalendarMeet;","import React from 'react'\r\nimport Header from \"../common/Header\"\r\nimport Footer from \"../common/Footer\"\r\nimport Menubar from \"../common/Menubar\"\r\nimport UserList from './UserList'\r\n\r\nfunction UserCreate() {\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n                <Menubar />\r\n                <div className=\"main-content\">\r\n                    <div className=\"main-content-inner\" >\r\n                        {/* <CalendarBreadcrumb /> */}\r\n\r\n                        <div className=\"page-content\">\r\n                            <UserList />\r\n                            {/* handleUpdate={handleUpdate} */}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserCreate\r\n","import React from 'react';\r\nimport Root from \"./Root\";\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Signup from \"./components/signup/Signup\";\r\nimport Login from \"./components/login/Login\"\r\nimport requireAuth from \"./utils/RequireAuth\";\r\nimport Dashboard from \"./components/dashboard/Dashboard\"\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport JitsiMeetAdmin from \"./components/jitsi/JitsiMeetAdmin\";\r\nimport JitsiMeetClient from \"./components/jitsi/JitsiMeetClient\";\r\nimport axios from \"axios\";\r\nimport CalendarAddRoom from './components/calendar/CalendarAddRoom';\r\nimport CalendarEditRoom from './components/calendar/CalendarEditRoom';\r\nimport CalendarMeet from './components/calendar/CalendarMeet';\r\nimport UserCreate from './components/users/UserCreate';\r\n\r\naxios.defaults.baseURL = \"http://cntt.qk7.bqo:8000\";\r\n// if (window.location.origin === \"http://localhost:8000\") {\r\n//   axios.defaults.baseURL = \"http://127.0.0.1:8000\";\r\n// } else {\r\n//   axios.defaults.baseURL = window.location.origin;\r\n// }\r\n\r\nconst App = () => {\r\n  return (\r\n    <>\r\n      <ToastContainer hideProgressBar={true} newestOnTop={true} />\r\n      <Root>\r\n              {/* PAGE CONTENT BEGINS */}\r\n              <Switch>\r\n                <Route path='/signup' component={requireAuth(Signup)} />\r\n                <Route path='/login' component={Login} />\r\n                <Route path='/user-create' component={UserCreate} />\r\n                <Route exact path=\"/\" component={requireAuth(Dashboard)} />\r\n                <Route path=\"/hnth-admin/:roomId\" component={requireAuth(JitsiMeetAdmin)} />\r\n                <Route path=\"/hnth-client/:roomId\" component={requireAuth(JitsiMeetClient)} />\r\n                <Route path=\"/cal_meet\" component={requireAuth(CalendarMeet)} />\r\n                <Route path=\"/cal_add\" component={requireAuth(CalendarAddRoom)} />\r\n                <Route path=\"/cal_edit/:Id\" component={requireAuth(CalendarEditRoom)} />\r\n                <Route path=\"*\">Link not found!</Route>\r\n              </Switch>\r\n              {/* PAGE CONTENT ENDS */}\r\n      </Root>\r\n      <ToastContainer />\r\n    </>\r\n  )\r\n}\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import './index.css';\r\nimport App from './App';\r\n\r\n// import \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n// require(\"react-datepicker/dist/react-datepicker.css\");\r\n// require(\"react-datepicker/dist/react-datepicker-cssmodules.min.css\");\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}