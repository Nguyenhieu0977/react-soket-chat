{"version":3,"sources":["components/signup/SignupTypes.js","components/signup/SignupReducer.js","components/login/LoginTypes.js","components/login/LoginReducer.js","components/chat/ChatTypes.js","components/chat/ChatReducer.js","components/chat_ui/ChatTypes.js","components/chat_ui/ChatUiReducer.js","components/jitsi/JitsiTypes.js","components/jitsi/JisiReducer.js","components/calendar/CalendarTypes.js","components/calendar/CalendarReducer.js","components/users/UserTypes.js","components/users/UserReducer.js","components/users/ProfileReducer.js","components/users/ProfilesReducer.js","components/users/UnitsReducer.js","Reducer.js","utils/Utils.js","components/login/LoginActions.js","Root.js","components/signup/Signup.js","components/signup/SignupActions.js","components/login/Login.js","utils/RequireAuth.js","components/users/UserActions.js","components/common/Header.js","components/common/Footer.js","components/common/Menubar.js","components/calendar/CalendarActions.js","components/jitsi/JitsiActions.js","components/dashboard/CalendarJitsi.js","components/dashboard/CalendarToday.js","components/dashboard/CalendarNext.js","components/calendar/CalendarHome.js","components/dashboard/UpdateProfile.js","components/dashboard/Dashboard.js","components/chat/UserAvatar.js","components/chat/UserList.js","components/jitsi/ControlList.js","components/jitsi/JitsiMeet.js","components/jitsi/JitsiMeetAdmin.js","components/jitsi/JitsiMeetClient.js","useChat.js","components/chat/ChatMessage.js","useTyping.js","components/chat/NewMessageForm.js","components/chat/TypingAnimation.js","components/chat/TypingMessage.js","components/chat/Users.js","components/chat/ChatBreadcrumb.js","components/chat/ChatUsers.js","components/chat/ControlChat.js","components/chat/ChatActions.js","components/chat/ControlChatMessage.js","components/chat/ChatRoom.js","components/calendar/Calendar.js","components/calendar/CalendarSeclectUser.js","components/users/UserAdd.js","components/calendar/CalendarAddRoom.js","components/calendar/CalendarSeclectUserEdit.js","components/calendar/CalendarEditRoom.js","components/calendar/CalendarModal.js","components/calendar/CalendarListDetail.js","components/calendar/CalendarListItem.js","components/calendar/CalendarPagination.js","components/calendar/CalendarJitsi.js","components/calendar/ControlList.js","components/calendar/CalendarToday.js","components/calendar/CalendarList.js","components/calendar/CalendarMeet.js","components/chat_ui/chatList/Avatar.js","components/chat_ui/chatList/ChatListItems.js","components/chat_ui/ChatActions.js","components/chat_ui/chatList/ChatListGroups.js","components/chat_ui/chatList/ChatList.js","components/chat_ui/ChatMessage/ChatMessage.js","components/chat_ui/NewMessageForm/NewMessageForm.js","components/chat_ui/chatList/ChatListUsersGroup.js","components/chat_ui/chatList/ChatUserGroupModal.js","components/chat_ui/chatList/ChatAvatarGroup.js","components/chat_ui/ChatRoom/ChatRoom.js","components/chat_ui/userProfile/UserProfile.js","components/chat_ui/chatBody/ChatBody.js","components/chat_ui/ChatUi.js","components/users/UserListItem.js","components/users/UserPagination.js","components/users/ProfileUpdate.js","components/users/Recursive.js","components/users/UserList.js","components/users/UserCreate.js","App.js","index.js"],"names":["CREATE_USER_SUBMITTED","CREATE_USER_SUCCESS","CREATE_USER_ERROR","initialState","usernameError","passwordError","re_passwordError","isSubimtted","signupReducer","state","action","type","errorState","errorData","hasOwnProperty","SET_TOKEN","SET_CURRENT_USER","UNSET_CURRENT_USER","GET_PROFILEUSER_SUCCESS","isAuthenticated","user","profile","token","loginReducer","payload","GET_USER_CHAT","GET_ALL_USER_CHAT","GET_MESSAGES","userChat","userchats","messages","chatReducer","GET_CHAT_GROUPS_ERROR","GET_CHAT_GROUP","GET_CHAT_GROUPS_SUCCESS","GET_CHAT_GROUPS_LOAD","GET_CHAT_MESSAGES","POST_CHAT_MESSAGES","REMOVE_GET_CHAT_MESSAGES","chatUiReducer","initialState2","responseting","success","messege","chatgroups","chatgroup","chatGroupReducer","TOGGLE_AUDIO_ALL","TOGGLE_AUDIO","TOGGLE_VIDEO_ALL","TOGGLE_FULL_ALL","SET_JITSI_STORE","GET_MEET_ROOM","jitsiState","stateAudioAll","stateVideoAll","stateFullAll","stateTileViewAll","stateAudio","stateCamera","stateChat","stateCameraMirror","stateTileView","stateFull","stateRaiseHand","stateFilmStrip","jitsiStrore","meetroom","jitsiReducer","GET_CALENDARS","ADD_CALENDAR","DELETE_CALENDAR","UPDATE_CALENDAR","DETAIL_CALENDAR","calendars","calendarId","CalendarReducer","filter","item","index","Id","updatedCalendar","map","GET_USERS_SUCCESS","GET_USERS_REQUEST","GET_USERS_ERROR","GET_PROFILES_SUCCESS","GET_PROFILES_REQUEST","GET_PROFILES_ERROR","UPDATE_PROFILES_SUCCESS","DELETE_PROFILE_SUCCESS","GET_PROFILE_SUCCESS","GET_PROFILE_REQUEST","UPDATE_PROFILE_SUCCESS","UPDATE_PROFILE_SUBMITTED","UPDATE_PROFILE_ERROR","DELETE_USER_SUCCESS","DELETE_USER_ERROR","GET_UNITS_SUCCESS","GET_UNITS_REQUEST","GET_UNITS_ERROR","CREATE_UNIT_SUBMITTED","CREATE_UNIT_SUCCESS","CREATE_UNIT_ERROR","RESETPASSWORD_SUCCESS","data","userReducer","first_nameError","last_nameError","imageError","profileReducer","profilesReducer","updateProfile","p","id","unitsReducer","createRootReducer","history","combineReducers","router","connectRouter","createUser","auth","chats","chatUi","jitsi","users","profiles","units","setAxiosAuthToken","axios","defaults","headers","common","toastOnError","error","response","toast","JSON","stringify","message","isEmpty","value","undefined","Object","keys","length","trim","getCurrentUser","redirectTo","dispatch","get","then","username","groups","last_login","date_joined","email","first_name","last_name","is_active","is_staff","is_superuser","setCurrentUser","catch","unsetCurrentUser","localStorage","setItem","getProfileUser","console","log","push","setToken","removeItem","logout","post","children","createBrowserHistory","middleware","thunk","routerMiddleware","store","createStore","rootReducer","applyMiddleware","getItem","parse","Signup","props","onChange","e","setState","target","name","onSignupClick","userData","password","re_password","signupNewUser","Container","Row","Col","md","Form","Group","controlId","Label","Control","isInvalid","this","placeholder","FormControl","Feedback","Button","color","onClick","className","to","Component","connect","resposne","withRouter","useState","setUsername","setPassword","useDispatch","style","height","paddingTop","auth_token","login","requireAuth","AuthenticatedComponent","checkAuth","prevProps","prevState","redirectAfterLogin","location","pathname","React","getUsers","a","getProfiles","getProfile","patch","useSelector","passwordNew","setPasswordNew","passwordOld","setPasswordOld","useEffect","href","role","data-toggle","image","src","replace","alt","width","dataReset","resetPassword","new_password","current_password","event","preventDefault","Footer","position","minHeight","bottom","backgroundColor","paddingBottom","find","u","maxHeight","axact","activeStyle","data-icon1","data-icon2","getCalendar","addCalendar","calendar","updateCalendar","url","setAudio","setJitsiStore","jitsiStore","getMeetRoom","Subject","user_auth","useFullScreen","toggle","fullScreen","api","isAudioMuted","setIsAudioMuted","isVideoMuted","setIsVideoMuted","setIsTileView","setDominantSpeaker","setDisplayName2","participants","setParticipants","loading","setLoading","useHistory","jitsiContainerStyle","display","handleClose","handleParticipantLeft","participant","getParticipants","handleParticipantJoined","handleVideoConferenceJoined","handleVideoConferenceLeft","handleMuteStatus","muted","handleVideoStatus","video","handleTileViewStatus","tileview","enabled","handleDominantSpeaker","speaker","dispName","getDisplayName","Promise","resolve","reject","setTimeout","getParticipantsInfo","window","JitsiMeetExternalAPI","options","roomName","configOverwrite","prejoinPageEnabled","interfaceConfigOverwrite","filmStripOnly","SHOW_JITSI_WATERMARK","SHOW_WATERMARK_FOR_GUESTS","DISABLE_DOMINANT_SPEAKER_INDICATOR","TILE_VIEW_MAX_COLUMNS","TOOLBAR_BUTTONS","parentNode","document","querySelector","userInfo","displayName","addEventListener","addEventListeners","readyToClose","participantLeft","participantJoined","videoConferenceJoined","videoConferenceLeft","audioMuteStatusChanged","videoMuteStatusChanged","tileViewChanged","dominantSpeakerChanged","executeCommand","startMeet","alert","marginRight","overflow","marginLeft","marginTop","CalendarToday","cal","status","setStatus","setStatusNum","classType","setClassType","datenow","Date","date3","StartTime","date4","EndTime","paddingLeft","paddingRight","maxWidth","title","disabled","User_control","uR","whiteSpace","textOverflow","moment","format","toString","User_vip","includes","v","EventType","eventType","String","User_room","CalendarNext","L10n","load","CalendarHome","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","palette","background","border","boxShadow","shadows","padding","spacing","root","margin","small","large","phone","setPhone","setFirst_name","setLast_name","setImage","imagePreviewUrl","setImagePreviewUrl","errorInput","setErrorInput","classes","modalStyle","body","files","reader","FileReader","onloadend","result","readAsDataURL","Avatar","fontSize","textAlign","setStateEdit","form_data","FormData","append","stateEdit","sort","b","setValue","interval","setInterval","clearInterval","today","lengthCal","lengthCalNext","CalendarTodays","x","CalendarNexts","fontWeight","flex","overflowY","justifyContent","size","Modal","open","aria-labelledby","aria-describedby","UserAvatar","picture","UserList","audioClick","cameraClick","fullClick","setStateCamera","setStateFull","data-size","ControlList","isTileView","apiStore","setStateAudio","stateShare","setStateShare","setStateChat","setStateCameraMirror","setStateTileView","setStateRaiseHand","setStateFilmStrip","fullDesktop","setFullDesktop","numberOfParticipants","SOCKET_SERVER_URL","useParams","roomMeet","setUsers","socketRef","useRef","displayName2","fetchUsers","current","socketIOClient","query","on","disconnect","data-sidebar","data-sidebar-scroll","data-sidebar-hover","transitionProperty","transitionDuration","emit","fullClick2","roomId","dataUser","fullname","_api","setApi","isAudioMutedAll","setIsAudioMutedAll","isFilmstrip","setIsFilmstrip","dominantSpeaker","jitsiUser","setJitsiUser","raiseHandNew","setRaiseHandNew","sharingParticipants","setSharingParticipants","setNumberOfParticipants","idLeave","setIdLeave","setAvailableDevices","getNumberOf","data2","handleFilmstripDisplayChanged","filmstrip","visible","handleContentSharingParticipantsChanged","entries","localRecording","fileRecordingsServiceEnabled","fileRecordingsEnabled","object","filmstripDisplayChanged","raiseHandUpdated","handleRaiseHandUpdated","contentSharingParticipantsChanged","getAvailableDevices","devices","raise","findIndex","rH","rHCopy","handRaised","getNumberOfParticipants","userId","jitsiUserId","isFullDestop","videoClick","stopShareVideoClick","tileViewClick","participantView","participantId","sP","ps","rU","List_user_room","items","List_user_room_filter","class","handleMuteEveryoneCamera","minWidth","Location","NEW_CHAT_MESSAGE_EVENT","START_TYPING_MESSAGE_EVENT","STOP_TYPING_MESSAGE_EVENT","JITSI_FULL_DESKTOP","useChat","setMessages","typingUsers","setTypingUsers","setUser","fetchUser","fetchMessages","incomingMessage","ownedByCurrentUser","senderId","typingInfo","sendFullDesktop","sendMessage","messageBody","startTypingMessage","stopTypingMessage","ChatMessage","useTyping","isTyping","setIsTyping","isKeyPressed","setIsKeyPressed","countdown","setCountdown","c","startTyping","stopTyping","cancelTyping","NewMessageForm","newMessage","handleNewMessageChange","handleStartTyping","handleStopTyping","handleSendMessage","onKeyPress","onKeyUp","TypingAnimation","TypingMessage","Users","CalendarBreadcrumb","listSection","ul","List","subheader","ListItem","alignItems","ListItemAvatar","ListItemText","secondary","Fragment","Typography","component","variant","inline","Divider","sectionId","getAllUserChat","borderColor","i","match","params","setNewMessage","ChatBreadcrumb","Calendar","text","fields","OwnerText","OwnerColor","ownerData","selectedDate","eventSettings","dataSource","editorTemplate","cellpadding","colspan","data-name","colSpan","rows","cols","resize","eventRendered","args","element","popupClose","isNullOrUndefined","currentView","option","services","Day","Week","WorkWeek","Month","Resize","DragAndDrop","CalendarSelectUser","user_list","handleUserSelect","setSelected","values","leftHeader","rightHeader","isSearchable","searchFocusBorderColor","buttonBgColor","columnBgColor","columnBorderColor","headerBgColor","textColor","setEmail","setRe_password","setOpen","CalendarAddRoom","setSubject","EventTypes","setEventTypes","setStartTime","setEndTime","setLocation","user_control","setUser_control","user_vip","setUser_vip","Description","setDescription","userAdd","setUserAdd","addSuccess","setAddSuccess","label","displayValue","onRemove","onSearch","onSelect","selectedList","selectedItem","Array","isArray","calendarAdd","cursor","onClose","CalendarSeclectUserEdit","userEdit","defaultValue","setUserEdit","setUpdateSuccess","updateData","setUpdateData","dataRooms","dataRoom","eventType2","detailCalendar","EventType1","userEdit2","userCtrEdit2","userVipEdit2","selectedItem2","selectedValues","calendarUpdate","CalendarListDetail","handleEditCalendar","pageVisited","CalendarListItem","isActive","isActive2","setIsSelected","idSelected","handleDelCalendar","setActiveIndex","CalendarPagination","pageCount","onPageChange","counts","aria-live","previousLabel","nextLabel","containerClassName","previousClassName","nextLinkClassName","disabledClassName","activeClassName","setRoom","rules","statusNum","data-holder-rendered","CalendarList","handleUpdate","userSelected","setUserSelected","isSelected","setIdSelected","activeIndex","pageNumber","setPageNumber","handleEdit","dataUserSelect","handleDel","delete","Math","ceil","List_calendar","slice","selected","CalendarMeet","isOnline","ChatListItems","getChatGroup","ChatListGroups","active","chat_group","animationDelay","currentTarget","classList","remove","groupId","add","ChatList","chatGroups","ChatListGroup","cg","user_group","required","userMe","created_by","ChatListUsersGroup","rand","round","random","ChatUserGroupModal","ChatListItem","ChatAvatarGroup","ListUserGroup","AvatarGroup","max","ChatRoom","scrollRef","messageGroup","chatGroupMe","scrollIntoView","behavior","ref","msg","postMessages","err","UserProfile","toggleInfo","chat_Groups","ChatUi","UserListItem","handleDelUser","handleEditUser","UserPagination","setGroups","unit_id","setUnit_id","sort_id","setSort_id","groupsFix","handleChangePro","setOpen2","Recursive","uId","childitems","childitem","unit_name","useLocation","open2","idUser","setIdUser","unitId","setUnitId","pf","split","parseInt","idnew","deleteUser","deleteProfile","List_User","selectUnit","UserCreate","baseURL","App","hideProgressBar","newestOnTop","Root","path","Login","exact","Dashboard","JitsiMeetAdmin","JitsiMeetClient","CalendarEditRoom","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c26c6f6b.chunk.js","sourcesContent":["// frontend/src/components/signup/SignupTypes.js\r\nexport const CREATE_USER_SUBMITTED = \"CREATE_USER_SUBMITTED\";\r\nexport const CREATE_USER_SUCCESS = \"CREATE_USER_SUCCESS\";\r\nexport const CREATE_USER_ERROR = \"CREATE_USER_ERROR\";\r\nexport const LIST_USERS = \"LIST_USERS\";","// frontend/src/components/SignupReducer.js\r\n\r\n// import needed actions\r\nimport {\r\n    CREATE_USER_ERROR,\r\n    CREATE_USER_SUBMITTED,\r\n    CREATE_USER_SUCCESS\r\n  } from \"./SignupTypes\";\r\n  \r\n  // define the initial state of the signup store\r\n  const initialState = {\r\n    usernameError: \"\",\r\n    passwordError: \"\",\r\n    re_passwordError: \"\",\r\n    isSubimtted: false\r\n  };\r\n  \r\n  // define how action will change the state of the store\r\n  export const signupReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n      case CREATE_USER_SUBMITTED:\r\n        return {\r\n          usernameError: \"\",\r\n          passwordError: \"\",\r\n          re_passwordError: \"\",\r\n          isSubimtted: true\r\n        };\r\n      case CREATE_USER_ERROR:\r\n        const errorState = {\r\n          usernameError: \"\",\r\n          passwordError: \"\",\r\n          re_passwordError: \"\",\r\n          isSubimtted: false\r\n        };\r\n        if (action.errorData.hasOwnProperty(\"username\")) {\r\n          errorState.usernameError = action.errorData[\"username\"];\r\n        }\r\n        if (action.errorData.hasOwnProperty(\"password\")) {\r\n          errorState.passwordError = action.errorData[\"password\"];\r\n        }\r\n        if (action.errorData.hasOwnProperty(\"re_password\")) {\r\n          errorState.re_passwordError = action.errorData[\"re_password\"];\r\n        }\r\n        return errorState;\r\n      case CREATE_USER_SUCCESS:\r\n        return {\r\n          usernameError: \"\",\r\n          passwordError: \"\",\r\n          re_passwordError: \"\",\r\n          isSubimtted: false\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  }","// frontend/src/components/login/LoginTypes.js\r\nexport const SET_TOKEN = \"SET_TOKEN\";\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";\r\nexport const UNSET_CURRENT_USER = \"UNSET_CURRENT_USER\";\r\nexport const GET_PROFILEUSER_SUCCESS = \"GET_PROFILEUSER_SUCCESS\";","// frontend/src/components/login/LoginReducer.js file\r\n\r\nimport { SET_TOKEN, SET_CURRENT_USER, UNSET_CURRENT_USER, GET_PROFILEUSER_SUCCESS } from \"./LoginTypes\";\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  user: {},\r\n  profile: {},\r\n  token: \"\"\r\n};\r\n\r\nexport const loginReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_TOKEN:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        token: action.payload\r\n      };\r\n    case SET_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        user: action.payload\r\n      };\r\n    case GET_PROFILEUSER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        profile: action.payload\r\n      };\r\n    case UNSET_CURRENT_USER:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};","export const GET_USER_CHAT = \"GET_USER_CHAT\";\r\nexport const GET_ALL_USER_CHAT = \"GET_ALL_USER_CHAT\";\r\nexport const GET_MESSAGES = \"GET_MESSAGES\"; // add new types\r\n","import { GET_USER_CHAT, GET_ALL_USER_CHAT, GET_MESSAGES } from \"./ChatTypes\";\r\n\r\nconst initialState = {\r\n  userChat : {},\r\n  userchats: [],\r\n  messages: [],\r\n};\r\n\r\nexport const chatReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_USER_CHAT:\r\n      return {\r\n        ...state,\r\n        userChat: action.payload\r\n      };\r\n      case GET_ALL_USER_CHAT:\r\n      return {\r\n        ...state,\r\n        userchats: [...state.userchats, action.payload]\r\n      };\r\n    case GET_MESSAGES:\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, action.payload]\r\n      };\r\n    // case UPDATE_NOTE:\r\n    //   const updatedNotes = state.notes.map(item => {\r\n    //     if (item.id === action.payload.id) {\r\n    //       return { ...item, ...action.payload };\r\n    //     }\r\n    //     return item;\r\n    //   });\r\n    //   return {\r\n    //     ...state,\r\n    //     notes: updatedNotes\r\n    //   };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const GET_USER_CHAT = \"GET_USER_CHAT\";\r\nexport const GET_ALL_USER_CHAT = \"GET_ALL_USER_CHAT\";\r\n\r\nexport const GET_CHAT_GROUPS_ERROR = \"GET_CHAT_GROUPS_ERROR\";\r\nexport const GET_CHAT_GROUP = \"GET_CHAT_GROUP\";\r\nexport const GET_CHAT_GROUPS_SUCCESS = \"GET_CHAT_GROUPS_SUCCESS\";\r\nexport const GET_CHAT_GROUPS_LOAD = \"GET_CHAT_GROUPS_LOAD\";\r\n\r\nexport const GET_CHAT_MESSAGES = \"GET_CHAT_MESSAGES\";\r\nexport const POST_CHAT_MESSAGES = \"POST_CHAT_MESSAGES\";\r\nexport const REMOVE_GET_CHAT_MESSAGES = \"REMOVE_GET_CHAT_MESSAGES\";\r\n","import { GET_USER_CHAT, GET_ALL_USER_CHAT, GET_CHAT_MESSAGES,POST_CHAT_MESSAGES, REMOVE_GET_CHAT_MESSAGES, GET_CHAT_GROUPS_SUCCESS, GET_CHAT_GROUPS_LOAD, GET_CHAT_GROUPS_ERROR, GET_CHAT_GROUP } from \"./ChatTypes\";\r\n\r\nconst initialState = {\r\n  userChat: {},\r\n  userchats: [],\r\n  messages: [],\r\n  // chatgroups: [],\r\n};\r\n\r\nexport const chatUiReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_USER_CHAT:\r\n      return {\r\n        ...state,\r\n        userChat: action.payload\r\n      };\r\n    case GET_ALL_USER_CHAT:\r\n      return {\r\n        ...state,\r\n        userchats: [...state.userchats, action.payload]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialState2 = {\r\n  responseting: false,\r\n  success: false,\r\n  messege: null,\r\n  messages: [],\r\n  chatgroups: [],\r\n  chatgroup: {}\r\n};\r\n\r\n// define how action will change the state of the store\r\nexport const chatGroupReducer = (state = initialState2, action) => {\r\n  // eslint-disable-next-line default-case\r\n  switch (action.type) {\r\n    case GET_CHAT_GROUPS_LOAD:\r\n      return {\r\n        ...state,\r\n        responseting: true,\r\n      };\r\n    case GET_CHAT_GROUPS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        responseting: false,\r\n        success: true,\r\n        chatgroups: action.payload\r\n      };\r\n    case GET_CHAT_GROUPS_ERROR:\r\n      return {\r\n        ...state,\r\n        responseting: false,\r\n        success: false,\r\n        messege: action.payload\r\n      };\r\n    case GET_CHAT_GROUP:\r\n      return {\r\n        ...state,\r\n        chatgroup: action.payload\r\n      };\r\n    case GET_CHAT_MESSAGES:\r\n      return {\r\n        ...state,\r\n        messages: action.payload\r\n      };\r\n      case POST_CHAT_MESSAGES:\r\n      return {\r\n        ...state,\r\n        messages: action.payload\r\n      };\r\n      case REMOVE_GET_CHAT_MESSAGES:\r\n      return {\r\n        state\r\n      };\r\n    default:\r\n      return state;\r\n\r\n  }\r\n}\r\n","export const TOGGLE_AUDIO_ALL = \"TOGGLE_AUDIO_ALL\";\r\nexport const TOGGLE_AUDIO = \"TOGGLE_AUDIO\";\r\nexport const TOGGLE_VIDEO_ALL = \"TOGGLE_VIDEO_ALL\";\r\nexport const TOGGLE_FULL_ALL = \"TOGGLE_FULL_ALL\";\r\nexport const SET_JITSI_STORE = \"SET_JITSI_STORE\";\r\nexport const GET_MEET_ROOM = \"GET_MEET_ROOM\";\r\n\r\n","import moment from 'moment';\r\n\r\nimport { TOGGLE_AUDIO_ALL, TOGGLE_AUDIO, SET_JITSI_STORE, TOGGLE_VIDEO_ALL, TOGGLE_FULL_ALL, GET_MEET_ROOM } from \"./JitsiTypes\";\r\n\r\nconst initialState = {\r\n  jitsiState: {\r\n    stateAudioAll: false,\r\n    stateVideoAll: false,\r\n    stateFullAll: false,\r\n    stateTileViewAll: false,\r\n    stateAudio: false,\r\n    stateCamera: false,\r\n    stateChat: false,\r\n    stateCameraMirror: false,\r\n    stateTileView: false,\r\n    stateFull: false,\r\n    stateRaiseHand: false,\r\n    stateFilmStrip: false,\r\n  },\r\n  jitsiStrore: {},\r\n  meetroom: {}\r\n};\r\n\r\nexport const jitsiReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_JITSI_STORE:\r\n      // console.log(action.payload)\r\n      return {\r\n        ...state,\r\n        jitsiStrore: action.payload\r\n      };\r\n    case TOGGLE_AUDIO_ALL:\r\n      // console.log(action.payload)\r\n      return {\r\n        ...state,\r\n        stateAudioAll: action.payload\r\n      };\r\n    case TOGGLE_AUDIO:\r\n      // console.log(action.payload)\r\n      return {\r\n        ...state,\r\n        stateAudio: action.payload\r\n      };\r\n\r\n    case TOGGLE_VIDEO_ALL:\r\n      // console.log(action.payload)\r\n      return {\r\n        ...state,\r\n        stateVideoAll: action.payload\r\n      };\r\n    case TOGGLE_FULL_ALL:\r\n      // console.log(action.payload)\r\n      return {\r\n        ...state,\r\n        stateFullAll: action.payload\r\n      };\r\n      case GET_MEET_ROOM:\r\n        return {\r\n          ...state,\r\n          meetroom: action.payload\r\n        }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\n","export const GET_CALENDARS = \"GET_CALENDARS\";\r\nexport const ADD_CALENDAR = \"ADD_CALENDAR\";\r\nexport const DELETE_CALENDAR = \"DELETE_CALENDAR\"; \r\nexport const UPDATE_CALENDAR = \"UPDATE_CALENDAR\"; \r\nexport const DETAIL_CALENDAR = \"DETAIL_CALENDAR\"; \r\n","// frontend/src/components/notes/NotesReducer.js\r\n\r\nimport { GET_CALENDARS, DETAIL_CALENDAR, ADD_CALENDAR, DELETE_CALENDAR, UPDATE_CALENDAR } from \"./CalendarTypes\";\r\n\r\nconst initialState = {\r\n  calendars : [],\r\n  calendarId : null\r\n};\r\n\r\nexport const CalendarReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_CALENDARS:\r\n      return {\r\n        ...state,\r\n        calendars: action.payload\r\n      };\r\n    case DETAIL_CALENDAR:\r\n      return {\r\n        ...state,\r\n        calendarId: action.payload\r\n      };\r\n\r\n    case ADD_CALENDAR:\r\n      return {\r\n        ...state,\r\n        calendars: [...state.calendars, action.payload]\r\n      };\r\n    case DELETE_CALENDAR:\r\n      return {\r\n        ...state,\r\n        calendars: state.calendars.filter((item, index) => item.Id !== action.payload)\r\n      };\r\n    case UPDATE_CALENDAR:\r\n      const updatedCalendar = state.calendars.map(item => {\r\n        if (item.Id === action.payload.Id) {\r\n          return { ...item, ...action.payload };\r\n        }\r\n        return item;\r\n      });\r\n      return {\r\n        ...state,\r\n        calendars: updatedCalendar\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","// frontend/src/components/signup/SignupTypes.js\r\nexport const CREATE_USER_SUBMITTED = \"CREATE_USER_SUBMITTED\";\r\nexport const CREATE_USER_SUCCESS = \"CREATE_USER_SUCCESS\";\r\nexport const CREATE_USER_ERROR = \"CREATE_USER_ERROR\";\r\n\r\nexport const GET_USERS_SUCCESS = \"GET_USERS_SUCCESS\";\r\nexport const GET_USERS_REQUEST = \"GET_USERS_REQUEST\";\r\nexport const GET_USERS_ERROR = \"GET_USERS_ERROR\";\r\n\r\nexport const CREATE_PROFILE_SUBMITTED = \"CREATE_PROFILE_SUBMITTED\";\r\nexport const CREATE_PROFILE_SUCCESS = \"CREATE_PROFILE_SUCCESS\";\r\nexport const CREATE_PROFILE_ERROR = \"CREATE_PROFILE_ERROR\";\r\n\r\nexport const GET_PROFILES_SUCCESS = \"GET_PROFILES_SUCCESS\";\r\nexport const GET_PROFILES_REQUEST = \"GET_PROFILES_REQUEST\";\r\nexport const GET_PROFILES_ERROR = \"GET_PROFILES_ERROR\";\r\nexport const UPDATE_PROFILES_SUCCESS = \"UPDATE_PROFILES_SUCCESS\";\r\nexport const DELETE_PROFILE_SUCCESS = \"DELETE_PROFILE_SUCCESS\";\r\n\r\nexport const GET_PROFILE_UNIT_SUCCESS = \"GET_PROFILE_UNIT_SUCCESS\";\r\nexport const GET_PROFILE_UNIT_ERROR = \"GET_PROFILE_UNIT_ERROR\";\r\n\r\n\r\nexport const GET_PROFILE_SUCCESS = \"GET_PROFILE_SUCCESS\";\r\nexport const GET_PROFILE_REQUEST = \"GET_PROFILE_REQUEST\";\r\nexport const GET_PROFILE_ERROR = \"GET_PROFILE_ERROR\";\r\n\r\nexport const UPDATE_PROFILE_SUCCESS = \"UPDATE_PROFILE_SUCCESS\";\r\nexport const UPDATE_PROFILE_SUBMITTED = \"UPDATE_PROFILE_SUBMITTED\";\r\nexport const UPDATE_PROFILE_ERROR = \"UPDATE_PROFILE_ERROR\";\r\n\r\nexport const UPDATE_USER_ERROR = \"UPDATE_USER_ERROR\";\r\nexport const UPDATE_USER_SUBMITTED = \"UPDATE_USER_SUBMITTED\";\r\nexport const UPDATE_USER_SUCCESS = \"UPDATE_USER_SUCCESS\";\r\n\r\nexport const DELETE_USER_SUCCESS = \"DELETE_USER_SUCCESS\";\r\nexport const DELETE_USER_ERROR = \"DELETE_USER_ERROR\";\r\n\r\n\r\nexport const GET_UNITS_SUCCESS = \"GET_UNITS_SUCCESS\";\r\nexport const GET_UNITS_REQUEST = \"GET_UNITS_REQUEST\";\r\nexport const GET_UNITS_ERROR = \"GET_UNITS_ERROR\";\r\n\r\nexport const CREATE_UNIT_SUBMITTED = \"CREATE_UNIT_SUBMITTED\";\r\nexport const CREATE_UNIT_SUCCESS = \"CREATE_UNIT_SUCCESS\";\r\nexport const CREATE_UNIT_ERROR = \"CREATE_UNIT_ERROR\";\r\nexport const RESETPASSWORD_SUCCESS = \"RESETPASSWORD_SUCCESS\";\r\n\r\n","// frontend/src/components/SignupReducer.js\r\n\r\n// import needed actions\r\nimport {\r\n  CREATE_USER_ERROR,\r\n  CREATE_USER_SUBMITTED,\r\n  CREATE_USER_SUCCESS,\r\n  DELETE_USER_SUCCESS,\r\n  DELETE_USER_ERROR,\r\n  GET_USERS_REQUEST,\r\n  GET_USERS_SUCCESS,\r\n  GET_USERS_ERROR,\r\n  RESETPASSWORD_SUCCESS,\r\n} from \"./UserTypes\";\r\n\r\n// define the initial state of the signup store\r\nconst initialState = {\r\n  responseting: false,\r\n  success: false,\r\n  messege: null,\r\n  data: [],\r\n  usernameError: \"\",\r\n  passwordError: \"\",\r\n  re_passwordError: \"\",\r\n  isSubimtted: false\r\n};\r\n\r\n// define how action will change the state of the store\r\nexport const userReducer = (state = initialState, action) => {\r\n  // eslint-disable-next-line default-case\r\n  switch (action.type) {\r\n    case GET_USERS_REQUEST:\r\n      return {\r\n        ...state,\r\n        responseting: true,\r\n      };\r\n    case GET_USERS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        responseting: false,\r\n        success: true,\r\n        data: action.payload\r\n      };\r\n    case GET_USERS_ERROR:\r\n      return {\r\n        ...state,\r\n        responseting: false,\r\n        success: false,\r\n        messege: action.payload\r\n      };\r\n      case DELETE_USER_SUCCESS:\r\n        return {\r\n          ...state,\r\n          responseting: false,\r\n          success: true,\r\n          data: action.payload\r\n        };\r\n      case DELETE_USER_ERROR:\r\n        return {\r\n          ...state,\r\n          responseting: false,\r\n          success: false,\r\n          messege: action.payload\r\n        };\r\n    case CREATE_USER_SUBMITTED:\r\n      return {\r\n        usernameError: \"\",\r\n        passwordError: \"\",\r\n        re_passwordError: \"\",\r\n        isSubimtted: true\r\n      };\r\n    case CREATE_USER_ERROR:\r\n      const errorState = {\r\n        usernameError: \"\",\r\n        passwordError: \"\",\r\n        re_passwordError: \"\",\r\n        isSubimtted: false\r\n      };\r\n      if (action.errorData.hasOwnProperty(\"username\")) {\r\n        errorState.usernameError = action.errorData[\"username\"];\r\n      }\r\n      if (action.errorData.hasOwnProperty(\"password\")) {\r\n        errorState.passwordError = action.errorData[\"password\"];\r\n      }\r\n      if (action.errorData.hasOwnProperty(\"re_password\")) {\r\n        errorState.re_passwordError = action.errorData[\"re_password\"];\r\n      }\r\n      return errorState;\r\n    case CREATE_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n        usernameError: \"\",\r\n        passwordError: \"\",\r\n        re_passwordError: \"\",\r\n        isSubimtted: false\r\n      };\r\n      case RESETPASSWORD_SUCCESS:\r\n        return {\r\n          ...state,\r\n          responseting: true,\r\n        };\r\n    default:\r\n      return state;\r\n\r\n  }\r\n}","// frontend/src/components/SignupReducer.js\r\n\r\n// import needed actions\r\nimport {\r\n  CREATE_PROFILE_ERROR,\r\n  CREATE_PROFILE_SUBMITTED,\r\n  UPDATE_PROFILE_SUCCESS,\r\n  UPDATE_PROFILE_SUBMITTED,\r\n  UPDATE_PROFILE_ERROR,\r\n  GET_PROFILE_SUCCESS,\r\n  GET_PROFILE_REQUEST,\r\n  GET_PROFILE_ERROR,\r\n} from \"./UserTypes\";\r\n\r\n// define the initial state of the signup store\r\nconst initialState = {\r\n  responseting: false,\r\n  success: false,\r\n  messege: null,\r\n  data: [],\r\n  first_nameError: \"\",\r\n  last_nameError: \"\",\r\n  imageError: \"\",\r\n  isSubimtted: false\r\n};\r\n\r\n// define how action will change the state of the store\r\nexport const profileReducer = (state = initialState, action) => {\r\n  // eslint-disable-next-line default-case\r\n  switch (action.type) {\r\n    case GET_PROFILE_REQUEST:\r\n      return {\r\n        ...state,\r\n        responseting: true,\r\n      };\r\n    case GET_PROFILE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        responseting: false,\r\n        success: true,\r\n        data: action.payload\r\n      };\r\n    case UPDATE_PROFILE_SUBMITTED:\r\n      return {\r\n        first_nameError: \"\",\r\n        last_nameError: \"\",\r\n        imageError: \"\",\r\n        isSubimtted: true\r\n      };\r\n    case UPDATE_PROFILE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n        responseting: false,\r\n        success: false,\r\n        messege: action.payload\r\n      };\r\n\r\n    case UPDATE_PROFILE_ERROR:\r\n      const errorState = {\r\n        first_nameError: \"\",\r\n        last_nameError: \"\",\r\n        imageError: \"\",\r\n        isSubimtted: false\r\n      };\r\n      if (action.errorData.hasOwnProperty(\"first_name\")) {\r\n        errorState.first_nameError = action.errorData[\"first_name\"];\r\n      }\r\n      if (action.errorData.hasOwnProperty(\"last_name\")) {\r\n        errorState.last_nameError = action.errorData[\"last_name\"];\r\n      }\r\n      if (action.errorData.hasOwnProperty(\"iamge\")) {\r\n        errorState.imageError = action.errorData[\"image\"];\r\n      }\r\n      return errorState;\r\n    default:\r\n      return state;\r\n\r\n  }\r\n}","// frontend/src/components/SignupReducer.js\r\n\r\n// import needed actions\r\nimport {\r\n  GET_PROFILES_SUCCESS,\r\n  GET_PROFILES_REQUEST,\r\n  UPDATE_PROFILES_SUCCESS,\r\n  DELETE_PROFILE_SUCCESS,\r\n} from \"./UserTypes\";\r\n\r\n// define the initial state of the signup store\r\nconst initialState = {\r\n  responseting: false,\r\n  success: false,\r\n  messege: null,\r\n  data: [],\r\n  isSubimtted: false\r\n};\r\n\r\n// define how action will change the state of the store\r\nexport const profilesReducer = (state = initialState, action) => {\r\n  // eslint-disable-next-line default-case\r\n  switch (action.type) {\r\n    case GET_PROFILES_SUCCESS:\r\n      return {\r\n        ...state,\r\n        responseting: false,\r\n        success: true,\r\n        data: action.payload\r\n      };\r\n    case UPDATE_PROFILES_SUCCESS:\r\n      const updateProfile = state.data.map(p=>{\r\n        if(action.payload.id === p.id){\r\n          return { ...p, ...action.payload };\r\n        }\r\n        return p\r\n      })\r\n      return {\r\n        ...state,\r\n        data: updateProfile\r\n      };\r\n      case DELETE_PROFILE_SUCCESS:\r\n        return {\r\n          ...state,\r\n          data: state.data.filter(p => p.id !== action.payload)\r\n        };\r\n      \r\n     \r\n    default:\r\n      return state;\r\n\r\n  }\r\n}\r\n","// frontend/src/components/SignupReducer.js\r\n\r\n// import needed actions\r\nimport {\r\n  CREATE_UNIT_ERROR,\r\n  CREATE_UNIT_SUBMITTED,\r\n  CREATE_UNIT_SUCCESS,\r\n  GET_UNITS_REQUEST,\r\n  GET_UNITS_SUCCESS,\r\n  GET_UNITS_ERROR,\r\n} from \"./UserTypes\";\r\n\r\n// define the initial state of the signup store\r\nconst initialState = {\r\n  responseting: false,\r\n  success: false,\r\n  messege: null,\r\n  data: [],\r\n  isSubimtted: false\r\n};\r\n\r\n// define how action will change the state of the store\r\nexport const unitsReducer = (state = initialState, action) => {\r\n  // eslint-disable-next-line default-case\r\n  switch (action.type) {\r\n    case GET_UNITS_REQUEST:\r\n      return {\r\n        ...state,\r\n        responseting: true,\r\n      };\r\n    case GET_UNITS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        responseting: false,\r\n        success: true,\r\n        data: action.payload\r\n      };\r\n    case GET_UNITS_ERROR:\r\n      return {\r\n        ...state,\r\n        responseting: false,\r\n        success: false,\r\n        messege: action.payload\r\n      };\r\n    case CREATE_UNIT_SUBMITTED:\r\n      return {\r\n        isSubimtted: true\r\n      };\r\n    case CREATE_UNIT_ERROR:\r\n      const errorState = {\r\n        isSubimtted: false\r\n      };\r\n      \r\n    case CREATE_UNIT_SUCCESS:\r\n      return {\r\n        isSubimtted: false\r\n      };\r\n     \r\n    default:\r\n      return state;\r\n\r\n  }\r\n}","// frontend/Reducer.js\r\n\r\nimport { combineReducers } from \"redux\";\r\nimport { connectRouter } from \"connected-react-router\";\r\n\r\nimport { signupReducer } from \"./components/signup/SignupReducer\";\r\nimport { loginReducer } from \"./components/login/LoginReducer\";\r\nimport { chatReducer } from \"./components/chat/ChatReducer\";\r\nimport { chatUiReducer, chatGroupReducer } from \"./components/chat_ui/ChatUiReducer\";\r\nimport { jitsiReducer } from \"./components/jitsi/JisiReducer\"\r\nimport { CalendarReducer } from \"./components/calendar/CalendarReducer\";\r\nimport { userReducer } from \"./components/users/UserReducer\"\r\nimport { profileReducer } from \"./components/users/ProfileReducer\"\r\nimport { profilesReducer } from \"./components/users/ProfilesReducer\"\r\nimport { unitsReducer } from \"./components/users/UnitsReducer\"\r\n\r\nconst createRootReducer = history =>\r\n  combineReducers({\r\n    router: connectRouter(history),\r\n    createUser: signupReducer,\r\n    auth: loginReducer,\r\n    chats: chatReducer,\r\n    chatUi: chatUiReducer,\r\n    chatgroups: chatGroupReducer,\r\n    jitsi: jitsiReducer,\r\n    calendars: CalendarReducer,\r\n    users: userReducer,\r\n    profiles: profilesReducer,\r\n    profile: profileReducer,\r\n    units: unitsReducer,\r\n  });\r\n\r\nexport default createRootReducer;","// please add utils directory in frontend/src\r\n// and the file frontend/src/utils/Utils.js\r\n\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport const setAxiosAuthToken = token => {\r\n  if (typeof token !== \"undefined\" && token) {\r\n    // Apply for every request\r\n    axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\r\n  } else {\r\n    // Delete auth header\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n};\r\n\r\nexport const toastOnError = error => {\r\n  if (error.response) {\r\n    // known error\r\n    toast.error(JSON.stringify(error.response.data));\r\n  } else if (error.message) {\r\n    toast.error(JSON.stringify(error.message));\r\n  } else {\r\n    toast.error(JSON.stringify(error));\r\n  }\r\n};\r\n\r\nexport const isEmpty = value =>\r\n  value === undefined ||\r\n  value === null ||\r\n  (typeof value === \"object\" && Object.keys(value).length === 0) ||\r\n  (typeof value === \"string\" && value.trim().length === 0);\r\n\r\n","// frontend/src/components/login/LoginActions.js\r\n\r\nimport axios from \"axios\";\r\nimport { push } from \"connected-react-router\";\r\nimport { toast } from \"react-toastify\";\r\nimport { SET_TOKEN, SET_CURRENT_USER, UNSET_CURRENT_USER, GET_PROFILEUSER_SUCCESS } from \"./LoginTypes\";\r\nimport { setAxiosAuthToken, toastOnError } from \"../../utils/Utils\";\r\n\r\nexport const login = (userData, redirectTo) => dispatch => {\r\n    axios\r\n        .post(\"/api/v1/token/login/\", userData)\r\n        .then(response => {\r\n            const { auth_token } = response.data;\r\n            setAxiosAuthToken(auth_token);\r\n            dispatch(setToken(auth_token));\r\n            dispatch(getCurrentUser(redirectTo));\r\n            \r\n        })\r\n        .catch(error => {\r\n            dispatch(unsetCurrentUser());\r\n            toastOnError('Tên đăng nhập hoặc mật khẩu không đúng');\r\n        });\r\n};\r\n\r\nexport const getCurrentUser = redirectTo => dispatch => {\r\n    axios\r\n        .get(\"/api/v1/users/me/\")\r\n        .then(response => {\r\n            const user = {\r\n                id: response.data.id,\r\n                username: response.data.username,\r\n                groups: response.data.groups,\r\n                last_login: response.data.last_login,\r\n                date_joined: response.data.date_joined,\r\n                email: response.data.email,\r\n                first_name: response.data.first_name,\r\n                last_name: response.data.last_name,\r\n                is_active: response.data.is_active,\r\n                is_staff: response.data.is_staff,\r\n                is_superuser: response.data.is_superuser,\r\n            };\r\n            dispatch(setCurrentUser(user, redirectTo));\r\n        })\r\n        .catch(error => {\r\n            dispatch(unsetCurrentUser());\r\n            toastOnError(error);\r\n        });\r\n};\r\n\r\nexport const setCurrentUser = (user, redirectTo) => dispatch => {\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n    dispatch({\r\n        type: SET_CURRENT_USER,\r\n        payload: user\r\n    });\r\n    dispatch(getProfileUser(user.id));\r\n\r\n    console.log(\"set user\" + redirectTo);\r\n    if (redirectTo !== \"\") {\r\n        dispatch(push(redirectTo));\r\n    }\r\n};\r\n\r\nexport const getProfileUser = (id) => dispatch => {\r\n    try {\r\n      axios\r\n        .get(`/api/v1/profile_user/${id}/`)\r\n        .then(response => {\r\n          dispatch({\r\n            type: GET_PROFILEUSER_SUCCESS,\r\n            payload: response.data\r\n          });\r\n        })\r\n  \r\n    } catch (error) {\r\n        toastOnError(error);\r\n    }\r\n  \r\n  };\r\n\r\n\r\nexport const setToken = token => dispatch => {\r\n    setAxiosAuthToken(token);\r\n    localStorage.setItem(\"token\", token);\r\n    dispatch({\r\n        type: SET_TOKEN,\r\n        payload: token\r\n    });\r\n};\r\n\r\nexport const unsetCurrentUser = () => dispatch => {\r\n    setAxiosAuthToken(\"\");\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"user\");\r\n    dispatch({\r\n        type: UNSET_CURRENT_USER\r\n    });\r\n};\r\n\r\nexport const logout = () => dispatch => {\r\n    axios\r\n        .post(\"/api/v1/token/logout/\")\r\n        .then(response => {\r\n            dispatch(unsetCurrentUser());\r\n            dispatch(push(\"/\"));\r\n            toast.success(\"Đăng xuất thành công.\");\r\n        })\r\n        .catch(error => {\r\n            dispatch(unsetCurrentUser());\r\n            toastOnError(error);\r\n        });\r\n};\r\n\r\n\r\n","import React from \"react\";\r\nimport thunk from \"redux-thunk\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createBrowserHistory } from \"history\";\r\nimport { applyMiddleware, createStore } from \"redux\";\r\nimport { routerMiddleware, ConnectedRouter } from \"connected-react-router\";\r\n// import { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport rootReducer from \"./Reducer\";\r\nimport { setCurrentUser, setToken } from \"./components/login/LoginActions\"; // new imports\r\nimport { isEmpty } from \"./utils/Utils\"; // new imports\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default ({ children, initialState = {} }) => {\r\n  const history = createBrowserHistory();\r\n  const middleware = [thunk, routerMiddleware(history)];\r\n\r\n  // const store = createStore(rootReducer(history), composeWithDevTools(\r\n  //   initialState,\r\n  //   applyMiddleware(...middleware),\r\n\r\n  //   // other store enhancers if any\r\n  // ));\r\n\r\n  const store = createStore(\r\n    rootReducer(history),\r\n    initialState,\r\n    applyMiddleware(...middleware),\r\n    // + window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n  );\r\n\r\n  // check localStorage\r\n  if (!isEmpty(localStorage.getItem(\"token\"))) {\r\n    store.dispatch(setToken(localStorage.getItem(\"token\")));\r\n  }\r\n  if (!isEmpty(localStorage.getItem(\"user\"))) {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    store.dispatch(setCurrentUser(user, \"\"));\r\n  }\r\n\r\n  return (\r\n    <Provider store={store}>\r\n      <ConnectedRouter history={history}>{children}</ConnectedRouter>\r\n    </Provider>\r\n  );\r\n};","// frontend/src/components/signup/Signup.js file\r\n\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\"; // new import\r\nimport { connect } from \"react-redux\"; // new import\r\nimport PropTypes from \"prop-types\"; // new import\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  Form,\r\n  FormControl\r\n} from \"react-bootstrap\";\r\n\r\nimport { signupNewUser } from \"./SignupActions\"; // new import\r\n\r\nclass Signup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      re_password: \"\"\r\n    };\r\n  }\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // update function to call the action\r\n  onSignupClick = () => {\r\n    const userData = {\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n      re_password: this.state.re_password\r\n    };\r\n    this.props.signupNewUser(userData); // <-- signup new user request\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Row>\r\n          <Col md=\"4\">\r\n            <h1>Sign up</h1>\r\n            <Form>\r\n              <Form.Group controlId=\"usernameId\">\r\n                <Form.Label>Nhập tên đăng nhập</Form.Label>\r\n                <Form.Control\r\n                  isInvalid={this.props.createUser.usernameError}\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  placeholder=\"Nhập tên đăng nhập\"\r\n                  value={this.state.username}\r\n                  onChange={this.onChange}\r\n                />\r\n                <FormControl.Feedback type=\"invalid\">\r\n                  {this.props.createUser.usernameError}\r\n                </FormControl.Feedback>\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"passwordId\">\r\n                <Form.Label>Nhập mật khẩu</Form.Label>\r\n                <Form.Control\r\n                  isInvalid={this.props.createUser.passwordError}\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"Nhập mật khẩu\"\r\n                  value={this.password}\r\n                  onChange={this.onChange}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {this.props.createUser.passwordError}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n              <Form.Group controlId=\"re_passwordId\">\r\n                <Form.Label>Nhập lại mật khẩu:</Form.Label>\r\n                <Form.Control\r\n                  isInvalid={this.props.createUser.re_passwordError}\r\n                  type=\"password\"\r\n                  name=\"re_password\"\r\n                  placeholder=\"Nhập lại mật khẩu\"\r\n                  value={this.re_password}\r\n                  onChange={this.onChange}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {this.props.createUser.re_passwordError}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n            </Form>\r\n            <Button color=\"primary\" onClick={this.onSignupClick}>\r\n              Sign up\r\n            </Button>\r\n            <p className=\"mt-2\">\r\n              Already have account? <Link to=\"/login\">Login</Link>\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n// connect action and reducer\r\n// replace \r\n// export default Signup;\r\n// with code below:\r\n\r\nSignup.propTypes = {\r\n  signupNewUser: PropTypes.func.isRequired,\r\n  createUser: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  createUser: state.createUser\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  signupNewUser\r\n})(withRouter(Signup));","// frontend/src/components/signup/SignupActions.js\r\n\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n// import { isEmpty } from \"../../utils/Utils\";\r\nimport {\r\n  CREATE_USER_ERROR,\r\n  CREATE_USER_SUBMITTED,\r\n  CREATE_USER_SUCCESS\r\n} from \"./SignupTypes\";\r\n\r\nexport const signupNewUser = userData => dispatch => {\r\n  dispatch({ type: CREATE_USER_SUBMITTED }); // set submitted state\r\n  axios\r\n    .post(\"/api/v1/users/\", userData)\r\n    .then(response => {\r\n      toast.success(\r\n        \"Tài khoản \" +\r\n          userData.username +\r\n          \" được tạo thành công. Xin mời đăng nhập.\"\r\n      );\r\n      dispatch({ type: CREATE_USER_SUCCESS });\r\n    })\r\n    .catch(error => {\r\n      if (error.resposne) {\r\n        // The request was made and the server responded with a status code\r\n        // that falls out of the range of 2xx\r\n        toast.error(JSON.stringify(error.response.data));\r\n        dispatch({\r\n          type: CREATE_USER_ERROR,\r\n          errorData: error.response.data\r\n        });\r\n      } else if (error.message) {\r\n        // the error message is available,\r\n        // let's display it on error toast\r\n        toast.error(JSON.stringify(error.message));\r\n      } else {\r\n        // strange error, just show it\r\n        toast.error(JSON.stringify(error));\r\n      }\r\n    });\r\n};","// frontend/src/components/login/Login.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";  // new import \r\nimport { useDispatch } from \"react-redux\";          // new import \r\nimport { login } from \"./LoginActions.js\";      // new import \r\n\r\nfunction Login() {\r\n  const [username, setUsername] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  // const auth = useSelector(state => state.auth)\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const onLoginClick = () => {\r\n    const userData = {\r\n      username,\r\n      password,\r\n    };\r\n    dispatch(login(userData, \"/\")); // <--- login request\r\n  };\r\n  return (\r\n    <div className=\"row login-layout blur-login\" style={{ height: '100vh' }}>\r\n      <div className=\"col-sm-10 col-sm-offset-1\">\r\n        <div className=\"login-container\" style={{ paddingTop: \"18%\" }}>\r\n          <div className=\"center\">\r\n            <h1>\r\n              {/* <i className=\"ace-icon fa fa-leaf green\" /> */}\r\n              <span className=\"red\">ĐĂNG NHẬP</span>\r\n            </h1>\r\n          </div>\r\n          <div className=\"space-6\" />\r\n          <div className=\"position-relative\">\r\n            <div id=\"login-box\" className=\"login-box visible widget-box no-border\">\r\n              <div className=\"widget-body\">\r\n                <div className=\"widget-main\">\r\n                  <h4 className=\"header blue lighter bigger\">\r\n                    <i className=\"ace-icon fa fa-coffee green\" />\r\n                    &nbsp; ĐĂNG NHẬP HỆ THỐNG\r\n                  </h4>\r\n                  <div className=\"space-6\" />\r\n                  <form>\r\n                    <fieldset>\r\n                      <label className=\"block clearfix\">\r\n                        <span className=\"block input-icon input-icon-right\">\r\n                          <input type=\"text\" className=\"form-control\" placeholder=\"Username\"\r\n                            type=\"text\"\r\n                            name=\"username\"\r\n                            placeholder=\"Tên đăng nhập\"\r\n                            value={username}\r\n                            onChange={e => setUsername(e.target.value)}\r\n                          />\r\n                          <i className=\"ace-icon fa fa-user\" />\r\n                        </span>\r\n                      </label>\r\n                      <label className=\"block clearfix\">\r\n                        <span className=\"block input-icon input-icon-right\">\r\n                          <input type=\"password\" className=\"form-control\" placeholder=\"Password\"\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            placeholder=\"Nhập mật khẩu\"\r\n                            value={password}\r\n                            onChange={e => setPassword(e.target.value)}\r\n                          />\r\n                          <i className=\"ace-icon fa fa-lock\" />\r\n                        </span>\r\n                      </label>\r\n                      <div className=\"space\" />\r\n                      <div className=\"clearfix\">\r\n                        <button type=\"button\" className=\"width-40 pull-right btn-primary\"\r\n                          onClick={onLoginClick}\r\n                        >\r\n                          <i className=\"ace-icon fa fa-key\" />\r\n                          <span className=\"bigger-110\">&nbsp;Đăng nhập</span>\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"space-4\" />\r\n                    </fieldset>\r\n                  </form>\r\n                  <div className=\"social-or-login center\">\r\n                    <span className=\"bigger-110\">Thông tin liên hệ</span>\r\n                  </div>\r\n                  <div className=\"space-6\" />\r\n                  <div className=\"social-login center\">\r\n                    <span className=\"bigger-110\">Ban Công nghệ thông tin Quân khu 7</span>\r\n                  </div>\r\n                </div>{/* /.widget-main */}\r\n              </div>{/* /.widget-body */}\r\n            </div>{/* /.login-box */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default withRouter(Login);","// frontend/src/utils/RequireAuth.js\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { push } from \"connected-react-router\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function requireAuth(Component) {\r\n  class AuthenticatedComponent extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.checkAuth();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n      this.checkAuth();\r\n    }\r\n\r\n    checkAuth() {\r\n      if (!this.props.isAuthenticated) {\r\n        const redirectAfterLogin = this.props.location.pathname;\r\n        // this.props.dispatch(push(`/login?next=${redirectAfterLogin}`));\r\n        this.props.dispatch(push(`/login?next=${redirectAfterLogin}`));\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <>\r\n          {this.props.isAuthenticated === true ? (\r\n            <Component {...this.props} />\r\n          ) : null}\r\n        </>\r\n      );\r\n    }\r\n  }\r\n  AuthenticatedComponent.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    location: PropTypes.shape({\r\n      pathname: PropTypes.string.isRequired\r\n    }).isRequired,\r\n    dispatch: PropTypes.func.isRequired\r\n  };\r\n\r\n  const mapStateToProps = state => {\r\n    return {\r\n      isAuthenticated: state.auth.isAuthenticated,\r\n      token: state.auth.token\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps)(AuthenticatedComponent);\r\n}","// frontend/src/components/signup/SignupActions.js\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { toastOnError } from \"../../utils/Utils\";\r\n// import { isEmpty } from \"../../utils/Utils\";\r\nimport {\r\n  CREATE_USER_ERROR,\r\n  CREATE_USER_SUBMITTED,\r\n  CREATE_USER_SUCCESS,\r\n  UPDATE_USER_ERROR,\r\n  UPDATE_USER_SUBMITTED,\r\n  UPDATE_USER_SUCCESS,\r\n  GET_USERS_SUCCESS,\r\n  GET_USERS_REQUEST,\r\n  GET_USERS_ERROR,\r\n  DELETE_USER_SUCCESS,\r\n  DELETE_USER_ERROR,\r\n  CREATE_PROFILE_ERROR,\r\n  CREATE_PROFILE_SUBMITTED,\r\n  CREATE_PROFILE_SUCCESS,\r\n  UPDATE_PROFILE_ERROR,\r\n  UPDATE_PROFILE_SUBMITTED,\r\n  UPDATE_PROFILE_SUCCESS,\r\n  DELETE_PROFILE_SUCCESS,\r\n  GET_PROFILES_SUCCESS,\r\n  GET_PROFILES_REQUEST,\r\n  GET_PROFILES_ERROR,\r\n  GET_PROFILE_UNIT_SUCCESS,\r\n  GET_PROFILE_UNIT_ERROR,\r\n  GET_PROFILE_SUCCESS,\r\n  GET_PROFILE_REQUEST,\r\n  GET_PROFILE_ERROR,\r\n  RESETPASSWORD_SUCCESS,\r\n  GET_UNITS_SUCCESS,\r\n  GET_UNITS_REQUEST,\r\n  GET_UNITS_ERROR,\r\n\r\n} from \"./UserTypes\";\r\n\r\nexport const createUser = userData => dispatch => {\r\n  dispatch({ type: CREATE_USER_SUBMITTED }); // set submitted state\r\n  axios\r\n    .post(\"/api/v1/register\", userData)\r\n    .then(response => {\r\n      toast.success(\r\n        // \"Tài khoản \" +  userData.username + \" được tạo thành công.\"\r\n        \"Tài khoản được tạo thành công.\"\r\n      );\r\n      dispatch({ \r\n        type: CREATE_USER_SUCCESS,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      if (error.resposne) {\r\n        toast.error(JSON.stringify(error.response.data));\r\n        dispatch({\r\n          type: CREATE_USER_ERROR,\r\n          errorData: error.response.data\r\n        });\r\n      } else if (error.message) {\r\n        toast.error(JSON.stringify(error.message));\r\n      } else {\r\n        toast.error(JSON.stringify(error));\r\n      }\r\n    });\r\n};\r\n\r\nexport const resetPassword = dataReset => dispatch => {\r\n  dispatch({ type: CREATE_USER_SUBMITTED }); // set submitted state\r\n  axios\r\n    .post(\"/api/v1/users/set_password/\", dataReset)\r\n    .then(response => {\r\n      toast.success(\r\n        \"Thay đổi mật khẩu thành công.\"\r\n      );\r\n      dispatch({ type: RESETPASSWORD_SUCCESS });\r\n    })\r\n    .catch(error => {\r\n        toast.error(\"Mật khẩu phải bao gồm chủ cái, số, và ký tự đặc biệt và có độ dài 8 ký tự trở lên!\");\r\n    });\r\n};\r\n\r\nexport const updateUser = (id, userData) => dispatch => {\r\n  dispatch({ type: UPDATE_USER_SUBMITTED }); // set submitted state\r\n  axios\r\n    .put(\"/api/v1/register\", (id, userData))\r\n    .then(response => {\r\n      toast.success(\r\n        \"Tài khoản \" +\r\n        userData.username +\r\n        \" được tạo thành công. Xin mời đăng nhập.\"\r\n      );\r\n      dispatch({ type: UPDATE_USER_SUCCESS });\r\n    })\r\n    .catch(error => {\r\n      if (error.resposne) {\r\n        toast.error(JSON.stringify(error.response.data));\r\n        dispatch({\r\n          type: UPDATE_USER_ERROR,\r\n          errorData: error.response.data\r\n        });\r\n      } else if (error.message) {\r\n        toast.error(JSON.stringify(error.message));\r\n      } else {\r\n        toast.error(JSON.stringify(error));\r\n      }\r\n    });\r\n};\r\n\r\nexport const getUsers = () => async dispatch => {\r\n  try {\r\n    dispatch({ type: GET_USERS_REQUEST });\r\n\r\n    await axios\r\n      .get(\"/api/v1/users/\")\r\n      .then(response => {\r\n        dispatch({\r\n          type: GET_USERS_SUCCESS,\r\n          payload: response.data\r\n        });\r\n      })\r\n\r\n  } catch (error) {\r\n    console.log(error)\r\n    dispatch({\r\n      type: GET_USERS_ERROR,\r\n      message: error\r\n    })\r\n  }\r\n\r\n};\r\n\r\nexport const deleteUser = (username) => async dispatch => {\r\n  try {\r\n    await axios\r\n      .delete(`/api/v1/users/${username}/`)\r\n      .then(response => {\r\n        dispatch({\r\n          type: DELETE_USER_SUCCESS,\r\n          payload: username\r\n        });\r\n      })\r\n\r\n  } catch (error) {\r\n    console.log(error)\r\n    dispatch({\r\n      type: DELETE_USER_ERROR,\r\n      message: error\r\n    })\r\n  }\r\n\r\n};\r\n\r\n// export const getProfiles = (unit_id) => async dispatch => {\r\nexport const getProfiles = () => async dispatch => {\r\n  try {\r\n    dispatch({ type: GET_PROFILES_REQUEST });\r\n\r\n    await axios\r\n      .get('/api/v1/profiles/')\r\n      .then(response => {\r\n        dispatch({\r\n          type: GET_PROFILES_SUCCESS,\r\n          payload: response.data\r\n        });\r\n      })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_PROFILES_ERROR,\r\n      message: error\r\n    })\r\n  }\r\n\r\n};\r\n\r\nexport const getProfileUnit = (unit_id) => async dispatch => {\r\n  try {\r\n    dispatch({ type: GET_PROFILES_REQUEST });\r\n    await axios\r\n      .get(`/api/v1/profiles/${unit_id}`)\r\n      .then(response => {\r\n        dispatch({\r\n          type: GET_PROFILES_SUCCESS,\r\n          payload: response.data\r\n        });\r\n      })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_PROFILES_ERROR,\r\n      message: error\r\n    })\r\n  }\r\n\r\n};\r\n\r\nexport const getProfile = (id) => async dispatch => {\r\n  try {\r\n    dispatch({ type: GET_PROFILE_REQUEST });\r\n\r\n    await axios\r\n      .get(`/api/v1/profile_user/${id}/`)\r\n      .then(response => {\r\n        dispatch({\r\n          type: GET_PROFILE_SUCCESS,\r\n          payload: response.data\r\n        });\r\n      })\r\n\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_PROFILE_ERROR,\r\n      message: error\r\n    })\r\n  }\r\n\r\n};\r\n\r\nexport const updateProfile = (id, userData) => async dispatch => {\r\n  // console.log(userData)\r\n  await axios\r\n    .patch(`/api/v1/profile/${id}/`, userData)\r\n    \r\n    .then(response => {\r\n      toast.success(\r\n        \"Cập nhật tài khoản thành công.\"\r\n      );\r\n      dispatch({ \r\n        type: UPDATE_PROFILE_SUCCESS,\r\n        payload: response.data\r\n      });\r\n    })\r\n    // .catch(error => {\r\n    //   if (error.resposne) {\r\n    //     toast.error(JSON.stringify(error.response.data));\r\n    //     dispatch({\r\n    //       type: UPDATE_PROFILE_ERROR,\r\n    //       errorData: error.response.data\r\n    //     });\r\n    //   } else if (error.message) {\r\n    //     toast.error(JSON.stringify(error.message));\r\n    //   } else {\r\n    //     toast.error(JSON.stringify(error));\r\n    //   }\r\n    // });\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\nexport const deleteProfile = (id) => async dispatch => {\r\n  await axios\r\n    .delete(`/api/v1/profile/${id}/`)\r\n    .then(response => {\r\n      toast.success(\r\n        \"Xóa tài khoản thành công.\"\r\n      );\r\n      dispatch({ \r\n        type: DELETE_PROFILE_SUCCESS,\r\n        payload: id\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\n\r\nexport const getUnits = () => async dispatch => {\r\n  try {\r\n    dispatch({ type: GET_UNITS_REQUEST });\r\n\r\n    await axios\r\n      .get(\"/api/v1/unit/\")\r\n      .then(response => {\r\n        dispatch({\r\n          type: GET_UNITS_SUCCESS,\r\n          payload: response.data\r\n        });\r\n      })\r\n\r\n  } catch (error) {\r\n    console.log(error)\r\n    dispatch({\r\n      type: GET_UNITS_ERROR,\r\n      message: error\r\n    })\r\n  }\r\n\r\n};\r\n","// frontend/src/components/dashboard/Dashboard.js\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { getProfile, resetPassword } from '../users/UserActions';\r\nimport { logout } from \"../login/LoginActions\";\r\n\r\nconst Header = (props) => {\r\n  const { user } = useSelector((state) => state.auth);\r\n  const profile = useSelector(state => state.profile.data);\r\n  const [resetPass, setResetPass] = useState(false)\r\n  const [passwordNew, setPasswordNew] = useState()\r\n  const [passwordOld, setPasswordOld] = useState()\r\n\r\n  const dispatch = useDispatch()\r\n  const handleLogout = (event) => {\r\n    event.preventDefault();\r\n    dispatch(logout())\r\n  }\r\n  useEffect(() => {\r\n    dispatch(getProfile(user.id))\r\n  }, [])\r\n\r\n  const handleResetPass = () => {\r\n    setResetPass(true)\r\n  }\r\n\r\n  const handleSavePass = () => {\r\n    let dataReset = {\r\n      new_password: passwordNew,\r\n      current_password: passwordOld\r\n    }\r\n    dispatch(resetPassword(dataReset))\r\n  }\r\n\r\n  return (\r\n    <div id=\"navbar\" className=\"navbar navbar-default ace-save-state navbar-fixed-top\">\r\n      <div className=\"navbar-container ace-save-state\" id=\"navbar-container\">\r\n\r\n        <div className=\"navbar-header pull-left\">\r\n          <a href=\"/\" className=\"navbar-brand\"><small><i className=\"fa fa-th-large \" /> &nbsp;&nbsp;CÔNG NGHỆ THÔNG TIN QUÂN KHU 7</small>\r\n          </a>\r\n        </div>\r\n        {user.username ? (\r\n          <>\r\n            <div className=\"navbar-buttons navbar-header pull-right\" role=\"navigation\">\r\n              <ul className=\"nav ace-nav\">\r\n\r\n                <li className=\"light-blue dropdown-modal\">\r\n                  <a data-toggle=\"dropdown\" href=\"#\" className=\"dropdown-toggle\">\r\n                    {/* className=\"user-info\"  */}\r\n                    {profile?.image &&\r\n                      <img className=\"nav-user-photo\" src={`http://localhost:8000${(profile.image).replace(\"http://127.0.0.1:8000\", \"\")}`} alt=\"Jason's Photo\" />\r\n                    }\r\n                    <span ><small>Xin chào,&nbsp;</small>{profile?.first_name ? profile.first_name : user.username}</span>\r\n                    <i className=\"ace-icon fa fa-caret-down\" />\r\n                  </a>\r\n                  <ul className='user-menu dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret dropdown-close' >\r\n\r\n                    {/* <li onClick={handleResetPass}> */}\r\n                    <li >\r\n                      <a><i className=\"ace-icon fa fa-cog\" />Thay đổi mật khẩu</a>\r\n                    </li>\r\n                    <li className=\"divider\" />\r\n\r\n                    {/* {resetPass && */}\r\n\r\n                    <li style={{ width: \"300px\" }}>\r\n                      <form>\r\n                        <div className=\"input-group\">\r\n                          <span className=\"input-group-addon\">\r\n                            Mật hiện tại&nbsp;&nbsp;&nbsp;&nbsp;\r\n                          </span>\r\n                          <input type=\"password\" className=\"form-control search-query\" placeholder=\"Nhập mật khẩu hiện tại\" value={passwordOld} onChange={(e) => setPasswordOld(e.target.value)} />\r\n\r\n                        </div>\r\n                        <div className=\"input-group\" >\r\n                          <span className=\"input-group-addon\">\r\n                            Mật khẩu mới&nbsp;\r\n                          </span>\r\n                          <input type=\"password\" className=\"form-control search-query\" placeholder=\"Nhập mật khẩu mới\" value={passwordNew} onChange={(e) => setPasswordNew(e.target.value)} />\r\n\r\n                        </div>\r\n\r\n                        <div className=\"input-group\">\r\n                          <span className=\"input-group-addon\">\r\n                            <button type=\"button\" className=\"btn-green btn-sm\" onClick={handleSavePass}>\r\n                              <span className=\"ace-icon fa fa-save icon-on-right bigger-110\"></span>&nbsp;\r\n                              Lưu thay đổi\r\n                            </button>\r\n                          </span>\r\n\r\n                        </div>\r\n                      </form>\r\n\r\n                    </li>\r\n                    {/* } */}\r\n                    <li onClick={handleLogout}>\r\n                      <a><i className=\"ace-icon fa fa-power-off\" />Đăng xuất</a>\r\n                    </li>\r\n\r\n                  </ul>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </>\r\n\r\n        ) : (\r\n          <div className=\"navbar-buttons navbar-header pull-right\" role=\"navigation\">\r\n            <ul className=\"nav ace-nav\">\r\n              <li className=\"light-blue dropdown-modal\">\r\n                <Link data-toggle=\"dropdown\" to=\"/login\" className=\"dropdown-toggle\">\r\n                  <span className=\"user-info\">Đăng nhập</span>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default withRouter(Header);","// frontend/src/components/dashboard/Dashboard.js\r\n\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\n\r\nclass Footer extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"footer\" style={{ paddingTop: \"0px\", position: \"fixed\", minHeight: \"45px\", bottom: \"0\", width: \"100%\", backgroundColor: \"#E3E3E3\" }}>\r\n          <div className=\"footer-inner\" style={{paddingBottom: \"10px\"}}>\r\n              <span className=\"bigger-120\">\r\n                <span className=\"blue bolder\">Ban Công nghệ thông tin Quân khu 7 - </span> HỆ THỐNG TRUYỀN HÌNH ỨNG DỤNG © 2020-2021</span>\r\n           \r\n          </div>\r\n        </div>\r\n        <a href=\"#\" id=\"btn-scroll-up\" className=\"btn-scroll-up btn btn-sm btn-inverse\">\r\n          <i className=\"ace-icon fa fa-angle-double-up icon-only bigger-110\" />\r\n        </a>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default withRouter(Footer);","// frontend/src/components/dashboard/Dashboard.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter, NavLink } from \"react-router-dom\";\r\nimport { logout } from \"../login/LoginActions\";\r\n// import { useFullScreen } from \"react-browser-hooks\";\r\n\r\n\r\nconst Menubar = () => {\r\n  const { user } = useSelector((state) => state.auth);\r\n  // const { toggle, fullScreen } = useFullScreen();\r\n  const dispatch = useDispatch()\r\n  const handleLogout = (event) => {\r\n    event.preventDefault();\r\n    dispatch(logout())\r\n  }\r\n  return (\r\n    <>\r\n    { user.groups.find(u=>u===1) &&\r\n    <div id=\"sidebar\" className=\"sidebar responsive  ace-save-state sidebar-fixed compact sidebar-scroll\">\r\n      <div className=\"nav-wrap-up pos-rel\">\r\n        <div className=\"nav-wrap\" style={{ maxHeight: \"310px\" }}>\r\n          <div style={{ position: \"relative\" }}>\r\n            <ul className=\"nav nav-list\">\r\n              <li >\r\n                <NavLink axact to=\"/\" >\r\n                  <i className=\"menu-icon fa fa-tachometer bigger-160\" />\r\n                  <span className=\"menu-text\"> Trang chủ </span>\r\n                </NavLink>\r\n                <b className=\"arrow\" />\r\n              </li>\r\n              <li >\r\n                <NavLink to=\"/chat\" activeStyle={{color:\"white\", backgroundColor:\"grey\"}}>\r\n                  <i className=\"menu-icon fa fa-comments-o bigger-160\" />\r\n                  <span className=\"menu-text\"> Chat</span>\r\n                </NavLink>\r\n                <b className=\"arrow\" />\r\n              </li>\r\n              \r\n              <>\r\n              <li className=\"hover highlight\" >\r\n                <NavLink to=\"/cal_meet\" activeStyle={{color:\"white\", backgroundColor:\"grey\"}}>\r\n                  <i className=\"menu-icon \tfa fa-camera-retro bigger-160\" />\r\n                  <span className=\"menu-text\"> Lập Lịch hội nghị </span>\r\n                </NavLink>\r\n                <b className=\"arrow\" />\r\n              </li>\r\n              \r\n              <li >\r\n                <NavLink to=\"/user-create\" activeStyle={{color:\"white\", backgroundColor:\"grey\"}}>\r\n                  <i className=\"menu-icon fa fa-users bigger-160\" />\r\n                  <span className=\"menu-text\"> Quản lý Tài khoản</span>\r\n                </NavLink>\r\n                <b className=\"arrow\" />\r\n              </li>\r\n              </>\r\n              \r\n              <li  onClick={handleLogout}>\r\n              <NavLink to=\"\" >\r\n                  <i className=\"menu-icon fa fa-sign-out bigger-160\" />\r\n                  <span className=\"menu-text\"> Đăng xuất</span>\r\n                <b className=\"arrow\" />\r\n                </NavLink>\r\n              </li>\r\n            </ul>\r\n            <div className=\"sidebar-toggle sidebar-collapse\" id=\"sidebar-collapse\">\r\n              <i id=\"sidebar-toggle-icon\" className=\"ace-icon fa fa-angle-double-left ace-save-state\" data-icon1=\"ace-icon fa fa-angle-double-left\" data-icon2=\"ace-icon fa fa-angle-double-right\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n  </>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default withRouter(Menubar);","\r\nimport axios from \"axios\";\r\nimport { toastOnError } from \"../../utils/Utils\";\r\nimport { toast } from \"react-toastify\";\r\nimport { GET_CALENDARS, DETAIL_CALENDAR, ADD_CALENDAR, DELETE_CALENDAR, UPDATE_CALENDAR } from \"./CalendarTypes\";\r\n\r\nexport const getCalendar = () => async dispatch => {\r\n  await axios\r\n    .get(\"/api/v1/room/\")\r\n    .then(response => {\r\n      dispatch({\r\n        type: GET_CALENDARS,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\nexport const detailCalendar = (Id) => async dispatch => {\r\n  await axios\r\n    .get(`/api/v1/room/${Id}/`)\r\n    .then(response => {\r\n      dispatch({\r\n        type: DETAIL_CALENDAR,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\nexport const addCalendar = calendar => dispatch => {\r\n  // console.log(calendar)\r\n  axios\r\n    .post(\"/api/v1/room/\", calendar)\r\n    .then(response => {\r\n      dispatch({\r\n        type: ADD_CALENDAR,\r\n        payload: response.data\r\n      });\r\n      toast.success(\r\n        \"Tạo mới phòng họp thành công!\"\r\n      );\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\n// new functions\r\nexport const deleteCalendar = id => dispatch => {\r\n  axios\r\n    .delete(`/api/v1/room/${id}/`)\r\n    .then(response => {\r\n      dispatch({\r\n        type: DELETE_CALENDAR,\r\n        payload: id\r\n      });\r\n      toast.success(\r\n        \"Xóa phòng họp thành công!\"\r\n      );\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\nexport const updateCalendar = (Id, calendar) => dispatch => {\r\n\r\n  console.log(Id)\r\n  console.log(calendar)\r\n  \r\n  var url = `/api/v1/room/${Id}/`\r\n  console.log(url)\r\n  axios\r\n    .patch(url, calendar)\r\n    .then(response => {\r\n      dispatch({\r\n        type: UPDATE_CALENDAR,\r\n        payload: response.data\r\n      });\r\n      toast.success(\r\n        \"Cập nhật phòng họp thành công!\"\r\n      );\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n","import { toastOnError } from \"../../utils/Utils\";\r\nimport { TOGGLE_AUDIO_ALL, TOGGLE_AUDIO, TOGGLE_VIDEO_ALL, TOGGLE_FULL_ALL, SET_JITSI_STORE, GET_MEET_ROOM } from \"./JitsiTypes\";\r\nimport axios from \"axios\";\r\nexport const setAudioAll = (stateAudioAll) => dispatch => {\r\n  dispatch({\r\n    type: TOGGLE_AUDIO_ALL,\r\n    payload: stateAudioAll\r\n  });\r\n};\r\nexport const setAudio = (stateAudio) => dispatch => {\r\n  dispatch({\r\n    type: TOGGLE_AUDIO,\r\n    payload: stateAudio\r\n  });\r\n};\r\nexport const setVideoAll = (stateVideoAll) => dispatch => {\r\n  dispatch({\r\n    type: TOGGLE_VIDEO_ALL,\r\n    payload: stateVideoAll\r\n  });\r\n};\r\n\r\nexport const setFullAll = (stateFullAll) => dispatch => {\r\n  dispatch({\r\n    type: TOGGLE_FULL_ALL,\r\n    payload: stateFullAll\r\n  });\r\n};\r\n\r\nexport const setJitsiStore = (jitsiStore) => dispatch => {\r\n  dispatch({\r\n    type: SET_JITSI_STORE,\r\n    payload: jitsiStore\r\n  });\r\n};\r\n\r\nexport const getMeetRoom = (id) => async dispatch => {\r\n  await axios\r\n    .get(`/api/v1/room/${id}/`)\r\n    .then(response => {\r\n      // console.log(response.data)\r\n      dispatch({\r\n        type: GET_MEET_ROOM,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter, useHistory } from \"react-router-dom\";\r\nimport { useFullScreen } from \"react-browser-hooks\";\r\nimport { setJitsiStore } from \"../jitsi/JitsiActions\"\r\n\r\nimport ProgressComponent from '@material-ui/core/CircularProgress';\r\n\r\n\r\nfunction CalendarJitsi(props) {\r\n    const { Id, Subject } = props;\r\n\r\n    const user_auth = useSelector((state) => state.auth);\r\n    const roomMeet = useSelector(state => state.jitsi.meetroom)\r\n    // console.log(roomMeet)\r\n    const { jitsiState } = useSelector((state) => state.jitsi);\r\n    console.log(user_auth)\r\n    console.log(jitsiState.stateAudio)\r\n\r\n    const [user, setUser] = useState(user_auth.user.last_name + \" \" + user_auth.user.first_name);\r\n\r\n    const { toggle, fullScreen } = useFullScreen();\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const domain = 'meet.jit.si';\r\n    let api = {};\r\n    // const [room, setRoom] = useState(\"CNTTQK7\");\r\n    const [isAudioMuted, setIsAudioMuted] = useState(false);\r\n    const [isVideoMuted, setIsVideoMuted] = useState(false);\r\n    const [isTileView, setIsTileView] = useState(false);\r\n    const [dominantSpeaker, setDominantSpeaker] = useState();\r\n    const [displayName2, setDisplayName2] = useState();\r\n    const [participants, setParticipants] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n    const history = useHistory();\r\n\r\n    const jitsiContainerStyle = {\r\n        display: (loading ? 'none' : 'block'),\r\n        width: '100%',\r\n        height: '100%',\r\n    }\r\n\r\n    const startMeet = () => {\r\n        const options = {\r\n            roomName: Id,\r\n            width: '100%',\r\n            height: \"100%\",\r\n            configOverwrite: { prejoinPageEnabled: false },\r\n            interfaceConfigOverwrite: {\r\n                // overwrite interface properties\r\n                filmStripOnly: false,\r\n                SHOW_JITSI_WATERMARK: false,\r\n                SHOW_WATERMARK_FOR_GUESTS: false,\r\n                DISABLE_DOMINANT_SPEAKER_INDICATOR: true,\r\n                TILE_VIEW_MAX_COLUMNS: 2,\r\n                TOOLBAR_BUTTONS: ['microphone', 'camera', 'chat', 'hangup', 'fullscreen', 'tileview', 'desktop', 'sharedvideo'],\r\n            },\r\n            parentNode: document.querySelector('#jitsi-iframe'),\r\n            userInfo: {\r\n                displayName: user,\r\n            }\r\n        }\r\n        api = new window.JitsiMeetExternalAPI(domain, options);\r\n        api.addEventListener('videoConferenceJoined', () => {\r\n            // console.log('Local User Joined');\r\n            setLoading(false);\r\n        });\r\n        api.addEventListeners({\r\n            readyToClose: handleClose,\r\n            participantLeft: handleParticipantLeft,\r\n            participantJoined: handleParticipantJoined,\r\n            videoConferenceJoined: handleVideoConferenceJoined,\r\n            videoConferenceLeft: handleVideoConferenceLeft,\r\n            audioMuteStatusChanged: handleMuteStatus,\r\n            videoMuteStatusChanged: handleVideoStatus,\r\n            tileViewChanged: handleTileViewStatus,\r\n            // displayNameChange: handleDisplayName,\r\n            dominantSpeakerChanged: handleDominantSpeaker,\r\n        });\r\n        api.executeCommand('subject', Subject);\r\n        api.executeCommand('setLargeVideoParticipant', 'abcd1234');\r\n        api.executeCommand('avatarUrl', 'assets/images/avatars/user.jpg');\r\n        // console(api.getNumberOfParticipants())\r\n\r\n\r\n        dispatch(setJitsiStore(api));\r\n    }\r\n\r\n    const handleClose = () => {\r\n        console.log(\"handleClose\");\r\n    }\r\n    const handleParticipantLeft = async (participant) => {\r\n        console.log(\"handleParticipantLeft\", participant); // { id: \"2baa184e\" }\r\n        const data = await getParticipants();\r\n    }\r\n    const handleParticipantJoined = async (participant) => {\r\n        console.log(\"handleParticipantJoined\", participant); // { id: \"2baa184e\", displayName: \"Shanu Verma\", formattedDisplayName: \"Shanu Verma\" }\r\n        const data = await getParticipants();\r\n        setParticipants(data)\r\n\r\n    }\r\n    console.log(participants)\r\n\r\n    const handleVideoConferenceJoined = async (participant) => {\r\n        console.log(\"handleVideoConferenceJoined\", participant); // { roomName: \"bwb-bfqi-vmh\", id: \"8c35a951\", displayName: \"Akash Verma\", formattedDisplayName: \"Akash Verma (me)\"}\r\n        const data = await getParticipants();\r\n    }\r\n    const handleVideoConferenceLeft = () => {\r\n        // console.log(\"handleVideoConferenceLeft\");\r\n        return history.push('/dashboard');\r\n    }\r\n\r\n    const handleMuteStatus = (muted) => {\r\n        // console.log(\"handleMuteStatus\", muted); // { muted: true } \r\n        // console.log(muted); // { muted: true } \r\n        setIsAudioMuted(muted.muted)\r\n    }\r\n    console.log(isAudioMuted)\r\n\r\n    const handleVideoStatus = (video) => {\r\n        // console.log(\"handleVideoStatus\", video); // { muted: true }\r\n        setIsVideoMuted(video.muted)\r\n    }\r\n    console.log(isVideoMuted)\r\n\r\n    const handleTileViewStatus = (tileview) => {\r\n        console.log(\"handleTileViewStatus\", tileview); // { muted: true }\r\n        setIsTileView(tileview.enabled)\r\n    }\r\n    // console.log(isTileView)\r\n    const handleDominantSpeaker = (speaker) => {\r\n        console.log(\"handleDominantSpeaker\", speaker);\r\n        setDominantSpeaker(speaker.id)\r\n        const dispName = api.getDisplayName(speaker.id)\r\n        setDisplayName2(dispName)\r\n        console.log(dispName)\r\n\r\n    }\r\n    // console.log(dominantSpeaker)\r\n\r\n    const getParticipants = () => {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                resolve(api.getParticipantsInfo()); // get all participants\r\n            }, 500)\r\n        });\r\n    }\r\n\r\n    // custom events\r\n\r\n    const executeCommand = (e) => {\r\n        e.preventDefault();\r\n        api.executeCommand('muteEveryone');\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (window.JitsiMeetExternalAPI) {\r\n            startMeet();\r\n        } else {\r\n            alert('JitsiMeetExternalAPI not loaded');\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div style={{ display: 'flex', marginRight: '0px', overflow: 'scroll initial', height: '60vh'  }} >\r\n            {loading && <ProgressComponent style={{ marginLeft: '45%', marginTop: '20%', width: '5%', height: '5%' }} />}\r\n\r\n            <div id=\"jitsi-iframe\" style={jitsiContainerStyle} ></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withRouter(CalendarJitsi);\r\n","import React, { useState, useEffect } from 'react';\r\nimport moment from 'moment';\r\nimport CalendarJitsi from './CalendarJitsi';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction CalendarToday(props) {\r\n    const { cal, profiles, profile } = props;\r\n    const [status, setStatus] = useState(\"Chưa diễn ra\")\r\n    const [statusNum, setStatusNum] = useState(3)\r\n    const [classType, setClassType] = useState(\"search-promotion label label-blue arrowed-in arrowed-in-right\")\r\n\r\n    const eventType = (EventType) => {\r\n        switch (EventType) {\r\n            case 0:\r\n                return \"Cao\"\r\n            case 1:\r\n                return \"Trung bình\"\r\n            case 2:\r\n                return \"Thấp\"\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        var datenow = new Date()\r\n        var date1 = new Date(cal.StartTime);\r\n        var date2 = new Date(cal.EndTime);\r\n        var date3 = date1 - datenow\r\n        var date4 = date2 - datenow\r\n        // console.log(datenow.getTime())\r\n        if (date4 <= 0) {\r\n            setStatus(\"Đã kết thúc\")\r\n            setStatusNum(0)\r\n            setClassType(\"search-promotion label label-danger arrowed-in arrowed-in-right\")\r\n        }\r\n        if (date3 <= 0 && date4 >= 0) {\r\n            // if (date3 <= 0 && date4 >= 0 && moment(cal.StartTime).format(\"hh:mm A\").toString() <= moment(datenow).format(\"hh:mm A\").toString() && moment(cal.EndTime).format(\"hh:mm A\").toString() >= moment(datenow).format(\"hh:mm A\").toString()) {\r\n            setStatus(\"Đang diễn ra\")\r\n            setStatusNum(1)\r\n            setClassType(\"search-promotion label label-success arrowed-in arrowed-in-right\")\r\n        }\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"col-xs-12 col-sm-6\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }} key={cal.Id}>\r\n            <div className=\"row\"  >\r\n                <div className=\"col-xs-12 col-sm-4\" >\r\n                    <div className=\"text-center\">\r\n                        <span className={classType}><b>{status}</b></span>\r\n                        <img style={{ maxWidth: '120%' }} className=\"thumbnail inline no-margin-bottom\" alt=\"Anh Hoi nghi\" src=\"assets\\images\\meet\\meeting2.jpg\" />\r\n                        <div className=\"hr hr-dotted hr-6\"></div>\r\n                        {status === \"Đang diễn ra\" ?\r\n                            <Link to={`/hnth-client/${cal.Id}`} target=\"_blank\">\r\n                                <button className=\" btn-primary \" title=\"Click để tham gia cuộc họp\">\r\n                                    &nbsp; Tham gia cuộc họp&nbsp;\r\n                                    <i className=\"ace-icon fa fa-arrow-right icon-on-right\"></i>\r\n                                </button>\r\n                            </Link>\r\n                            :\r\n                            <button disabled title=\"Cuộc họp đã kết thúc hoặc chưa diễn ra\">\r\n                                &nbsp; Tham gia cuộc họp&nbsp;\r\n                                <i className=\"ace-icon fa fa-arrow-right icon-on-right\"></i>\r\n                            </button>\r\n                        }\r\n                        <div className=\"hr hr-dotted hr-6\"></div>\r\n                        {/* cal.User_control.find(profile.user) */}\r\n                        {cal.User_control.find((uR) => uR === profile.user) &&\r\n                            <Link to={`/hnth-admin/${cal.Id}`} target=\"_blank\">\r\n                                <button title=\"Click để điều khiển cuộc họp\">\r\n                                    &nbsp;Điều khiển hội nghị&nbsp;\r\n                                    <i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" />\r\n                                </button>\r\n                            </Link>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-xs-12 col-sm-8\" >\r\n                    <div className=\"profile-user-info profile-user-info-striped\" style={{ display: 'block' }}>\r\n                        <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                            <div className=\"profile-info-value\" style={{ whiteSpace: \"nowrap\", overflow: \"hidden\", textOverflow: \"ellipsis\", display: \"block\" }} title={cal.Subject}>\r\n                                <i className=\"ace-icon fa fa-laptop bigger-110\"></i> &nbsp;\r\n                                <b  >{cal.Subject}</b>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profile-info-row\">\r\n                            <div className=\"profile-info-value\" style={{ color: \"green\" }}>\r\n                                <i className=\"ace-icon fa fa-clock-o bigger-110\"></i> &nbsp;\r\n                                Bắt đầu:\t{moment(cal.StartTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profile-info-row\">\r\n                            <div className=\"profile-info-value\" style={{ color: \"grey\" }} >\r\n                                <i className=\"ace-icon fa fa-clock-o bigger-110\"></i> &nbsp;\r\n                                Kết thúc:\t{moment(cal.EndTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profile-info-row\">\r\n                            <div className=\"profile-info-value\" style={{ color: \"grey\" }} >\r\n                                <i className=\"ace-icon fa fa-clock-o bigger-110\"></i> &nbsp;\r\n                                Chủ trì: {profiles.filter(p => cal.User_vip.includes(p.user)).map(v => { return <span style={{ color: \"blue\" }}>{v.first_name}&nbsp; </span> })}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profile-info-row\">\r\n                            <div className=\"profile-info-value\"  >\r\n                                <i className=\"ace-icon fa fa-heart-o bigger-110\"></i> &nbsp;\r\n                                Mức độ ưu tiên:\t{eventType(cal.EventType)}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profile-info-row\">\r\n                            <div className=\"profile-info-value\"  >\r\n                                <i className=\"ace-icon fa fa-eye bigger-110\"></i> &nbsp;\r\n                                Số thành viên: &nbsp;\r\n                                {(() => {\r\n                                    switch (String(cal.User_room.length).length) {\r\n                                        case 1: return <span>0{cal.User_room.length}</span>;\r\n                                        default: return <span>{cal.User_room.length}</span>;\r\n                                    }\r\n                                })()}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"hr hr-dotted hr-6\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CalendarToday\r\n","import React, { useState, useEffect } from 'react';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction CalendarNext(props) {\r\n    const { index, cal } = props;\r\n    const [status, setStatus] = useState(\"Chưa diễn ra\")\r\n    const [statusNum, setStatusNum] = useState(3)\r\n    const [classType, setClassType] = useState(\"search-promotion label label-blue arrowed-in arrowed-in-right\")\r\n\r\n    useEffect(() => {\r\n        var datenow = new Date()\r\n        var date1 = new Date(cal.StartTime);\r\n        var date2 = new Date(cal.EndTime);\r\n        var date3 = date1 - datenow\r\n        var date4 = date2 - datenow\r\n        if (date4 <= 0) {\r\n            setStatus(\"Đã kết thúc\")\r\n            setStatusNum(0)\r\n            setClassType(\"search-promotion label label-danger arrowed-in arrowed-in-right\")\r\n        }\r\n        if (date3 <= 0 && date4 >= 0) {\r\n            setStatus(\"Đang diễn ra\")\r\n            setStatusNum(1)\r\n            setClassType(\"search-promotion label label-success arrowed-in arrowed-in-right\")\r\n        }\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            {cal && index===0 || index===1 ?\r\n                <div className=\"col-xs-12 col-sm-12 col-md-12\" key={index} style={{ height: \"35vh\" }}>\r\n                    <div className=\"thumbnail search-thumbnail\">\r\n                        <span className={classType}><b>{status}</b></span>\r\n                        <img className=\"media-object\" alt=\"100%x200\" style={{ minHeight: \"15vh\", width: '100%', display: 'block' }} src=\"assets/images/myimg/HNTT.jpg\" data-holder-rendered=\"true\" />\r\n                        {/* <iframe src=\"https://meet.jit.si/Hieu\" style={{ height: \"200px\", width: \"100%\", border: \"0px\" }}></iframe> */}\r\n                        <div className=\"caption\">\r\n                            {/* <div className=\"clearfix\">\r\n                                <Link to={`/hnth/${cal.Id}`} >\r\n                                    <span className=\"pull-right label label-grey info-label\">{cal.Subject}</span>\r\n                                </Link>\r\n                            </div> */}\r\n                            <Link to={`/hnth/${cal.Id}`} >\r\n                            <h5 className=\"search-title\">\r\n                                {cal.Subject}\r\n                            </h5>\r\n                            </Link>\r\n                            {/* <p>{cal.Description}</p> */}\r\n                            <span >Thời gian từ {moment(cal.StartTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span> &nbsp;\r\n                            <span >đến {moment(cal.EndTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            : <div className=\"col-xs-12 col-sm-12 col-md-12\" key={index} style={{ height: \"23vh\" }}>\r\n            <div className=\"thumbnail search-thumbnail\">\r\n                <div className=\"caption\">\r\n                    {/* <div className=\"clearfix\">\r\n                        <Link to={`/hnth/${cal.Id}`} >\r\n                            <span className=\"pull-right label label-grey info-label\">{cal.Subject}</span>\r\n                        </Link>\r\n                    </div> */}\r\n                    <Link to={`/hnth/${cal.Id}`} >\r\n                    <h5 >\r\n                        Nội dung: {cal.Subject}\r\n                    </h5>\r\n                    </Link>\r\n                    <p>{cal.Description}</p>\r\n                    <span >Thời gian từ {moment(cal.StartTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span> &nbsp;\r\n                    <span >đến {moment(cal.EndTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span>\r\n                </div>\r\n            </div>\r\n        </div>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CalendarNext\r\n","// import './index.css';\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { ScheduleComponent, ViewsDirective, ViewDirective, Day, Week, WorkWeek, Month, Inject, Resize, DragAndDrop, ResourcesDirective, ResourceDirective, } from '@syncfusion/ej2-react-schedule';\r\n\r\nimport { DateTimePickerComponent } from '@syncfusion/ej2-react-calendars';\r\nimport { DropDownListComponent } from '@syncfusion/ej2-react-dropdowns';\r\nimport { MultiSelectComponent } from '@syncfusion/ej2-react-dropdowns';\r\nimport { isNullOrUndefined, L10n } from '@syncfusion/ej2-base';\r\nimport \"./material.css\";\r\nimport { addCalendar, getCalendar, updateCalendar, deleteCalendar } from \"./CalendarActions\";\r\n\r\n\r\nL10n.load({\r\n    'en-US': {\r\n        'schedule': {\r\n            'saveButton': 'Lưu',\r\n            'cancelButton': 'Đóng',\r\n            'deleteButton': 'Xóa',\r\n            'newEvent': 'Thêm mới Lịch hội nghị!',\r\n            'editEvent': 'Chỉnh sửa Lịch hội nghị!',\r\n            'deleteEvent': 'Xóa Lịch hội nghị!',\r\n            'editButton': 'Chỉnh sửa',\r\n            'cancelButton': 'Thoát',\r\n\r\n        },\r\n    }\r\n});\r\n\r\nfunction CalendarHome() {\r\n    const [fields, setFields] = useState({ text: 'OwnerText', value: 'Id' });\r\n    const dispatch = useDispatch();\r\n    const data = useSelector((state) => state.calendars.calendars); //.results\r\n\r\n    useEffect(() => {\r\n        dispatch(getCalendar())\r\n    }, [])\r\n\r\n    const eventType = [\r\n        { OwnerText: \"Ưu tiên cao\", Id: 0, OwnerColor: '#ffaa00' },\r\n        { OwnerText: \"Ưu tiên trung bình\", Id: 1, OwnerColor: '#f8a398' },\r\n        { OwnerText: \"Ưu tiên thấp\", Id: 2, OwnerColor: '#7499e1' }\r\n    ]\r\n\r\n    function onEventRendered(args) {\r\n        switch (args.data.EventType) {\r\n            case 1:\r\n                args.element.style.backgroundColor = '#F57F17';\r\n                break;\r\n            case 2:\r\n                args.element.style.backgroundColor = '#7fa900';\r\n                break;\r\n            case 3:\r\n                args.element.style.backgroundColor = '#8e24aa';\r\n                break;\r\n        }\r\n    }\r\n    let ownerData = [\r\n        { OwnerText: 'Nancy', Id: 1, OwnerColor: '#ffaa00' },\r\n        { OwnerText: 'Steven', Id: 2, OwnerColor: '#f8a398' },\r\n        { OwnerText: 'Michael', Id: 3, OwnerColor: '#7499e1' }\r\n    ];\r\n    const dataEventClose = (args) => {\r\n        if (args.type !== 'Editor' && !isNullOrUndefined(args.data)) {\r\n            dispatch(addCalendar(args.data));\r\n        } else{\r\n            dispatch(updateCalendar(args.data));\r\n        }\r\n    }\r\n\r\n    function editorTemplate(props) {\r\n        return ((props !== undefined) ? <table className=\"custom-event-editor\" style={{ width: '100%', cellpadding: '5' }}><tbody>\r\n            <tr><td className=\"e-textlabel\">Tiêu đề</td><td style={{ colspan: '4' }}>\r\n                <input id=\"Summary\" className=\"e-field e-input\" type=\"text\" name=\"Subject\" style={{ width: '100%' }} />\r\n            </td></tr>\r\n            <tr><td className=\"e-textlabel\">Trạng thái</td><td style={{ colspan: '4' }}>\r\n                <DropDownListComponent id=\"EventType\" placeholder='Chọn mức độ mưu tiên' data-name='EventType' className=\"e-field\" style={{ width: '100%' }} dataSource={eventType} fields={fields}  >\r\n                </DropDownListComponent>\r\n            </td></tr>\r\n            <tr><td className=\"e-textlabel\">Thời gian bắt đầu</td><td style={{ colspan: '4' }}>\r\n                <DateTimePickerComponent id=\"StartTime\" format='dd/MM/yyyy hh:mm a' data-name=\"StartTime\" className=\"e-field\" ></DateTimePickerComponent>\r\n            </td></tr>\r\n            <tr><td className=\"e-textlabel\">Thời gian kết thúc</td><td style={{ colspan: '4' }}>\r\n                <DateTimePickerComponent id=\"EndTime\" format='dd/MM/yyyy hh:mm a' data-name=\"EndTime\" className=\"e-field\" ></DateTimePickerComponent>\r\n            </td></tr>\r\n            <tr><td className=\"e-textlabel\">Thành viên tham gia</td><td colSpan={4}>\r\n                <MultiSelectComponent id=\"User_room\" className=\"e-field\" placeholder='Chọn thành viên tham gia' data-name=\"User_room\" dataSource={ownerData} fields={fields} />\r\n            </td></tr>\r\n            <tr><td className=\"e-textlabel\">Địa điểm</td><td style={{ colspan: '4' }}>\r\n                <input id=\"Location\" className=\"e-field e-input\" type=\"text\" name=\"Location\" style={{ width: '100%' }} />\r\n            </td></tr>\r\n            <tr><td className=\"e-textlabel\">Mô tả nội dung họp</td><td style={{ colspan: '4' }}>\r\n                <textarea id=\"Description\" className=\"e-field e-input\" name=\"Description\" rows={2} cols={50} style={{ width: '100%', height: '60px !important', resize: 'vertical' }} ></textarea>\r\n            </td></tr>\r\n        </tbody>\r\n        </table> : <div></div>);\r\n    }\r\n\r\n    return (\r\n        <ScheduleComponent width='100%' height='78vh'\r\n            selectedDate={new Date()}\r\n            eventSettings={{ dataSource: data }}\r\n            editorTemplate={editorTemplate}\r\n            showQuickInfo={false}\r\n            eventRendered={onEventRendered}\r\n            popupClose={dataEventClose}\r\n            currentView='Month'\r\n        >\r\n            {/* <ResourcesDirective>\r\n                                <ResourceDirective field='OwnerId' title='Owner' name='Owners' allowMultiple={false} dataSource={ownerData} textField='OwnerText' idField='Id' allowGroupEdit={false} colorField='OwnerColor'></ResourceDirective>\r\n                            </ResourcesDirective> */}\r\n            <ViewsDirective>\r\n                <ViewDirective option='Day' />\r\n                <ViewDirective option='Week' />\r\n                <ViewDirective option='WorkWeek' />\r\n                <ViewDirective option='Month' />\r\n            </ViewsDirective>\r\n            <Inject services={[Day, Week, WorkWeek, Month, Resize, DragAndDrop]} />\r\n        </ScheduleComponent>\r\n    );\r\n}\r\n\r\nexport default CalendarHome;","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\"; // new import\r\nimport { Col, Form, FormControl } from \"react-bootstrap\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { updateProfile } from \"../users/UserActions\";\r\n\r\nfunction getModalStyle() {\r\n  const top = 40;\r\n  const left = 50;\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 500,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  small: {\r\n    width: theme.spacing(3),\r\n    height: theme.spacing(3),\r\n  },\r\n  large: {\r\n    width: theme.spacing(10),\r\n    height: theme.spacing(10),\r\n  },\r\n}));\r\n\r\n\r\nfunction UpdateProfile(props) {\r\n  const { profile } = props\r\n\r\n  const [phone, setPhone] = useState(profile.phone)\r\n  const [first_name, setFirst_name] = useState(profile.first_name)\r\n  const [last_name, setLast_name] = useState(profile.last_name)\r\n  const [groups, setGroups] = useState(profile.groups)\r\n  // const [email, setEmail] = useState(profile.email)\r\n  const [image, setImage] = useState(profile.image)\r\n  const [imagePreviewUrl, setImagePreviewUrl] = useState(null)\r\n  const [errorInput, setErrorInput] = useState()\r\n\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const classes = useStyles();\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n\r\n  const onUpdateClick = () => {\r\n    if (last_name === null || first_name === null || image.name === null || last_name === \"\" || first_name === \"\" || image.name === \"\") {\r\n      setErrorInput(\"Bạn phải nhật thông tin các trường bắt buộc\")\r\n      props.setStateEdit(true)\r\n    } else {\r\n      let form_data = new FormData();\r\n      if (image.name) {\r\n        form_data.append('image', image, image.name)\r\n      }\r\n\r\n      form_data.append('id', props.id)\r\n      form_data.append('first_name', first_name)\r\n      form_data.append('last_name', last_name)\r\n      form_data.append('groups', groups)\r\n      // form_data.append('unit_id', profile.unit_id)\r\n      form_data.append('phone', phone)\r\n      // form_data.append('sort_id', profile.sort_id)\r\n      form_data.append('user', profile.user)\r\n      dispatch(updateProfile(profile.id, form_data)); // <-- signup new user request\r\n      props.setStateEdit(false)\r\n    }\r\n\r\n  };\r\n\r\n  const handleClose = () => {\r\n    if (profile.last_name === null || profile.first_name === null || profile.last_name === \"\" || profile.first_name === \"\") {\r\n      setErrorInput(\"Bạn phải nhật thông tin các trường bắt buộc\")\r\n      props.setStateEdit(true)\r\n    } else {\r\n      props.setStateEdit(false);\r\n    }\r\n\r\n  };\r\n\r\n  const handleChangeImage = (e) => {\r\n    if (e.target.files[0]) {\r\n      setImage(e.target.files[0])\r\n    }\r\n    // console.log(e.target.files[0])\r\n    let reader = new FileReader();\r\n\r\n    reader.onloadend = () => {\r\n      setImagePreviewUrl(reader.result)\r\n    }\r\n    reader.readAsDataURL(e.target.files[0])\r\n  }\r\n\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper} >\r\n      <h4 id=\"simple-modal-title\">Cập nhật thông tin tài khoản</h4>\r\n      <hr />\r\n      <Col md=\"12\">\r\n        <Form>\r\n          <Form.Group controlId=\"usernameId\">\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              <p style={{ color: \"red\" }}>{errorInput}</p>\r\n            </Form.Control.Feedback>\r\n            <Form.Label>Họ và tên*</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"first_name\"\r\n              placeholder=\"Nhập Họ và tên\"\r\n              value={first_name}\r\n              onChange={e => setFirst_name(e.target.value)}\r\n            />\r\n\r\n          </Form.Group>\r\n          <Form.Group controlId=\"usernameId\">\r\n            <Form.Label>Tên hiển thị*</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"last_name\"\r\n              placeholder=\"Nhập tên hiển thị\"\r\n              value={last_name}\r\n              onChange={e => setLast_name(e.target.value)}\r\n            />\r\n            {/* <Form.Control.Feedback type=\"invalid\" >\r\n              <p style={{color:\"red\"}}>{errorInput}</p>\r\n            </Form.Control.Feedback> */}\r\n          </Form.Group>\r\n          <Form.Group controlId=\"usernameId\">\r\n            <Form.Label>Số điện thoại</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"phone\"\r\n              placeholder=\"Nhập số điện thoại\"\r\n              value={phone}\r\n              onChange={e => setPhone(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n\r\n          <div className=\"row\">\r\n            <div className=\"col-xs-12 col-sm-9\" style={{ marginLeft: \"-12px\" }}>\r\n              <Form.Group controlId=\"usernameId\">\r\n                <Form.Label>Chọn Ảnh dại diện*</Form.Label>\r\n                <input\r\n                  className='form-control'\r\n                  type='file'\r\n                  onChange={handleChangeImage}\r\n                // accept=\"image/png, image/jpeg\" \r\n                />\r\n                {/* <Form.Control.Feedback type=\"invalid\">\r\n                  {errorInput}\r\n                </Form.Control.Feedback> */}\r\n              </Form.Group>\r\n            </div>\r\n            <div className=\"col-xs-12 col-sm-3\">\r\n              <div className={classes.root}>\r\n                {/* <Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" className={classes.small} />\r\n            <Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" /> */}\r\n                <Avatar alt=\"Khac Hieu\" src={imagePreviewUrl ? imagePreviewUrl : image} className={classes.large} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Form>\r\n        <div style={{ backgroundColor: \"#EFF3F8\", fontSize: \"20px\", textAlign: \"center\", height: \"50px\", marginTop: \"6px\" }}>\r\n          <button type=\"submit\" className=\"btn-sm btn-success\" onClick={onUpdateClick} style={{ marginTop: \"6px\" }}>\r\n            <i className=\"ace-icon fa fa-plus icon-on-right bigger-110\" />&nbsp;\r\n            Cập nhật\r\n          </button>\r\n          <button type=\"submit\" className=\"btn-sm \" onClick={handleClose} style={{ marginTop: \"6px\" }}>\r\n            <i className=\"ace-icon fa fa-close icon-on-right bigger-110\" />&nbsp;\r\n            Đóng\r\n          </button>\r\n        </div>\r\n      </Col>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      {body}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(UpdateProfile)","// frontend/src/components/dashboard/Dashboard.js\r\nimport React, { useState, useEffect, useCallback } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Header from \"../common/Header\";\r\nimport Footer from \"../common/Footer\";\r\nimport Menubar from \"../common/Menubar\";\r\nimport ProgressComponent from '@material-ui/core/CircularProgress';\r\nimport { getUsers, getProfile, getProfiles } from '../users/UserActions';\r\nimport { getCalendar } from \"../calendar/CalendarActions\";\r\nimport CalendarToday from './CalendarToday';\r\nimport moment from 'moment'\r\nimport CalendarNext from './CalendarNext';\r\nimport CalendarHome from '../calendar/CalendarHome'\r\nimport { Link } from 'react-router-dom';\r\nimport UpdateProfile from './UpdateProfile'\r\nimport Modal from '@material-ui/core/Modal';\r\n\r\nimport Clock from 'react-clock';\r\nimport 'react-clock/dist/Clock.css';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  small: {\r\n    width: theme.spacing(3),\r\n    height: theme.spacing(3),\r\n  },\r\n  large: {\r\n    width: theme.spacing(10),\r\n    height: theme.spacing(10),\r\n  },\r\n}));\r\n\r\nfunction Dashboard() {\r\n  const classes = useStyles();\r\n  const profile = useSelector(state => state.profile.data);\r\n  const profiles = useSelector(state => state.profiles.data);\r\n  const data = useSelector((state) => state.calendars.calendars);\r\n  const { user } = useSelector((state) => state.auth);\r\n  // console.log(user)\r\n  // console.log(profile)\r\n  const [stateEdit, setStateEdit] = useState(false)\r\n\r\n  // console.log(stateEdit)\r\n\r\n  data.sort((a, b) => {\r\n    if (a.StartTime < b.StartTime) {\r\n      return -1;\r\n    }\r\n    if (a.StartTime > b.StartTime) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n\r\n  const [value, setValue] = useState(new Date());\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(\r\n      () => setValue(new Date()),\r\n      1000\r\n    );\r\n    return () => {\r\n      clearInterval(interval);\r\n    }\r\n  }, []);\r\n\r\n  const eventType = (EventType) => {\r\n    switch (EventType) {\r\n      case 0:\r\n        return \"Cao\"\r\n      case 1:\r\n        return \"Trung bình\"\r\n      case 2:\r\n        return \"Thấp\"\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getProfile(user.id))\r\n  }, [stateEdit])\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      if (profile.phone === \"\" || profile.first_name === null || profile.first_name === \"\" || profile.last_name === null) {\r\n        setStateEdit(true)\r\n      }\r\n    }, 2000);\r\n  }, [profile])\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(getCalendar())\r\n    dispatch(getUsers())\r\n    dispatch(getProfiles())\r\n    \r\n\r\n  }, [])\r\n\r\n\r\n  const handleSetStateEdit = () => {\r\n    setStateEdit(true)\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setStateEdit(false)\r\n  }\r\n\r\n  const today = new Date()\r\n  const lengthCal = []\r\n  const lengthCalNext = []\r\n\r\n  const CalendarTodays = data.filter(x => moment(x.StartTime).format(\"DD-MM-YY\").toString() <= moment(today).format(\"DD-MM-YY\").toString() && moment(x.EndTime).format(\"DD-MM-YY\").toString() >= moment(today).format(\"DD-MM-YY\").toString()).map((cal, index) => {\r\n    if (cal.User_room.find((uR) => uR === profile.user)) {\r\n      lengthCal.push(cal.id)\r\n      return (\r\n        <CalendarToday key={index} cal={cal} profiles={profiles} profile={profile} />\r\n      )\r\n    }\r\n  })\r\n\r\n  const CalendarNexts = data.filter(x => moment(x.StartTime).format(\"DD-MM-YY\").toString() > moment(today).format(\"DD-MM-YY\").toString()).map((cal, index) => {\r\n    if (cal.User_room.find((uR) => uR === profile.user)) {\r\n      lengthCalNext.push(cal.id)\r\n      return (\r\n        <div className=\"col-xs-12 col-sm-6\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }} key={index}>\r\n          <div className=\"row\"  >\r\n            <div className=\"col-xs-12 col-sm-4\" >\r\n              <div className=\"text-center\">\r\n                <img style={{ maxWidth: '120%' }} className=\"thumbnail inline no-margin-bottom\" alt=\"Anh Hoi nghi\" src=\"assets\\images\\meet\\meeting.jpg\" />\r\n                <div className=\"hr hr-dotted hr-6\"></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-xs-12 col-sm-8\" >\r\n              <div className=\"profile-user-info profile-user-info-striped\" style={{ display: 'block' }}>\r\n                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                  <div className=\"profile-info-value\" style={{ whiteSpace: \"nowrap\", overflow: \"hidden\", textOverflow: \"ellipsis\", display: \"block\" }} title={cal.Subject}>\r\n                    <i className=\"ace-icon fa fa-laptop bigger-110\"></i> &nbsp;\r\n                    <b>{cal.Subject}</b>\r\n                  </div>\r\n                </div>\r\n                <div className=\"profile-info-row\">\r\n                  <div className=\"profile-info-value\" style={{ color: \"green\" }}>\r\n                    <i className=\"ace-icon fa fa-clock-o bigger-110\"></i> &nbsp;\r\n                    Bắt đầu:\t{moment(cal.StartTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}\r\n                  </div>\r\n                </div>\r\n                <div className=\"profile-info-row\">\r\n                  <div className=\"profile-info-value\" style={{ color: \"grey\" }} >\r\n                    <i className=\"ace-icon fa fa-clock-o bigger-110\"></i> &nbsp;\r\n                    Kết thúc:\t{moment(cal.EndTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}\r\n                  </div>\r\n                </div>\r\n                <div className=\"profile-info-row\">\r\n                  <div className=\"profile-info-value\" style={{ color: \"grey\" }} >\r\n                    <i className=\"ace-icon fa fa-clock-o bigger-110\"></i> &nbsp;\r\n                    Chủ trì: {profiles.filter(p => cal.User_vip.includes(p.user)).map(v => { return <span style={{ color: \"blue\" }}>{v.first_name}&nbsp; </span> })}\r\n                  </div>\r\n                </div>\r\n                <div className=\"profile-info-row\">\r\n                  <div className=\"profile-info-value\"  >\r\n                    <i className=\"ace-icon fa fa-heart-o bigger-110\"></i> &nbsp;\r\n                    Mức độ ưu tiên:\t{eventType(cal.EventType)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"profile-info-row\">\r\n                  <div className=\"profile-info-value\"  >\r\n                    <i className=\"ace-icon fa fa-eye bigger-110\"></i> &nbsp;\r\n                    Số thành viên: &nbsp;\r\n                    {(() => {\r\n                      switch (String(cal.User_room.length).length) {\r\n                        case 1: return <span>0{cal.User_room.length}</span>;\r\n                        default: return <span>{cal.User_room.length}</span>;\r\n                      }\r\n                    })()}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"hr hr-dotted hr-6\"></div>\r\n        </div>\r\n      )\r\n    }\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n        <Menubar />\r\n        <div className=\"main-content\">\r\n          <div className=\"main-content-inner\" >\r\n            {/* <CalendarBreadcrumb /> */}\r\n            {/* <div className=\"page-content\"> */}\r\n            {/* {!stateEdit && <ProgressComponent style={{ marginLeft: '45%', marginTop: '25%', width: \"100px\", height: \"100px\" }} />} */}\r\n            {/* <div className=\"row\" style={{ display: (stateEdit ? 'none' : 'block'), marginRight: '0px' }}> */}\r\n            <div className=\"row\" >\r\n\r\n              <div className=\"row search-page\" >\r\n                <div className=\"col-xs-12 col-sm-8\" >\r\n                  <div className=\"widget-box\">\r\n                    <div className=\"widget-header\">\r\n                      <h4 className=\"widget-title\">\r\n                        <i className=\"ace-icon fa fa-tint\" />\r\n                        Danh sách lịch hội nghị\r\n                      </h4>\r\n                    </div>\r\n                    <div className=\"widget-body\" >\r\n                      <div style={{ backgroundColor: \"#EFF3F8\", fontSize: \"14px\", textAlign: \"center\", height: \"30px\", marginTop: \"6px\", fontWeight: \"bold\" }}><b>Các cuộc họp trong ngày</b></div>\r\n                      <div className=\"widget-main\" style={{ paddingRight: \"0px\", paddingLeft: \"0px\" }} style={{ flex: 1, height: '40vh', overflowY: 'auto' }}>\r\n                        {lengthCal.length > 0 ?\r\n                          <div className=\"row\">\r\n                            {CalendarTodays}\r\n                          </div>\r\n                          :\r\n                          <div className=\"row\">\r\n                            <b style={{ color: \"red\" }}>Không có lịch họp trong ngày</b>\r\n                          </div>\r\n                        }\r\n                      </div>\r\n                      <div style={{ backgroundColor: \"#EFF3F8\", fontSize: \"14px\", textAlign: \"center\", height: \"30px\", marginTop: \"6px\" }}><b>Các cuộc họp trong những ngày tới</b></div>\r\n                      <div className=\"widget-main\" style={{ paddingRight: \"0px\", paddingLeft: \"0px\" }} style={{ flex: 1, height: '35vh', overflowY: 'auto' }}>\r\n                        {lengthCalNext.length > 0 ?\r\n                          <div className=\"row\">\r\n                            {CalendarNexts}\r\n                          </div>\r\n                          :\r\n                          <div className=\"row\">\r\n                            <b style={{ color: \"red\" }}>Chưa có lịch họp trong thời gian tới</b>\r\n                          </div>\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-xs-12 col-sm-4\" style={{ textAlign: \"center\" }}>\r\n                  <div className=\"widget-box\" style={{ marginTop: \"0px\" }}>\r\n                    <div className=\"widget-header\">\r\n                      <h4 className=\"widget-title\">\r\n                        Hôm nay ngày {moment().format(\"DD-MM-YYYY\")}\r\n                      </h4>\r\n                    </div>\r\n                    <div className=\"widget-body\">\r\n                      <div className=\"widget-main\" style={{ paddingRight: \"0px\", paddingLeft: \"0px\" }}>\r\n                        <div className=\"row\" >\r\n                          <div className=\"col-xs-12 col-sm-6\" >\r\n                            <div className=\"infobox infobox-blue\">\r\n                              <div className=\"infobox-icon\">\r\n                                <i className=\"ace-icon fa  fa-laptop\" />\r\n                              </div>\r\n                              <div className=\"infobox-data\">\r\n                                <span className=\"infobox-data-number\">\r\n                                  {(() => {\r\n                                    switch (String(lengthCal.length).length) {\r\n                                      case 1: return <span>0{lengthCal.length}</span>;\r\n                                      default: return <span>{lengthCal.length}</span>;\r\n                                    }\r\n                                  })()}\r\n                                </span>\r\n                                <div className=\"infobox-content\">Cuộc họp trong ngày</div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"infobox infobox-green\">\r\n                              <div className=\"infobox-icon\">\r\n                                <i className=\"ace-icon fa fa-calendar\" />\r\n                              </div>\r\n                              <div className=\"infobox-data\">\r\n                                <span className=\"infobox-data-number\">\r\n                                  {(() => {\r\n                                    switch (String(lengthCalNext.length).length) {\r\n                                      case 1: return <span>0{lengthCalNext?.length}</span>;\r\n                                      default: return <span>{lengthCalNext?.length}</span>;\r\n                                    }\r\n                                  })()}\r\n                                </span>\r\n                                <div className=\"infobox-content\">Cuộc họp thời gian tới</div>\r\n                              </div>\r\n                            </div>\r\n\r\n                          </div>\r\n                          <div className=\"col-xs-12 col-sm-6\" style={{ display: 'flex', justifyContent: \"center\" }}>\r\n                            {/* <div style={{ display: 'flex', justifyContent: \"center\" }}> */}\r\n                            <Clock\r\n                              value={value}\r\n                              size={130}\r\n                            />\r\n                            {/* </div> */}\r\n                          </div>\r\n                          {/* <div style={{ backgroundColor: \"#EFF3F8\", fontSize: \"20px\", textAlign: \"center\", height: \"40px\", marginTop: \"6px\" }}>Ngày {moment().format(\"DD-MM-YYYY\")}</div> */}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"widget-box\">\r\n                    <div className=\"widget-header\">\r\n                      <h4 className=\"widget-title\">\r\n                        Thông tin tài khoản\r\n                      </h4>\r\n                    </div>\r\n                    <div className=\"widget-body\" style={{ flex: 1, maxHeight: '52vh', overflowY: 'auto' }}>\r\n                      <div className=\"widget-main\">\r\n                        <div className=\"col-xs-12 col-sm-12\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }}>\r\n                          <div className=\"row\"  >\r\n                            <div className=\"col-xs-12 col-sm-4\" >\r\n                              <div className=\"text-center\">\r\n                                {/* <Avatar alt=\"Khac Hieu\" src={`http://localhost:8000${profile?.image}`} className={classes.large} /> */}\r\n                                {profile.image &&\r\n                                  <img style={{ maxWidth: '125px' }} className=\"thumbnail inline no-margin-bottom\" alt=\"Anh dai dien\" src={`http://localhost:8000${(profile.image).replace(\"http://127.0.0.1:8000\", \"\")}`} />\r\n                                }\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"col-xs-12 col-sm-8\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }}>\r\n                              <div className=\"profile-user-info profile-user-info-striped \" >\r\n\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\" style={{ color: \"green\" }}>\r\n                                    <i className=\"ace-icon fa fa-user bigger-110\"></i> &nbsp;\r\n                                    {profile?.first_name}\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\" >\r\n                                    <i className=\"ace-icon fa fa-eye bigger-110\"></i> &nbsp;\r\n                                    {profile?.last_name}\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\"  >\r\n                                    <i className=\"ace-icon fa fa-envelope-o bigger-110\"></i> &nbsp;\r\n                                    {user?.email}\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\"  >\r\n                                    <i className=\"ace-icon fa fa-phone bigger-110\"></i> &nbsp;\r\n                                    {profile?.phone}\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\"  >\r\n                                    <i className=\"ace-icon fa fa-cogs bigger-110\"></i> &nbsp;\r\n                                    {(() => {\r\n                                      switch (String(profile?.groups)) {\r\n                                        case '1': return <span>Quản trị hệ thống</span>;\r\n                                        case '2': return <span>Chủ trì phòng họp</span>;\r\n                                        case '3': return <span>Thành viên</span>;\r\n                                        default: return <span>Thành viên</span>;\r\n                                      }\r\n                                    })()}\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\"  >\r\n                                    <i className=\"ace-icon fa fa-clock-o bigger-110\"></i> &nbsp; Login mới nhất:&nbsp;\r\n                                    {moment(profile?.last_login).format(\"DD/MM/YYYY\").toString()}\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"hr hr-dotted hr-6\"></div>\r\n                          <div className=\"width-100 \">\r\n                            <button className=\" btn-primary \" title=\"Chỉnh sửa thông tin tài khoản\"\r\n                              onClick={handleSetStateEdit}\r\n                            >\r\n                              <i className=\"ace-icon fa fa-pencil-square-o\"></i>\r\n                              &nbsp; Chỉnh sửa&nbsp;\r\n                            </button>\r\n\r\n                          </div>\r\n                          <div className=\"hr hr-dotted hr-6\"></div>\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"widget-box\">\r\n                    <div className=\"widget-header\">\r\n                      <h4 className=\"widget-title\">\r\n                        Giới thiệu\r\n                      </h4>\r\n                    </div>\r\n                    <div className=\"widget-body\" style={{ flex: 1, maxHeight: '52vh', overflowY: 'auto' }}>\r\n                      <div className=\"widget-main\">\r\n                        <div className=\"col-xs-12 col-sm-12\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\", textAlign:\"left\"}}>\r\n                          <div className=\"row\"  >\r\n                            <div className=\"col-xs-12 col-sm-12\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }}>\r\n                              <div className=\"profile-user-info profile-user-info-striped \" >\r\n\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\" style={{ color: \"green\" }}>\r\n                                    <i className=\"ace-icon fa fa-th bigger-110\"></i> &nbsp;\r\n                                    Hệ thống hội nghị truyền hình ứng dụng được Ban Công nghệ thông tin Quân khu 7 phát triển dựa trên nền tảng mã nguồn mỡ.\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\" >\r\n                                  <i className=\"ace-icon fa fa-cogs bigger-110\"></i> &nbsp;\r\n                                    Có dầy đử các tính năng quản trị, lập lịch họp cho nhiều cuộc Hội nghị đồng thời.\r\n                                    Người điều hành hoặc quản trị có thể điều khiển cuộc họp thông qua giao diện điều khiển.                                  \r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"profile-info-row\" style={{ display: 'block' }}>\r\n                                  <div className=\"profile-info-value\" >\r\n                                  <i className=\"ace-icon fa fa-phone bigger-110\"></i> &nbsp;\r\n                                    Thông tin hỗ trợ: Trung tá Ths Nguyễn Khắc Hiếu - SĐT: 0982.252.254\r\n                                  </div>\r\n                                </div>\r\n                                \r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"hr hr-dotted hr-6\"></div>\r\n                         \r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Modal\r\n          open={stateEdit}\r\n          // onClose={handleClose}\r\n          aria-labelledby=\"simple-modal-title\"\r\n          aria-describedby=\"simple-modal-description\"\r\n        >\r\n          <UpdateProfile profile={profile} setStateEdit={setStateEdit} />\r\n        </Modal>\r\n\r\n        {/* </div> */}\r\n        <Footer />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default withRouter(Dashboard);","import React from \"react\";\r\nimport \"./css_chat/UserAvatar.css\";\r\n\r\nconst UserAvatar = ({ user }) => {\r\n  return (\r\n    <>\r\n      <img\r\n        src={user.picture}\r\n        alt={user.name}\r\n        title={user.name}\r\n        className={\"avatar\"}\r\n      ></img>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserAvatar;\r\n","import React, { useState } from \"react\";\r\nimport UserAvatar from \"./UserAvatar\";\r\n\r\nimport \"./css_chat/Users.css\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst UserList = ({ users, audioClick, cameraClick, fullClick, stateAudio }) => {\r\n  // const [stateAudio, setStateAudio] = useState(true)\r\n  const [stateCamera, setStateCamera] = useState(true)\r\n  const [stateRaiseHand, setStateRaiseHand] = useState(true)\r\n  const [stateFull, setStateFull] = useState(true)\r\n  const {jitsiState} = useSelector((state) => state.jitsi);\r\n\r\n  return (\r\n    <li className=\"active open\">\r\n      <a href=\"#\" className=\"dropdown-toggle\">\r\n        <i className=\"menu-icon fa fa-users\" />\r\n        <span className=\"menu-text\"> Thành viên <span className=\"badge badge-primary\">{users.length}</span></span>\r\n\r\n        <b className=\"arrow fa fa-angle-down\" />\r\n      </a>\r\n      <b className=\"arrow\" />\r\n\r\n      { users.length > 0 ? (\r\n        <ul className=\"submenu\">\r\n          <li >\r\n            <ul id=\"tasks\" className=\"item-list ui-sortable\" style={{ marginRight: '2px' }} >\r\n              <div className=\"widget-body\">\r\n                <div className=\"widget-main padding-4 scrollable\" data-size={250}>\r\n                  <div className=\"content\">\r\n                    {users.map((user, index) => (\r\n\r\n                      <li className=\"item-green  ui-sortable-handle\" key={index} style={{marginRight:\"7px\"}}>\r\n                        {/* <UserAvatar user={user}></UserAvatar> fa-microphone-slash */}\r\n                        <label className=\"inline\">\r\n                          <span className=\"lbl\"> {user.name} </span>\r\n                        </label>\r\n                        <div className=\"pull-right action-buttons\">\r\n                        {stateRaiseHand ? (\r\n                          <button className=\"blue\" title=\"Đăng ký phát biểu\">\r\n                            <i className=\"ace-icon fa fa-hand-paper-o  green\" />\r\n                          </button>\r\n                        ):(\"\")}\r\n                          <span className=\"vbar\" />\r\n                          <button className=\"blue\" onClick={() => { audioClick(user.id) }}>\r\n                            {stateAudio ? (<i className=\"ace-icon fa fa-microphone green\" />) : (<i className=\"ace-icon fa fa-microphone-slash red\" />)}\r\n\r\n                          </button>\r\n                          <span className=\"vbar\" />\r\n                          <button className=\"blue\" onClick={() => { cameraClick(user.id, setStateCamera(!stateCamera)) }}>\r\n                            {stateCamera ? (<i className=\"ace-icon fa fa-video-camera green\" />) : (<i className=\"ace-icon fa fa-video-camera red\" />)}\r\n                          </button>\r\n                          <button className=\"blue\" onClick={() => { fullClick(user.id, setStateFull(!stateFull)) }}>\r\n                            {stateFull ? (<i className=\"ace-icon fa fa-video-camera green\" />) : (<i className=\"ace-icon fa fa-video-camera red\" />)}\r\n                          </button>\r\n                          <span className=\"vbar\" />\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n      ) : (\r\n        <ul className=\"submenu\">\r\n          <li >\r\n            <ul id=\"tasks\" className=\"item-list ui-sortable\" style={{ marginRight: '2px' }} >\r\n              <div className=\"widget-body\">\r\n                <div className=\"widget-main padding-4 scrollable\" data-size={250}>\r\n                  <div className=\"content\">\r\n                    <li className=\"item-green  ui-sortable-handle\" >\r\n                      <label className=\"inline\">\r\n                        <span className=\"lbl\" style={{ color: \"while\" }}> Chưa có thành viên! </span>\r\n                      </label>\r\n                    </li>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n      )};\r\n\r\n    </li>\r\n  )\r\n};\r\n\r\nexport default UserList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setJitsiStore, setAudioAll, setAudio, setVideoAll, setFullAll } from \"../jitsi/JitsiActions\"\r\n\r\nimport { useFullScreen } from \"react-browser-hooks\";\r\n\r\nconst ControlList = (props) => {\r\n    const {isAudioMuted, isVideoMuted, isTileView} = props\r\n\r\n    const apiStore = useSelector((state) => state.jitsi);\r\n    const jitsiState = useSelector((state) => state.jitsi);\r\n    const api = apiStore.jitsiStrore;\r\n    const [stateAudio, setStateAudio] = useState(jitsiState.stateAudio)\r\n    const [stateCamera, setStateCamera] = useState(true)\r\n    const [stateShare, setStateShare] = useState(true)\r\n    const [stateChat, setStateChat] = useState(true)\r\n    const [stateCameraMirror, setStateCameraMirror] = useState(true)\r\n    const [stateTileView, setStateTileView] = useState(true)\r\n    const [stateFull, setStateFull] = useState(true)\r\n    const [stateRaiseHand, setStateRaiseHand] = useState(true)\r\n    const [stateFilmStrip, setStateFilmStrip] = useState(true)\r\n\r\n    const [fullDesktop, setFullDesktop] = useState(false)\r\n    const [numberOfParticipants, setNumberOfParticipants] = useState()\r\n    const dispatch = useDispatch();\r\n\r\n    // useEffect(()=>{\r\n    //     // const numberOfParticipants = api.getNumberOfParticipants();\r\n    //     // setNumberOfParticipants(numberOfParticipants)\r\n    //     const infoMy = api.getParticipantsInfo()\r\n    //     console.log(infoMy)\r\n    //     console.log(infoMy[0].participantId)\r\n    // }, [api])\r\n\r\n\r\n    const { toggle, fullScreen } = useFullScreen();\r\n    const handleFullDesktop = () => {\r\n        toggle();\r\n        setFullDesktop(!fullDesktop);\r\n    }\r\n    const audioOneClick = () => {\r\n        api.executeCommand('toggleAudio');\r\n        // api.executeCommand('toggleFilmStrip');//An hien khung anh doc\r\n        // api.executeCommand('setLargeVideoParticipant', 'abcd1234');\r\n        // api.executeCommand('setVideoQuality', 1080);\r\n        // api.executeCommand('muteEveryone');\r\n        // api.dispose();\r\n        // api.executeCommand('avatarUrl', 'https://avatars0.githubusercontent.com/u/3671647');\r\n        // api.executeCommand('sendTones', {\r\n        //     tones: '12345#', // The dial pad touch tones to play. For example, '12345#'.\r\n        //     duration: 200, // Optional. The number of milliseconds each tone should play. The default is 200.\r\n        //     pause: 200 // Optional. The number of milliseconds between each tone. The default is 200.\r\n        // });\r\n        setStateAudio(!stateAudio)\r\n        dispatch(setAudio(!jitsiState.stateAudio))\r\n        console.log(jitsiState.stateAudio)\r\n    }\r\n    const videoOneClick = () => {\r\n        api.executeCommand('toggleVideo');\r\n        setStateCamera(!stateCamera)\r\n    }\r\n    const shareScreenClick = () => {\r\n        api.executeCommand('toggleShareScreen');\r\n        setStateShare(!stateShare)\r\n    }\r\n    const chatClick = () => {\r\n        api.executeCommand('toggleChat');\r\n        setStateChat(!stateChat)\r\n    }\r\n    const cameraMirrorClick = () => {\r\n        api.executeCommand('toggleCameraMirror');\r\n        // room.setLocalParticipantProperty('raised-hand', true)\r\n        setStateCameraMirror(!stateCameraMirror)\r\n    }\r\n    const tileViewClick = () => {\r\n        api.executeCommand('toggleTileView');\r\n        setStateTileView(!stateTileView)\r\n    }\r\n    const filmStripClick = () => {\r\n        api.executeCommand('toggleFilmStrip');\r\n        setStateFilmStrip(!stateFilmStrip)\r\n    }\r\n\r\n\r\n\r\n\r\n    const raiseHandClick = () => {\r\n        // const infoMy = api.getParticipantsInfo()\r\n        // console.log(infoMy)\r\n        // console.log(infoMy[0].participantId)\r\n        // const numberOfParticipants = api.getNumberOfParticipants();\r\n        // console.log(numberOfParticipants)\r\n        // api.addEventListener(\r\n        //     {\r\n        //         id: infoMy[0].participantId,         \r\n        //         handRaised: true // whether hand raised or lowered\r\n        //     }\r\n        //   );\r\n        //   console.log(handleParticipantLeft())\r\n        api.executeCommand('toggleRaiseHand');\r\n        setStateRaiseHand(!stateRaiseHand)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"navbar-buttons navbar-header \" role=\"navigation\" style={{ marginTop: '10px', textAlign: \"center\" }}>\r\n            <div className=\"pull-right action-buttons\">\r\n                <button className=\"blue\" onClick={audioOneClick} title=\"Tắt/Mở Micro\">\r\n                    {/* {jitsiState.stateAudioAll ? (<i className=\"ace-icon fa fa-microphone green bigger-160\" />) : (<i className=\"ace-icon fa fa-microphone-slash red bigger-160\" />)} */}\r\n                    {!isAudioMuted ? (<i className=\"ace-icon fa fa-microphone green bigger-160\" />) : (<i className=\"ace-icon fa fa-microphone-slash red bigger-160\" />)}\r\n                </button>\r\n                <span className=\"vbar\" />\r\n                <button className=\"blue\" onClick={videoOneClick} title=\"Tắt/Mở Camera\">\r\n                    {/* {stateCamera ? (<i className=\"ace-icon fa fa-video-camera green bigger-160\" />) : (<i className=\"ace-icon fa fa-file-movie-o red bigger-160\" />)} */}\r\n                    {!isVideoMuted ? (<i className=\"ace-icon fa fa-video-camera green bigger-160\" />) : (<i className=\"ace-icon fa fa-file-movie-o red bigger-160\" />)}\r\n                </button>\r\n                <button className=\"blue\" onClick={shareScreenClick} title=\"Chia sẻ màn hình\">\r\n                    {stateShare ? (<i className=\"ace-icon fa fa-share-square-o green bigger-160\" />) : (<i className=\"ace-icon fa fa-share-square red bigger-160\" />)}\r\n                </button>\r\n\r\n                <button className=\"blue\" onClick={chatClick} title=\"Trao đổi thông tin\">\r\n                    {stateChat ? (<i className=\"ace-icon fa  fa-comments-o  green bigger-160\" />) : (<i className=\"ace-icon fa fa-comments-o red bigger-160\" />)}\r\n\r\n                </button>\r\n                <button className=\"blue\" onClick={raiseHandClick} title=\"Đăng ký phát biểu\">\r\n                    {stateRaiseHand ? (<i className=\"ace-icon fa fa-hand-paper-o  green bigger-160\" />) : (<i className=\"ace-icon fa fa-hand-rock-o red bigger-160\" />)}\r\n                </button>\r\n                <button className=\"blue\" onClick={tileViewClick} title=\"Thay đổi giao diện hình ảnh\">\r\n                    {!isTileView ? (<i className=\"ace-icon fa fa-th-large green bigger-160\" />) : (<i className=\"ace-icon fa fa-desktop red bigger-160\" />)}\r\n\r\n                </button>\r\n                <button className=\"blue\" onClick={handleFullDesktop} title=\"Phóng to/Thu nhỏ màn hình\">\r\n                    {/* <i className=\"ace-icon fa fa-external-link-square fa fa-film green bigger-160\" /> */}\r\n                    {!fullDesktop ? (<i className=\"ace-icon fa fa-arrows-alt green bigger-160\" />) : (<i className=\"ace-icon fa fa-compress red bigger-160\" />)}\r\n\r\n                </button>\r\n                <button className=\"blue\" onClick={cameraMirrorClick} title=\"Lật hình ảnh Camera\">\r\n                    {stateCameraMirror ? (<i className=\"ace-icon fa fa-exchange  green bigger-160\" />) : (<i className=\"ace-icon fa fa-file-image-o red bigger-160\" />)}\r\n\r\n                </button>\r\n                <button className=\"blue\" onClick={filmStripClick} title=\"Hiển thị/Tắt hiển thị hình ảnh các thành viên\">\r\n                    {stateFilmStrip ? (<i className=\"ace-icon fa fa-film  green bigger-160\" />) : (<i className=\"ace-icon fa fa-film red bigger-160\" />)}\r\n\r\n                </button>\r\n                {(numberOfParticipants) && (\r\n                    <button className=\"blue\" title=\"Hiển thị/Tắt hiển thị hình ảnh các thành viên\">\r\n                        <i className=\"ace-icon fa fa-group green bigger-160\" />\r\n\r\n                        &nbsp;&nbsp; {numberOfParticipants}\r\n                    </button>\r\n                )}\r\n\r\n                <button className=\"blue\" title=\"Kết thúc cuộc họp tất cả\">\r\n                    <i className=\"ace-icon fa fa-power-off  bigger-160 green\"></i>\r\n                </button>\r\n\r\n\r\n            </div>\r\n            {/* <button href=\"/\"><span className=\"badge badge-important\">Trang chủ</span></button>\r\n                  <span className=\"badge badge-important\"><a className=\"dropdown-toggle\" href=\"/\"></a>Trang chủ</span> */}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ControlList;\r\n","import React, { useEffect, useState, useCallback, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter, useHistory, useParams } from \"react-router-dom\";\r\nimport { useFullScreen } from \"react-browser-hooks\";\r\nimport { setJitsiStore } from \"../jitsi/JitsiActions\"\r\n\r\nimport ProgressComponent from '@material-ui/core/CircularProgress';\r\n\r\nimport socketIOClient from \"socket.io-client\";\r\nimport axios from \"axios\";\r\n// import { toastOnError } from \"../../utils/Utils\";\r\nimport UserList from \"../chat/UserList\";\r\nimport ControlList from \"./ControlList\";\r\nimport { logout } from \"../login/LoginActions\";\r\nimport { getMeetRoom } from \"./JitsiActions\"\r\n\r\nconst USER_JOIN_CHAT_EVENT = \"USER_JOIN_CHAT_EVENT\";\r\nconst USER_LEAVE_CHAT_EVENT = \"USER_LEAVE_CHAT_EVENT\";\r\nconst JITSI_AUDIO_ALL = \"JITSI_AUDIO_ALL\";\r\nconst JITSI_AUDIO_ONE = \"JITSI_AUDIO_ONE\";\r\nconst SVR_JITSI_AUDIO_ONE = \"SVR_JITSI_AUDIO_ONE\";\r\nconst JITSI_VIDEO_ALL = \"JITSI_VIDEO_ALL\";\r\nconst JITSI_VIDEO_ONE = \"JITSI_VIDEO_ONE\";\r\nconst SVR_JITSI_VIDEO_ONE = \"SVR_JITSI_VIDEO_ONE\";\r\nconst JITSI_FULL_DESKTOP = \"JITSI_FULL_DESKTOP\";\r\nconst JITSI_FULL_ONE = \"JITSI_FULL_ONE\";\r\nconst SVR_JITSI_FULL_ONE = \"SVR_JITSI_FULL_ONE\";\r\nconst JITSI_SHARESCREEN_ONE = \"JITSI_SHARESCREEN_ONE\";\r\nconst SVR_JITSI_SHARESCREEN_ONE = \"SVR_JITSI_SHARESCREEN_ONE\";\r\n\r\nconst SOCKET_SERVER_URL = \"http://localhost:4000\";\r\n\r\nconst JitsiMeet = () => {\r\n\r\n    const { Id } = useParams();\r\n    const user_auth = useSelector((state) => state.auth);\r\n    const roomMeet = useSelector(state => state.jitsi.meetroom)\r\n    // console.log(roomMeet)\r\n    const { jitsiState } = useSelector((state) => state.jitsi);\r\n    console.log(user_auth)\r\n    console.log(jitsiState.stateAudio)\r\n    const [stateAudioAll, setStateAudioAll] = useState(false);\r\n    const [stateAudio, setStateAudio] = useState(false);\r\n    const [stateVideoAll, setStateVideoAll] = useState(false);\r\n\r\n    const [users, setUsers] = useState([]);\r\n    const [user, setUser] = useState(user_auth.user.last_name + \" \" + user_auth.user.first_name);\r\n    const socketRef = useRef();\r\n    const { toggle, fullScreen } = useFullScreen();\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getMeetRoom(Id));\r\n    }, [])\r\n\r\n    const handleLogout = (event) => {\r\n        event.preventDefault();\r\n        dispatch(logout())\r\n    }\r\n\r\n    const domain = 'meet.jit.si';\r\n    let api = {};\r\n    const [room, setRoom] = useState(\"CNTTQK7\");\r\n    const [isAudioMuted, setIsAudioMuted] = useState(false);\r\n    const [isVideoMuted, setIsVideoMuted] = useState(false);\r\n    const [isTileView, setIsTileView] = useState(false);\r\n    const [dominantSpeaker, setDominantSpeaker] = useState();\r\n    const [displayName2, setDisplayName2] = useState();\r\n    const [participants, setParticipants] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n    const history = useHistory();\r\n\r\n    const jitsiContainerStyle = {\r\n        display: (loading ? 'none' : 'block'),\r\n        width: '100%',\r\n        height: '100%',\r\n    }\r\n\r\n    const startMeet = () => {\r\n        const options = {\r\n            roomName: Id,\r\n            width: '100%',\r\n            height: \"100%\",\r\n            configOverwrite: { prejoinPageEnabled: false },\r\n            interfaceConfigOverwrite: {\r\n                // overwrite interface properties\r\n                filmStripOnly: false,\r\n                SHOW_JITSI_WATERMARK: false,\r\n                SHOW_WATERMARK_FOR_GUESTS: false,\r\n                DISABLE_DOMINANT_SPEAKER_INDICATOR: true,\r\n                TILE_VIEW_MAX_COLUMNS: 2,\r\n                TOOLBAR_BUTTONS: ['microphone', 'camera', 'chat', 'hangup', 'fullscreen', 'tileview', 'desktop', 'sharedvideo'],\r\n                // TOOLBAR_BUTTONS: [\r\n                //     'microphone', 'camera', 'desktop', 'embedmeeting', 'fullscreen', 'fodeviceselection', 'hangup', 'profile', 'chat', 'recording',\r\n                //     'livestreaming', 'etherpad', 'sharedvideo', 'settings', 'raisehand', 'videoquality', 'filmstrip', 'invite', 'feedback', 'stats', 'shortcuts',\r\n                //     'tileview', 'videobackgroundblur', 'download', 'help', 'mute-everyone', 'security'\r\n                // ],\r\n            },\r\n            parentNode: document.querySelector('#jitsi-iframe'),\r\n            userInfo: {\r\n                displayName: user,\r\n            }\r\n        }\r\n        api = new window.JitsiMeetExternalAPI(domain, options);\r\n        api.addEventListener('videoConferenceJoined', () => {\r\n            // console.log('Local User Joined');\r\n            setLoading(false);\r\n        });\r\n        api.addEventListeners({\r\n            readyToClose: handleClose,\r\n            participantLeft: handleParticipantLeft,\r\n            participantJoined: handleParticipantJoined,\r\n            videoConferenceJoined: handleVideoConferenceJoined,\r\n            videoConferenceLeft: handleVideoConferenceLeft,\r\n            audioMuteStatusChanged: handleMuteStatus,\r\n            videoMuteStatusChanged: handleVideoStatus,\r\n            tileViewChanged: handleTileViewStatus,\r\n            // displayNameChange: handleDisplayName,\r\n            dominantSpeakerChanged: handleDominantSpeaker,\r\n        });\r\n        api.executeCommand('subject', roomMeet.Subject);\r\n        api.executeCommand('setLargeVideoParticipant', 'abcd1234');\r\n        api.executeCommand('avatarUrl', 'assets/images/avatars/user.jpg');\r\n        // console(api.getNumberOfParticipants())\r\n\r\n\r\n        dispatch(setJitsiStore(api));\r\n    }\r\n\r\n    const handleClose = () => {\r\n        console.log(\"handleClose\");\r\n    }\r\n    const handleParticipantLeft = async (participant) => {\r\n        console.log(\"handleParticipantLeft\", participant); // { id: \"2baa184e\" }\r\n        const data = await getParticipants();\r\n    }\r\n    const handleParticipantJoined = async (participant) => {\r\n        console.log(\"handleParticipantJoined\", participant); // { id: \"2baa184e\", displayName: \"Shanu Verma\", formattedDisplayName: \"Shanu Verma\" }\r\n        const data = await getParticipants();\r\n        setParticipants(data)\r\n\r\n    }\r\n    console.log(participants)\r\n\r\n    const handleVideoConferenceJoined = async (participant) => {\r\n        console.log(\"handleVideoConferenceJoined\", participant); // { roomName: \"bwb-bfqi-vmh\", id: \"8c35a951\", displayName: \"Akash Verma\", formattedDisplayName: \"Akash Verma (me)\"}\r\n        const data = await getParticipants();\r\n    }\r\n    const handleVideoConferenceLeft = () => {\r\n        // console.log(\"handleVideoConferenceLeft\");\r\n        return history.push('/');\r\n    }\r\n\r\n    const handleMuteStatus = (muted) => {\r\n        // console.log(\"handleMuteStatus\", muted); // { muted: true } \r\n        // console.log(muted); // { muted: true } \r\n        setIsAudioMuted(muted.muted)\r\n    }\r\n    console.log(isAudioMuted)\r\n\r\n    const handleVideoStatus = (video) => {\r\n        // console.log(\"handleVideoStatus\", video); // { muted: true }\r\n        setIsVideoMuted(video.muted)\r\n    }\r\n    console.log(isVideoMuted)\r\n\r\n    const handleTileViewStatus = (tileview) => {\r\n        console.log(\"handleTileViewStatus\", tileview); // { muted: true }\r\n        setIsTileView(tileview.enabled)\r\n    }\r\n    // console.log(isTileView)\r\n\r\n    // const handleDisplayName = ({id, displayname}) => {\r\n    //     console.log(\"handleDisplayName\", {id, displayname}); \r\n    //     setDisplayName2({id, displayname})\r\n    // }\r\n    const handleDominantSpeaker = (speaker) => {\r\n        console.log(\"handleDominantSpeaker\", speaker);\r\n        setDominantSpeaker(speaker.id)\r\n        const dispName = api.getDisplayName(speaker.id)\r\n        setDisplayName2(dispName)\r\n        console.log(dispName)\r\n\r\n    }\r\n    // console.log(dominantSpeaker)\r\n    // console.log(displayName2)\r\n\r\n    const getParticipants = () => {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                resolve(api.getParticipantsInfo()); // get all participants\r\n            }, 500)\r\n        });\r\n    }\r\n\r\n    // custom events\r\n\r\n    const executeCommand = (e) => {\r\n        e.preventDefault();\r\n        api.executeCommand('muteEveryone');\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (window.JitsiMeetExternalAPI) {\r\n            startMeet();\r\n        } else {\r\n            alert('JitsiMeetExternalAPI not loaded');\r\n        }\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchUsers = async () => {\r\n            const response = await axios.get(\r\n                `${SOCKET_SERVER_URL}/rooms/${Id}/users`\r\n            );\r\n            const result = response.data.users;\r\n            setUsers(result);\r\n        };\r\n\r\n        fetchUsers();\r\n    }, [Id]);\r\n\r\n    useEffect(() => {\r\n        if (!user) {\r\n            return;\r\n        }\r\n        socketRef.current = socketIOClient(SOCKET_SERVER_URL, {\r\n            query: { Id, name: user, picture: \"user.picture\" },\r\n        });\r\n\r\n        socketRef.current.on(\"connect\", () => {\r\n            console.log(socketRef.current.id);\r\n        });\r\n\r\n        socketRef.current.on(USER_JOIN_CHAT_EVENT, (user) => {\r\n            if (user.id === socketRef.current.id) return;\r\n            setUsers((users) => [...users, user]);\r\n        });\r\n\r\n        socketRef.current.on(USER_LEAVE_CHAT_EVENT, (user) => {\r\n            setUsers((users) => users.filter((u) => u.id !== user.id));\r\n        });\r\n\r\n        socketRef.current.on(JITSI_FULL_DESKTOP, (data) => {\r\n            // dispatch(setFullAll(data.fullScreen));\r\n            // api.executeCommand('toggleTileView');\r\n        });\r\n\r\n        socketRef.current.on(SVR_JITSI_FULL_ONE, (data) => {\r\n            // dispatch(setFullAll(data.fullScreen));\r\n            console.log(data)\r\n            // toggle()\r\n        });\r\n\r\n        socketRef.current.on(SVR_JITSI_SHARESCREEN_ONE, (data) => {\r\n            api.executeCommand('toggleShareScreen');\r\n        });\r\n\r\n        socketRef.current.on(JITSI_AUDIO_ALL, (data) => {\r\n            api.executeCommand('muteEveryone');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_AUDIO_ONE, (data) => {\r\n            console.log(data)\r\n            api.executeCommand('toggleAudio');\r\n            setStateAudio(data.stateAudio)\r\n        });\r\n\r\n        socketRef.current.on(JITSI_VIDEO_ALL, (data) => {\r\n            api.executeCommand('toggleVideo')\r\n        });\r\n        socketRef.current.on(SVR_JITSI_VIDEO_ONE, (data) => {\r\n            api.executeCommand('toggleVideo');\r\n        });\r\n\r\n        return () => {\r\n            socketRef.current.disconnect();\r\n        };\r\n    }, [Id, user]);\r\n\r\n    // const handleAudioJitsi = (event) => {\r\n    //     event.preventDefault();\r\n    //     // setAudioAllJitsi(!audioAllJitsi)\r\n    //     if (!socketRef.current) return;\r\n    //     socketRef.current.emit(JITSI_AUDIO_ALL, {\r\n    //         senderId: socketRef.current.id,\r\n    //     });\r\n\r\n    // }\r\n\r\n    // const handleVideoJitsi = (event) => {\r\n    //     event.preventDefault();\r\n    //     if (!socketRef.current) return;\r\n    //     socketRef.current.emit(JITSI_VIDEO_ALL, {\r\n    //         senderId: socketRef.current.id,\r\n    //     });\r\n    // }\r\n\r\n    // const handleFullDesktop = (event) => {\r\n    //     // event.preventDefault();\r\n    //     // toggle()\r\n    //     if (!socketRef.current) return;\r\n    //     socketRef.current.emit(JITSI_FULL_DESKTOP, {\r\n    //         senderId: socketRef.current.id,\r\n    //     });\r\n    // };\r\n\r\n    const handleShareScreenJitsi = (event) => {\r\n        // event.preventDefault();\r\n        // toggle()\r\n        if (!socketRef.current) return;\r\n        socketRef.current.emit(JITSI_SHARESCREEN_ONE, {\r\n            senderId: socketRef.current.id,\r\n        });\r\n    };\r\n\r\n\r\n    const audioClick = (id) => {\r\n        if (audioClick) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_AUDIO_ONE, {\r\n                id,\r\n                stateAudio: !stateAudio,\r\n                // senderId: socketRef.current.id,\r\n            });\r\n            console.log(stateAudio)\r\n        }\r\n    }\r\n\r\n    const cameraClick = (id) => {\r\n        if (cameraClick) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_VIDEO_ONE, {\r\n                id,\r\n            })\r\n        }\r\n    }\r\n\r\n    const fullClick2 = (id) => {\r\n        if (fullClick2) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_FULL_ONE, {\r\n                id,\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n            {/* <div id=\"sidebar\" className=\"sidebar responsive  ace-save-state sidebar-fixed sidebar-scroll\" style={{ marginLeft: \"0px\", width: \"16%\", height: \"100%\", borderLeft: \"solid 1px\", borderLeftColor: \"#2E6589\" }}> */}\r\n            {user_auth.user.is_staff &&\r\n                <div id=\"sidebar\" className=\"sidebar                  responsive                    ace-save-state sidebar-fixed sidebar-scroll\" data-sidebar=\"true\" data-sidebar-scroll=\"true\" data-sidebar-hover=\"true\">\r\n                    {/* /.sidebar-shortcuts */}\r\n                    <div className=\"nav-wrap-up pos-rel\">\r\n                        <div className=\"nav-wrap\" style={{ maxHeight: \"100%\" }}>\r\n                            <ul className=\"nav ace-nav\" >\r\n                                <li className=\"light-blue dropdown-modal\" style={{ width: \"100%\" }}>\r\n                                    <a data-toggle=\"dropdown\" href=\"#\" className=\"dropdown-toggle\" style={{ marginLeft: \"-7px\" }}>\r\n                                        <img className=\"nav-user-photo\" src=\"assets/images/avatars/user.jpg\" alt=\"Jason's Photo\" />\r\n                                        <span className=\"user-info\"><small>Chào,</small>{user_auth.user.last_name} {user_auth.user.first_name}</span>\r\n                                        <i className=\"ace-icon fa fa-caret-down\" />\r\n                                    </a>\r\n                                    <ul className=\"user-menu dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret dropdown-close\">\r\n                                        <li>\r\n                                            <a href=\"/dashboard\"><i className=\"ace-icon fa fa-cog\" />Về trang chủ </a>\r\n                                        </li>\r\n                                        <li className=\"divider\" />\r\n                                        {/* <li onClick={this.onLogout}> */}\r\n                                        <li onClick={handleLogout}>\r\n                                            <a><i className=\"ace-icon fa fa-power-off\" />Đăng xuất</a>\r\n                                        </li>\r\n                                    </ul>\r\n                                </li>\r\n                            </ul>\r\n                            <div style={{ position: 'relative', top: '0px', transitionProperty: 'top', transitionDuration: '0.15s' }}><div className=\"sidebar-shortcuts\" id=\"sidebar-shortcuts\">\r\n                                <div className=\"sidebar-shortcuts-large\" id=\"sidebar-shortcuts-large\">\r\n                                    <span className=\"menu-text\">Điều khiển hệ thống </span>\r\n                                    <ControlList isAudioMuted={isAudioMuted} isVideoMuted={isVideoMuted} isTileView={isTileView} />\r\n                                </div>\r\n                                <div className=\"sidebar-shortcuts-mini\" id=\"sidebar-shortcuts-mini\">\r\n                                    <ControlList isAudioMuted={isAudioMuted} isVideoMuted={isVideoMuted} isTileView={isTileView} />\r\n                                </div>\r\n                            </div>\r\n\r\n                                <br />\r\n                                <ul className=\"nav nav-list\">\r\n                                    <UserList users={users} audioClick={audioClick} cameraClick={cameraClick} fullClick={fullClick2} stateAudio={stateAudio}></UserList>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"ace-scroll nav-scroll\">\r\n                            <div className=\"scroll-track scroll-active\" style={{ display: 'block', height: 252 }}>\r\n                                <div className=\"scroll-bar\" style={{ height: 159, top: 60, transitionProperty: 'top', transitionDuration: '0.1s' }} />\r\n                            </div>\r\n                            <div className=\"scroll-content\" style={{ maxHeight: 252 }}><div style={{ height: 400, width: 8 }} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"sidebar-toggle sidebar-collapse\" id=\"sidebar-collapse\">\r\n                        <i id=\"sidebar-toggle-icon\" className=\"ace-icon fa fa-angle-double-left ace-save-state\" data-icon1=\"ace-icon fa fa-angle-double-left\" data-icon2=\"ace-icon fa fa-angle-double-right\" />\r\n                    </div>\r\n                </div>\r\n            }\r\n            {roomMeet &&\r\n                <div className=\"main-content\">\r\n                    <div className=\"main-content-inner\" >\r\n                        {/* { (user_auth.user.rules == \"1\" || user_auth.user.rules == \"0\") && ( */}\r\n                        <div style={{ display: 'flex', height: '100vh', marginRight: '0px', overflow: 'scroll initial' }} >\r\n                            {loading && <ProgressComponent style={{ marginLeft: '45%', marginTop: '25%', width: \"100px\", height: \"100px\" }} />}\r\n                            <div style={{ position: 'fixed', marginLeft: '45%', marginTop: '3%', fontSize: \"18px\", color: \"blue\", fontWeight: \"bold\", backgroundColor: \"white\" }}>{displayName2}</div>\r\n                            <div id=\"jitsi-iframe\" style={jitsiContainerStyle} >\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div >\r\n\r\n    );\r\n};\r\n\r\nexport default withRouter(JitsiMeet);\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter, useHistory, useParams } from \"react-router-dom\";\r\nimport Select from \"react-select\";\r\nimport ProgressComponent from '@material-ui/core/CircularProgress';\r\nimport { getMeetRoom } from \"./JitsiActions\"\r\nimport Header from \"../common/Header\";\r\nimport Menubar from \"../common/Menubar\";\r\nimport Footer from \"../common/Footer\";\r\nimport { getUsers, getProfiles, getProfile} from '../users/UserActions';\r\nimport RecentActorsIcon from '@material-ui/icons/RecentActors';\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport AppsIcon from '@material-ui/icons/Apps';\r\nimport CropOriginalIcon from '@material-ui/icons/CropOriginal';\r\nimport socketIOClient from \"socket.io-client\";\r\nimport moment from 'moment';\r\nimport Clock from 'react-clock';\r\nimport 'react-clock/dist/Clock.css';\r\nconst USER_JOIN_CHAT_EVENT = \"USER_JOIN_CHAT_EVENT\";\r\nconst USER_LEAVE_CHAT_EVENT = \"USER_LEAVE_CHAT_EVENT\";\r\nconst JITSI_AUDIO_ONE = \"JITSI_AUDIO_ONE\";\r\nconst SVR_JITSI_AUDIO_ONE = \"SVR_JITSI_AUDIO_ONE\";\r\nconst JITSI_AUDIO_ALL = \"JITSI_AUDIO_ALL\";\r\nconst SVR_JITSI_AUDIO_ALL = \"SVR_JITSI_AUDIO_ALL\";\r\nconst JITSI_VIDEO_ONE = \"JITSI_VIDEO_ONE\";\r\nconst SVR_JITSI_VIDEO_ONE = \"SVR_JITSI_VIDEO_ONE\";\r\nconst JITSI_VIDEO_ALL = \"JITSI_VIDEO_ALL\";\r\nconst SVR_JITSI_VIDEO_ALL = \"SVR_JITSI_VIDEO_ALL\";\r\nconst JITSI_FILMSTRIP = \"JITSI_FILMSTRIP\";\r\nconst SVR_JITSI_FILMSTRIP = \"SVR_JITSI_FILMSTRIP\";\r\nconst JITSI_TOGGLE_VIEW = \"JITSI_TOGGLE_VIEW\";\r\nconst SVR_JITSI_TOGGLE_VIEW = \"SVR_JITSI_TOGGLE_VIEW\";\r\nconst JITSI_TOGGLE_DESKTOP = \"JITSI_TOGGLE_DESKTOP\";\r\nconst SVR_JITSI_TOGGLE_DESKTOP = \"SVR_JITSI_TOGGLE_DESKTOP\";\r\nconst SVR_JITSI_HANGUP = \"SVR_JITSI_HANGUP\";\r\nconst JITSI_HANGUP = \"JITSI_HANGUP\";\r\nconst SVR_JITSI_HANGUP_ALL = \"SVR_JITSI_HANGUP_ALL\";\r\nconst JITSI_HANGUP_ALL = \"JITSI_HANGUP_ALL\";\r\nconst JITSI_STOP_SHARE = \"JITSI_STOP_SHARE\";\r\nconst SVR_JITSI_STOP_SHARE = \"SVR_JITSI_STOP_SHARE\";\r\nconst JITSI_TILE_VIEW = \"JITSI_TILE_VIEW\";\r\nconst SVR_JITSI_TILE_VIEW = \"SVR_JITSI_TILE_VIEW\";\r\n\r\n\r\nconst SOCKET_SERVER_URL = \"http://localhost:4000\";\r\n\r\nconst JitsiMeetAdmin = () => {\r\n    const { roomId } = useParams();\r\n    const user_auth = useSelector((state) => state.auth.user);\r\n    // const profile = useSelector((state) => state.auth.profileUser);\r\n    const roomMeet = useSelector(state => state.jitsi.meetroom)\r\n    const dataUser = useSelector(state => state.users.data);\r\n    const profiles = useSelector(state => state.profiles.data);\r\n    // const profile = useSelector(state => state.profile.data);\r\n    const profile = useSelector((state) => state.auth.profile);\r\n    // console.log(profile)\r\n    const fullname = profile.last_name\r\n    const [users, setUsers] = useState([]);\r\n    const socketRef = useRef();\r\n\r\n    const dispatch = useDispatch();\r\n    \r\n    useEffect(() => {\r\n        dispatch(getUsers())\r\n        // dispatch(getProfile(user_auth.id))\r\n        dispatch(getProfiles())\r\n        dispatch(getMeetRoom(roomId));\r\n    }, [])\r\n\r\n    const [value, setValue] = useState(new Date());\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(\r\n            () => setValue(new Date()),\r\n            1000\r\n        );\r\n        return () => {\r\n            clearInterval(interval);\r\n        }\r\n    }, []);\r\n\r\n    const domain = 'meet.jit.si';\r\n    let api = {};\r\n    const [_api, setApi] = useState();\r\n    const [room, setRoom] = useState(\"CNTTQK7\");\r\n\r\n    const [isAudioMuted, setIsAudioMuted] = useState();\r\n    const [isAudioMutedAll, setIsAudioMutedAll] = useState(false);\r\n    const [isVideoMuted, setIsVideoMuted] = useState();\r\n    const [isTileView, setIsTileView] = useState(false);\r\n    const [isTileViews, setIsTileViews] = useState([]);\r\n    const [isFilmstrip, setIsFilmstrip] = useState(false);\r\n    const [isFullDestop, setIsFullDestop] = useState(false);\r\n    const [dominantSpeaker, setDominantSpeaker] = useState();\r\n    // const [meId, setMeId] = useState();\r\n\r\n    const [jitsiUser, setJitsiUser] = useState();\r\n\r\n    // const [raiseHand, setRaiseHand] = useState();\r\n    const [raiseHandNew, setRaiseHandNew] = useState([]);\r\n    const [sharingParticipants, setSharingParticipants] = useState([]);\r\n    // const [endpointTextMessageReceived, setEndpointTextMessageReceived] = useState();\r\n\r\n    const [numberOfParticipants, setNumberOfParticipants] = useState();\r\n    // const [incomingMessage, setIncomingMessage] = useState();\r\n    const incomingMessages = ['microphone', 'camera', 'chat', 'hangup', 'fullscreen', 'tileview'];\r\n    // const [outgoingMessage, setOutgoingMessage] = useState();\r\n\r\n    // const [displayName2, setDisplayName2] = useState();\r\n    // const [displayName3, setDisplayName3] = useState();\r\n    const [participants, setParticipants] = useState([]);\r\n    const [idLeave, setIdLeave] = useState();\r\n    const [availableDevices, setAvailableDevices] = useState([]);\r\n    // const [stateAudioAll, setStateAudioAll] = useState(false);\r\n    // const [audio_Input, setAudio_Input] = useState();\r\n    // const [audio_Output, setAudio_Output] = useState();\r\n    const [video_Input, setVideo_Input] = useState();\r\n    // const [webcamId, setWebcamId] = useState(\"\");\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const history = useHistory();\r\n\r\n    const jitsiContainerStyle = {\r\n        display: (loading ? 'none' : 'block'),\r\n        width: '100%',\r\n        height: '100%',\r\n    }\r\n\r\n    const startMeet = () => {\r\n        const options = {\r\n            roomName: 'cnttqk7',\r\n            // password:password,\r\n            width: '100%',\r\n            height: \"100%\",\r\n            configOverwrite: {\r\n                localRecording: {\r\n                    enabled: true,\r\n                },\r\n                fileRecordingsServiceEnabled: true,\r\n                fileRecordingsEnabled: true,\r\n                prejoinPageEnabled: false,\r\n            },\r\n            interfaceConfigOverwrite: {\r\n                filmStripOnly: false,\r\n                SHOW_JITSI_WATERMARK: false,\r\n                SHOW_WATERMARK_FOR_GUESTS: false,\r\n                DISABLE_DOMINANT_SPEAKER_INDICATOR: true,\r\n                TILE_VIEW_MAX_COLUMNS: 4,\r\n                TOOLBAR_BUTTONS: ['microphone', 'camera', 'chat', 'hangup', 'desktop', 'tileview', 'fullscreen'],\r\n            },\r\n            parentNode: document.querySelector('#jitsi-iframe'),\r\n            userInfo: { displayName: fullname, }\r\n        }\r\n        api = new window.JitsiMeetExternalAPI(domain, options);\r\n        setApi(api)\r\n        api.addEventListener('videoConferenceJoined', (object) => {\r\n            // setMeId(object.id)\r\n            setLoading(false);\r\n        });\r\n        api.addEventListeners({\r\n            readyToClose: handleClose,\r\n            participantLeft: handleParticipantLeft,\r\n            participantJoined: handleParticipantJoined,\r\n            videoConferenceJoined: handleVideoConferenceJoined,\r\n            videoConferenceLeft: handleVideoConferenceLeft,\r\n            audioMuteStatusChanged: handleMuteStatus,\r\n            videoMuteStatusChanged: handleVideoStatus,\r\n            tileViewChanged: handleTileViewStatus,\r\n            filmstripDisplayChanged: handleFilmstripDisplayChanged,\r\n            dominantSpeakerChanged: handleDominantSpeaker,\r\n            // avatarChanged: handleAvatarChanged,\r\n            raiseHandUpdated: handleRaiseHandUpdated,\r\n            // endpointTextMessageReceived: handleEndpointTextMessageReceived,\r\n            // incomingMessage: incomingMessageListener,\r\n            // outgoingMessage: outgoingMessageListener,\r\n            contentSharingParticipantsChanged: handleContentSharingParticipantsChanged,\r\n        });\r\n        api.executeCommand('subject', roomMeet.Subject);\r\n        api.executeCommand('toggleTileView')\r\n        // api.executeCommand('avatarUrl', 'assets/images/avatars/user.jpg');\r\n        // api.getCurrentDevices().then(devices => {\r\n        //     setCurrentDevices(devices)\r\n        // });\r\n        api.getAvailableDevices().then(devices => {\r\n            setAvailableDevices(devices)\r\n        });\r\n    }\r\n\r\n    const handleClose = () => {\r\n        console.log(\"handleClose\");\r\n    }\r\n    const handleParticipantLeft = async (participant) => {\r\n        // console.log(\"handleParticipantLeft\", participant); // { id: \"2baa184e\" }\r\n        setIdLeave(participant)\r\n    }\r\n    // console.log(_api)\r\n    const handleParticipantJoined = async (participant) => {\r\n        // console.log(\"handleParticipantJoined\", participant); // { id: \"2baa184e\", displayName: \"Shanu Verma\", formattedDisplayName: \"Shanu Verma\" }\r\n        // setMe_Id(participant)\r\n        console.log(participant)\r\n        const data = await getParticipants();\r\n        setParticipants(data)\r\n        const data2 = await getNumberOf();\r\n        setNumberOfParticipants(data2)\r\n    }\r\n    const handleVideoConferenceJoined = async (participant) => {\r\n        // console.log(\"handleVideoConferenceJoined\", participant); // { roomName: \"bwb-bfqi-vmh\", id: \"8c35a951\", displayName: \"Akash Verma\", formattedDisplayName: \"Akash Verma (me)\"}\r\n        // const data = await getParticipants();\r\n        setJitsiUser(participant)\r\n    }\r\n    // console.log(jitsiUser?.id)\r\n    const handleVideoConferenceLeft = () => {\r\n        // console.log(\"handleVideoConferenceLeft\");\r\n        return history.push('/');\r\n    }\r\n    const handleMuteStatus = (muted) => {\r\n        // console.log(\"handleMuteStatus\", muted); // { muted: true } \r\n        setIsAudioMuted(muted)\r\n    }\r\n    // console.log(isAudioMuted)\r\n    const handleVideoStatus = (video) => {\r\n        // console.log(\"handleVideoStatus\", video); // { muted: true }\r\n        setIsVideoMuted(video)\r\n    }\r\n    // console.log(isVideoMuted)\r\n    const handleTileViewStatus = (tileview) => {\r\n        // console.log(\"handleTileViewStatus\", tileview); // { enabled: true }\r\n        setIsTileView(tileview.enabled)\r\n    }\r\n    const handleFilmstripDisplayChanged = (filmstrip) => {\r\n        // console.log(\"handleTileViewStatus\", filmstrip); // { muted: true }\r\n        setIsFilmstrip(filmstrip.visible)\r\n    }\r\n    //Tao nut lenh dieu khien chung\r\n    const handleMuteAudioAll = () => {\r\n        _api.executeCommand('muteEveryone');\r\n        setIsAudioMutedAll(!isAudioMutedAll)\r\n    }\r\n    // Tao nut lenh dieu khien cuc bo\r\n    const handleToggleCameraMirror = () => {\r\n        _api.executeCommand('toggleCameraMirror');\r\n    }\r\n    //Các lenh chua duoc\r\n    // const handleSetVideoQuality = () => {\r\n    //     _api.executeCommand('setVideoQuality', 720);//Chua duoc\r\n    // }\r\n    // const handleSendTones = () => {//Khong duoc\r\n    //     _api.executeCommand('sendTones', {\r\n    //         tones: '12345#',\r\n    //         duration: 200,\r\n    //         pause: 200\r\n    //     });\r\n    // }\r\n    // const handlesStartShareVideo = () => {\r\n    //     _api.executeCommand('startShareVideo', \"assets/vdeos/videoqk7.mp4\");//Chua duoc\r\n    // }\r\n    // const handlesStopShareVideo = () => {\r\n    //     _api.executeCommand('stopShareVideo');//Chua duoc\r\n    // }\r\n    // Nhan thong bao\r\n    // function incomingMessageListener(object) {\r\n    //     incomingMessages.push(object)\r\n    //     setIncomingMessage(incomingMessages)\r\n    // }\r\n    // useEffect(() => {\r\n    //     incomingMessages.push(incomingMessage)\r\n    // }, [incomingMessage])\r\n    // function outgoingMessageListener(object) {\r\n    //     setOutgoingMessage(object)\r\n    // }\r\n    // console.log(incomingMessage)\r\n    // console.log(availableDevices)\r\n    //Gui thong bao chua duoc\r\n    // const handleEndpointTextMessageReceived = (message) => {\r\n    //     console.log(\"handleEndpointTextMessageReceived\", message); //Chua duoc\r\n    //     setEndpointTextMessageReceived(message)\r\n    // }\r\n    const handleContentSharingParticipantsChanged = (data) => {\r\n        console.log(\"handleContentSharingParticipantsChanged\", data);\r\n        setSharingParticipants(data.data)\r\n    }\r\n    // console.log(sharingParticipants)\r\n\r\n    // console.log(endpointTextMessageReceived)\r\n    // const handleSendChatMessage = () => {\r\n    //     // _api.executeCommand('sendEndpointTextMessage', '99eafe21', 'text'); //Khong duoc\r\n    //     _api.executeCommand('sendChatMessage',\r\n    //         {\r\n    //             message: 'Hieu gui sao khong dc',\r\n    //             to: '89e539fa',\r\n    //             ignorePrivacy: false\r\n    //         });\r\n    // }\r\n\r\n    // const handleRemoveEventListeners = () => {\r\n    //     _api.removeEventListeners('incomingMessage');//chua duoc\r\n    // }\r\n    // const handleToggleCamera = () => {\r\n    //     _api.executeCommand('toggleCamera');//chua duoc\r\n    // }\r\n    const handleToggleVirtualBackgroundDialog = () => {\r\n        _api.executeCommand('toggleVirtualBackgroundDialog');//chua duoc\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (window.JitsiMeetExternalAPI && Object.entries(profile).length !== 0) {\r\n            startMeet();\r\n        } \r\n        // else {\r\n        //     alert('JitsiMeetExternalAPI not loaded');\r\n        // }\r\n    }, [profile])\r\n\r\n    //Nhan va tao bang Thanh vien join\r\n    const handleDominantSpeaker = (speaker) => {\r\n        console.log(\"DominantSpeaker\", speaker);\r\n        setDominantSpeaker(speaker.id)\r\n        // const dispName = api.getDisplayName(speaker.id)\r\n        // setDisplayName2(dispName)\r\n    }\r\n    // const handleAvatarChanged = (aV) => {\r\n        // console.log(\"handleAvatarChanged\", aV);\r\n        // console.log(aV.id);\r\n        // const dispName = api.getDisplayName(aV.id)\r\n        // setDisplayName3(dispName)\r\n    // }\r\n    const handleRaiseHandUpdated = (raise) => {\r\n        // setRaiseHand(raise)\r\n        const index = raiseHandNew.findIndex((rH) => rH.id === raise.id)\r\n        if (index !== -1) {\r\n            const rHCopy = [...raiseHandNew]\r\n            rHCopy[index].handRaised\r\n                ? rHCopy[index].handRaised = false\r\n                : rHCopy[index].handRaised = true\r\n            setRaiseHandNew([...raiseHandNew, rHCopy])\r\n        } else {\r\n            raiseHandNew.push(raise)\r\n            setRaiseHandNew([...raiseHandNew, raiseHandNew])\r\n        }\r\n\r\n    }\r\n    // console.log(raiseHandNew)\r\n    const getParticipants = () => {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                resolve(api.getParticipantsInfo()); // get all participants\r\n            }, 500)\r\n        });\r\n    }\r\n    const getNumberOf = () => {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                resolve(api.getNumberOfParticipants());\r\n            }, 500)\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n    //Nhan va tao select box Audio, Camera\r\n    // const audioInputs = availableDevices.audioInput?.map(au => {\r\n    //     return { \"value\": au.deviceId, \"label\": au.label }\r\n    // })\r\n    // const videoInputs = availableDevices.videoInput?.map(v => {\r\n    //     return { \"value\": v.deviceId, \"label\": v.label }\r\n    // })\r\n    // const audioOutputs = availableDevices.audioOutput?.map(v => {\r\n    //     return { \"value\": v.deviceId, \"label\": v.label }\r\n    // })\r\n    // const handleAudioInput = (audio_Input) => {\r\n    //     setAudio_Input(audio_Input)\r\n    //     _api.setVideoInputDevice(audio_Input.lable, audio_Input.value);\r\n    //     console.log(video_Input)\r\n    // }\r\n    // const handleVideoInput = (video_Input) => {\r\n    //     setVideo_Input(video_Input)\r\n    //     setWebcamId(video_Input.value)\r\n    //     _api.setVideoInputDevice(video_Input.lable, video_Input.value);\r\n    //     // console.log(audio_Input)\r\n    // }\r\n    // const handleAudioOutput = (audio_Output) => {\r\n    //     setAudio_Output(audio_Output)\r\n    //     _api.setVideoInputDevice(audio_Output.lable, audio_Output.value);\r\n    // }\r\n    // const videoConstraints = {\r\n    //     deviceId: webcamId\r\n    // };\r\n\r\n    //Socket IO\r\n    useEffect(() => {\r\n        if (!fullname || !jitsiUser?.id) {\r\n            return;\r\n        }\r\n        // socketRef.current = socketIOClient(SOCKET_SERVER_URL);\r\n        socketRef.current = socketIOClient(SOCKET_SERVER_URL, {\r\n            query: { roomId, userId: user_auth.id, fullname, jitsiUserId: jitsiUser?.id, isAudioMuted: isAudioMuted.muted, isVideoMuted: isVideoMuted.muted, isTileView },\r\n        });\r\n        socketRef.current.on(\"connect\", () => {\r\n            console.log(socketRef.current.id);\r\n        });\r\n        socketRef.current.on(USER_JOIN_CHAT_EVENT, (users) => {\r\n            // if (user.socketId === socketRef.current.id) return;\r\n            setUsers(users);\r\n        });\r\n        socketRef.current.on(USER_LEAVE_CHAT_EVENT, (user) => {\r\n            setUsers((users) => users.filter((u) => u.userId !== user_auth.id));\r\n        });\r\n        socketRef.current.on(SVR_JITSI_AUDIO_ONE, (id) => {\r\n            // const index = participants.findIndex(p=>p.participantId===id)\r\n            // if(index !==-1) \r\n            _api.executeCommand('toggleAudio');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_STOP_SHARE, (id) => {\r\n            _api.executeCommand('toggleShareScreen');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_TILE_VIEW, (id) => {\r\n            _api.executeCommand('toggleTileView');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_AUDIO_ALL, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleAudio');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_VIDEO_ONE, (id) => {\r\n            // console.log(id)\r\n            _api.executeCommand('toggleVideo');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_VIDEO_ALL, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleVideo');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_FILMSTRIP, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleFilmStrip');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_TOGGLE_VIEW, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleTileView');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_HANGUP_ALL, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('hangup');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_HANGUP, (data) => {\r\n            _api.executeCommand('hangup');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_TOGGLE_DESKTOP, (data) => {\r\n            if (data.isFullDestop) {\r\n                _api.executeCommand('setLargeVideoParticipant', data.id);\r\n            } else {\r\n                _api.executeCommand('setLargeVideoParticipant');\r\n            }\r\n\r\n        });\r\n        return () => {\r\n            socketRef.current.disconnect();\r\n        };\r\n    }, [roomId, jitsiUser, isAudioMuted, isVideoMuted, isTileView]);\r\n\r\n    const audioClick = (id) => {\r\n        // console.log(users)\r\n        // console.log(id)\r\n        if (audioClick) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_AUDIO_ONE,\r\n                // idSocket: socketRef.current.id,\r\n                id\r\n            );\r\n        }\r\n    }\r\n    const videoClick = (id) => {\r\n        if (videoClick) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_VIDEO_ONE,\r\n                id\r\n            );\r\n        }\r\n    }\r\n    const stopShareVideoClick = (id) => {\r\n        if (stopShareVideoClick) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_STOP_SHARE,\r\n                id\r\n            );\r\n        }\r\n    }\r\n    const tileViewClick = (id) => {\r\n        if (tileViewClick) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_TILE_VIEW,\r\n                id\r\n            );\r\n        }\r\n    }\r\n    const handleMuteEveryoneCamera = () => {\r\n        if (handleMuteEveryoneCamera) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_VIDEO_ALL,\r\n                roomId\r\n            );\r\n        }\r\n    }\r\n    const handleMuteEveryone = () => {\r\n        if (handleMuteEveryone) {\r\n            if (!socketRef.current) return;\r\n            socketRef.current.emit(JITSI_AUDIO_ALL,\r\n                roomId\r\n            );\r\n        }\r\n    }\r\n    const handleToggleFilmStrip = () => {\r\n        if (!socketRef.current) return;\r\n        socketRef.current.emit(JITSI_FILMSTRIP,\r\n            roomId\r\n        );\r\n    }\r\n    const handleToggleTileView = () => {\r\n        if (!socketRef.current) return;\r\n        socketRef.current.emit(JITSI_TOGGLE_VIEW,\r\n            roomId\r\n        );\r\n    }\r\n    // const handleToggleDesktopClick = (id) => {\r\n    //     if (!socketRef.current) return;\r\n    //     if(handleToggleDesktopClick){\r\n    //         socketRef.current.emit(JITSI_TOGGLE_DESKTOP,\r\n    //             id\r\n    //         );\r\n    //     }\r\n    //     // setIsFullDestop()\r\n    // }\r\n    const handleLargeVideoParticipant = (id) => {\r\n        if (!socketRef.current) return;\r\n        setIsFullDestop(!isFullDestop)\r\n        socketRef.current.emit(JITSI_TOGGLE_DESKTOP,\r\n            { id, roomId, isFullDestop }\r\n        );\r\n    }\r\n    // console.log(isFullDestop)\r\n    const handleHangupAll = () => {\r\n        if (!socketRef.current) return;\r\n        socketRef.current.emit(JITSI_HANGUP_ALL,\r\n            roomId\r\n        );\r\n    }\r\n    const handleHangup = (id) => {\r\n        if (!socketRef.current) return;\r\n        socketRef.current.emit(JITSI_HANGUP,\r\n            id\r\n        );\r\n    }\r\n    const participantView = participants.map((p, index) => {\r\n        if (p.participantId !== idLeave?.id)\r\n            return (\r\n                <tr key={index}>\r\n                    {/* <td>{index + 1}</td> */}\r\n                    <td style={{ color: \"green\", fontWeight: \"bold\" }}>{p.displayName}</td>\r\n                    {/* <td>{p.participantId}</td> */}\r\n                    <td>\r\n                        {raiseHandNew?.find((rH) => rH?.id === p.participantId)?.handRaised ? <i className=\"ace-icon fa fa-hand-paper-o  green bigger-120\" /> : \"\"}\r\n                        &nbsp;{p.participantId === dominantSpeaker ? (<i className=\"ace-icon fa fa-volume-up green bigger-120\" />) : \"\"}\r\n                        &nbsp;{sharingParticipants?.find((sP) => sP === p.participantId) ? <i className=\"ace-icon fa fa-share  green bigger-120\" /> : \" \"}\r\n                    </td>\r\n\r\n                    {/* {raiseHand?.find((rH)=> rH.id === p.participantId)?.handRaised} */}\r\n                    <td>\r\n                        <span className=\"vbar\" />\r\n                        <button className=\"blue\" onClick={() => audioClick(p.participantId)} title=\"Tắt/Mở míc thành viên\">\r\n                            {users?.find((u) => u?.jitsiUserId === p.participantId)?.isAudioMuted !== 'true' ? (<i className=\"ace-icon fa fa-microphone green\" />) : (<i className=\"ace-icon fa fa-microphone-slash red\" />)}\r\n                            {/* {users.find((u)=>u.jitsiUserId===p.participantId)?.userId} */}\r\n                        </button>\r\n                        <span className=\"vbar\" />\r\n                        <button className=\"blue\" onClick={() => videoClick(p.participantId)} title=\"Tắt/Mở Camera thành viên\">\r\n                            {users?.find((u) => u?.jitsiUserId === p.participantId)?.isVideoMuted !== 'true' ? (<i className=\"ace-icon fa fa-video-camera green\" />) : (<i className=\"ace-icon fa fa-video-camera red\" />)}\r\n                        </button>\r\n                        <span className=\"vbar\" />\r\n                        <button className=\"blue\" onClick={() => stopShareVideoClick(p.participantId)} title=\"Tắt/Mở chia sẻ màn hình thành viên\">\r\n                            {sharingParticipants?.find((sP) => sP === p.participantId) ? <i className=\"ace-icon fa fa-share  green \" /> : <i className=\"ace-icon fa fa-share \" />}\r\n                        </button>\r\n                        <span className=\"vbar\" />\r\n                        <button className=\"blue\" onClick={() => tileViewClick(p.participantId)} title=\"Thiết lập kiểu hiển thị thành viên\">\r\n                            {users?.find((u) => u?.jitsiUserId === p.participantId)?.isTileView === 'true' ? (<i className=\"ace-icon fa fa-th green\" />) : (<i className=\"ace-icon fa fa-th red\" />)}\r\n                        </button>\r\n                        <span className=\"vbar\" />\r\n                        {/* <button className=\"blue\" onClick={() => handleLargeVideoParticipant(p.participantId)}>\r\n                            <i className=\"ace-icon fa fa-image red \" />\r\n                        </button> */}\r\n                        <span className=\"vbar\" />\r\n                        <button className=\"blue\" onClick={() => handleHangup(p.participantId)} title=\"Ngắt kết nối thành viên\">\r\n                            <i className=\"ace-icon fa fa-power-off red \" />\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            )\r\n    });\r\n    const ps = participants.map(p => {\r\n        if (p.participantId !== idLeave?.id)\r\n            return p?.displayName\r\n    })\r\n    const rU = roomMeet.User_room\r\n    const List_user_room = dataUser && rU && dataUser.filter(items => rU.includes(items.id))\r\n    const List_user_room_filter = List_user_room && profiles && List_user_room.filter(items => !ps.includes(profiles?.find(p => p.user === items.id)?.last_name)).map((item, index) => {\r\n        return (\r\n            <tr key={index} >\r\n                {/* <td >\r\n                    {index + ps?.length + 1}\r\n                </td> */}\r\n                <td >\r\n                {profiles && profiles.find(p => p.user === item.id)?.last_name ? profiles?.find(p => p.user === item.id)?.last_name : item.username}\r\n                </td>\r\n                <td >\r\n                    <span ></span>\r\n                </td>\r\n                <td >\r\n                    <span ></span>\r\n                </td>\r\n            </tr>\r\n        )\r\n    })\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n                <Menubar />\r\n                <div className=\"main-content\">\r\n                    <div className=\"main-content-inner\" >\r\n                        {roomMeet &&\r\n                            <div className=\"row\">\r\n                                {loading && <><b style={{ marginLeft: '40%', marginTop: '30%', width: \"100px\", height: \"100px\" }}>Đang kết nối vào hệ thống ...</b> <br/><ProgressComponent style={{ marginLeft: '45%', marginTop: '25%', width: \"100px\", height: \"100px\" }} /></>}\r\n\r\n                                {/* { (user_auth.user.rules == \"1\" || user_auth.user.rules == \"0\") && ( */}\r\n                                {/* <div style={{ display: 'flex', height: '100vh', marginRight: '0px', overflow: 'scroll initial' }} > */}\r\n\r\n                                <div className=\"col-xs-12 col-sm-7\"  >\r\n                                    <div className=\"widget-box\" style={{ display: (loading ? 'none' : 'block'), marginRight: '0px' }}>\r\n                                        {/* <div className=\"widget-header\">\r\n                                            <h4 className=\"widget-title\" style={{ textAlign: \"center\" }}>{roomMeet.Subject}</h4>\r\n                                        </div> */}\r\n                                        <div className=\"row\" style={{ display: 'flex', height: '56vh', marginRight: '0px', justifyContent: \"center\" }}>\r\n                                            {/* {displayName2 && dominantSpeaker !== meId && <div style={{ position: 'fixed', marginTop: '47vh', fontSize: \"18px\", fontWeight: \"bold\", backgroundColor: \"gray\", color: \"white\" }}>&nbsp;{displayName2}&nbsp;</div>}\r\n                                            {displayName3 && dominantSpeaker === meId && <div style={{ position: 'fixed', marginTop: '47vh', fontSize: \"18px\", fontWeight: \"bold\", backgroundColor: \"gray\", color: \"white\" }}>&nbsp;{displayName3}&nbsp;</div>} */}\r\n                                            <div id=\"jitsi-iframe\" style={jitsiContainerStyle} ></div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"widget-box\" style={{ display: (loading ? 'none' : 'block'), marginRight: '0px' }}>\r\n                                        <div class=\"widget-header\">\r\n                                            <h5 class=\"widget-title\"><i class=\"ace-icon fa fa-cog\"></i>Thiết lập giao diện hiện thị cho hệ thống</h5>\r\n                                        </div>\r\n                                        <div class=\"widget-body\">\r\n                                            <div className=\"widget-main\" >\r\n                                                <div className=\"row\" style={{ marginLeft: \"-12px\", marginRight: \"-12px\" }} >\r\n                                                    <div className=\"col-xs-12 col-sm-6\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }}>\r\n                                                        <div className=\"profile-user-info profile-user-info-striped\">\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" > Chọn giao diện </div>\r\n                                                                <div className=\"profile-info-value\" style={{ width: \"180px\" }} >\r\n                                                                    <span>\r\n                                                                        <button className=\"pull-center btn-sm btn-white btn-round\" type=\"button\" onClick={handleToggleTileView} title=\"Chọn một hoặc nhiều hình ảnh thành viên\">\r\n                                                                            &nbsp;&nbsp;{isTileView && isTileView ? <CropOriginalIcon style={{ fontSize: 17 }} /> : <AppsIcon style={{ fontSize: 17 }} />}&nbsp;&nbsp;\r\n                                                                        </button>\r\n                                                                        {isTileView === false &&\r\n                                                                            <button className=\"pull-center btn-sm btn-white btn-round\" type=\"button\" onClick={handleToggleFilmStrip} title=\"Tắt/Mở màn hình các thành viên\">\r\n                                                                                &nbsp;&nbsp;{isFilmstrip && isFilmstrip ? <AccountBoxIcon style={{ fontSize: 17 }} /> : <RecentActorsIcon style={{ fontSize: 17 }} />}&nbsp;&nbsp;\r\n                                                                            </button>\r\n                                                                        }\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" >Đảo chiều Camera tại chổ</div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span>\r\n                                                                        <button className=\"btn-sm btn-white btn-round\" type=\"button\" onClick={handleToggleCameraMirror} title=\"Đảo chiều Camera\">\r\n                                                                            &nbsp;&nbsp;<i className=\"ace-icon fa fa-camera-retro green bigger-120\" />&nbsp;\r\n                                                                        </button>\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" >Thiết lập Market</div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span>\r\n                                                                        <button className=\"pull-center btn-sm btn-white btn-round\" type=\"button\" onClick={handleToggleVirtualBackgroundDialog}>\r\n                                                                            &nbsp;&nbsp;<i className=\"ace-icon fa fa-image green bigger-120\" />&nbsp;\r\n\r\n                                                                        </button>\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"col-xs-12 col-sm-6\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }}>\r\n                                                        <div className=\"profile-user-info profile-user-info-striped\">\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" style={{ width: \"210px\" }} >Tắt míc tất cả các thành viên </div>\r\n                                                                <div className=\"profile-info-value\" >\r\n                                                                    <span>\r\n                                                                        {/* {isAudioMutedAll &&\r\n                                                                            <button className=\" btn-sm btn-white btn-round\" type=\"button\" onClick={handleMuteEveryone} title=\"Mở míc tất cả các thành viên\">\r\n                                                                                &nbsp;&nbsp;<i className=\"ace-icon fa fa-microphone green bigger-120\" />&nbsp;&nbsp;\r\n                                                                            </button>\r\n                                                                        } */}\r\n                                                                        {/* { !isAudioMutedAll && */}\r\n                                                                        <button className=\" btn-sm btn-white btn-round\" type=\"button\" onClick={handleMuteAudioAll} title=\"Tắt míc tất cả các thành viên\">\r\n                                                                            &nbsp;&nbsp;<i className=\"ace-icon fa fa-microphone-slash red bigger-120\" />&nbsp;&nbsp;\r\n                                                                        </button>\r\n                                                                        {/* } */}\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" >Tắt Camera tất cả các thành viên </div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span>\r\n                                                                        <button className=\" btn-sm btn-white btn-round\" type=\"button\" onClick={handleMuteEveryoneCamera} title=\"Tắt Camera tất cả các thành viên\">\r\n                                                                            &nbsp;&nbsp;<i className=\"ace-icon fa fa-video-camera red bigger-120\" />&nbsp;\r\n                                                                        </button>\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            {/* <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" >Phóng to/Thu nhỏ màn hình</div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span>\r\n                                                                        <button className=\"pull-center btn-sm btn-white btn-round\" type=\"button\" onClick={handleToggleDesktop} title=\"Phóng to/thu nhỏ màn hình\">\r\n                                                                            &nbsp;&nbsp;{!fs.fullScreen ? (<i className=\"ace-icon fa fa-arrows-alt green bigger-120\" />) : <i className=\"ace-icon fa fa-compress red bigger-120\" />}&nbsp;&nbsp;\r\n                                                                        </button>\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div> */}\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" >Ngắt tất cả các thành viên</div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span>\r\n                                                                        {/* <button className=\"pull-center btn-sm btn-white btn-round\" type=\"button\" onClick={fs.toggle} title=\"Phóng to/thu nhỏ màn hình\"> */}\r\n                                                                        <button className=\"pull-center btn-sm btn-white btn-round\" type=\"button\" onClick={handleHangupAll} title=\"Tắt phiên họp tất cả các thành viên\">\r\n                                                                            &nbsp;&nbsp;<i className=\"ace-icon fa fa-power-off red bigger-120\" />&nbsp;&nbsp;\r\n                                                                        </button>\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-xs-12 col-sm-5\" style={{ display: (loading ? 'none' : 'block') }} >\r\n                                    <div class=\"widget-box\">\r\n                                        <div class=\"widget-header\">\r\n                                            <h5 class=\"widget-title\"><i class=\"ace-icon fa fa-desktop\"></i>THÔNG TIN PHÒNG HỌP</h5>\r\n                                        </div>\r\n                                        <div class=\"widget-body\">\r\n                                            <div className=\"widget-main\">\r\n                                                <div class=\"row\" style={{ marginLeft: \"-12px\", marginRight: \"-12px\" }}>\r\n                                                    <div className=\"col-xs-12 col-sm-9\" style={{ paddingLeft: \"0px\", paddingRight: \"0px\" }}>\r\n                                                        <div className=\"profile-user-info profile-user-info-striped\">\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" >Tiêu đề hội nghị </div>\r\n                                                                <div className=\"profile-info-value\" style={{ minWidth: \"200px\" }}>\r\n                                                                    <span>{roomMeet.Subject}</span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" > Địa điểm chủ trì </div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span> {roomMeet.Location}</span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\" > Thời gian bắt đầu </div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span>{moment(roomMeet.StartTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className=\"profile-info-row\">\r\n                                                                <div className=\"profile-info-name\"> Thời gian kết thúc </div>\r\n                                                                <div className=\"profile-info-value\">\r\n                                                                    <span>{moment(roomMeet.EndTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        \r\n                                                    </div>\r\n                                                    <div className=\"col-xs-12 col-sm-3\" style={{ display: 'flex', paddingLeft: \"0px\", paddingRight: \"0px\", justifyContent: \"center\" }}>\r\n                                                            <Clock\r\n                                                                value={value}\r\n                                                                size={120}\r\n                                                            />\r\n                                                        </div>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\r\n                                    <div class=\"widget-box\">\r\n                                        <div class=\"widget-header\">\r\n                                            <h5 class=\"widget-title\"><i class=\"ace-icon fa fa-credit-card \"></i>Danh sách thành viên hội nghị: {numberOfParticipants} / {List_user_room_filter?.length} thành viên</h5>\r\n                                        </div><div class=\"widget-body\">\r\n                                            <div className=\"widget-main\" style={{ flex: 1, maxHeight: '55vh', overflowY: 'auto' }}>\r\n                                                <div class=\"row\">\r\n                                                    {/* <JitsiControl _api={_api} roomId={roomId} jitsiUser={jitsiUser} participants={participants} raiseHandNew={raiseHandNew} dominantSpeaker={dominantSpeaker} isAudioMuted={isAudioMuted} isVideoMuted={isVideoMuted} List_user_room={List_user_room} idLeave={idLeave} isFilmstrip={isFilmstrip} isTileView={isTileView} handleToggleTileView={handleToggleTileView} /> */}\r\n                                                    <div className=\"control-group\">\r\n                                                        <div className=\"dataTables_wrapper form-inline no-footer\">\r\n                                                            <table id=\"simple-table\" className=\"table  table-bordered table-hover\">\r\n                                                                <thead>\r\n                                                                    <tr>\r\n                                                                        {/* <th >TT</th> */}\r\n                                                                        <th >Tên thành viên</th>\r\n                                                                        <th >Trạng thái</th>\r\n                                                                        <th >Thao tác</th>\r\n                                                                    </tr>\r\n                                                                </thead>\r\n                                                                <tbody>\r\n                                                                    {participantView}\r\n\r\n                                                                    {List_user_room_filter}\r\n                                                                </tbody>\r\n                                                            </table>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n\r\n                                                </div>\r\n                                                {/* <div className=\"col-xs-12 col-sm-4\" style={{ marginLeft: \"-10px\", paddingRight: \"0px\" }}>\r\n                            \r\n                        </div> */}\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </div >\r\n                </div >\r\n                <Footer />\r\n            </div >\r\n        </>\r\n    );\r\n};\r\nexport default withRouter(JitsiMeetAdmin);\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter, useHistory, useParams } from \"react-router-dom\";\r\nimport ProgressComponent from '@material-ui/core/CircularProgress';\r\nimport { getMeetRoom } from \"./JitsiActions\"\r\nimport { getUsers, getProfiles, getProfile } from '../users/UserActions';\r\nimport socketIOClient from \"socket.io-client\";\r\nconst USER_JOIN_CHAT_EVENT = \"USER_JOIN_CHAT_EVENT\";\r\nconst USER_LEAVE_CHAT_EVENT = \"USER_LEAVE_CHAT_EVENT\";\r\nconst JITSI_AUDIO_ONE = \"JITSI_AUDIO_ONE\";\r\nconst SVR_JITSI_AUDIO_ONE = \"SVR_JITSI_AUDIO_ONE\";\r\nconst JITSI_AUDIO_ALL = \"JITSI_AUDIO_ALL\";\r\nconst SVR_JITSI_AUDIO_ALL = \"SVR_JITSI_AUDIO_ALL\";\r\nconst JITSI_VIDEO_ONE = \"JITSI_VIDEO_ONE\";\r\nconst SVR_JITSI_VIDEO_ONE = \"SVR_JITSI_VIDEO_ONE\";\r\nconst JITSI_VIDEO_ALL = \"JITSI_VIDEO_ALL\";\r\nconst SVR_JITSI_VIDEO_ALL = \"SVR_JITSI_VIDEO_ALL\";\r\nconst JITSI_FILMSTRIP = \"JITSI_FILMSTRIP\";\r\nconst SVR_JITSI_FILMSTRIP = \"SVR_JITSI_FILMSTRIP\";\r\nconst JITSI_TOGGLE_VIEW = \"JITSI_TOGGLE_VIEW\";\r\nconst SVR_JITSI_TOGGLE_VIEW = \"SVR_JITSI_TOGGLE_VIEW\";\r\nconst JITSI_TOGGLE_DESKTOP = \"JITSI_TOGGLE_DESKTOP\";\r\nconst SVR_JITSI_TOGGLE_DESKTOP = \"SVR_JITSI_TOGGLE_DESKTOP\";\r\nconst SVR_JITSI_HANGUP = \"SVR_JITSI_HANGUP\";\r\nconst JITSI_HANGUP = \"JITSI_HANGUP\";\r\nconst SVR_JITSI_HANGUP_ALL = \"SVR_JITSI_HANGUP_ALL\";\r\nconst JITSI_HANGUP_ALL = \"JITSI_HANGUP_ALL\";\r\nconst JITSI_STOP_SHARE = \"JITSI_STOP_SHARE\";\r\nconst SVR_JITSI_STOP_SHARE = \"SVR_JITSI_STOP_SHARE\";\r\nconst JITSI_TILE_VIEW = \"JITSI_TILE_VIEW\";\r\nconst SVR_JITSI_TILE_VIEW = \"SVR_JITSI_TILE_VIEW\";\r\n\r\n\r\nconst SOCKET_SERVER_URL = \"http://localhost:4000\";\r\n\r\nconst JitsiMeetClient = () => {\r\n    const { roomId } = useParams();\r\n    const user_auth = useSelector((state) => state.auth.user);\r\n    const roomMeet = useSelector(state => state.jitsi.meetroom)\r\n    // const profiles = useSelector(state => state.profiles.data);\r\n    const profile = useSelector((state) => state.auth.profile);\r\n    // const [fullname, setFullname] = useState(user_auth.username)\r\n    console.log(profile)\r\n    const fullname = profile.last_name\r\n    const socketRef = useRef();\r\n\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        // dispatch(getProfile(user_auth.id))\r\n        // dispatch(getProfiles())\r\n        dispatch(getUsers())\r\n        dispatch(getMeetRoom(roomId));\r\n    }, [])\r\n\r\n    // useEffect(() => {\r\n    //     setTimeout(() => {\r\n    //       if (profile.last_name !== null || profile.last_name !== \"\") {\r\n    //         setFullname(profile.last_name)\r\n    //       }\r\n    //     }, 2000);\r\n    //   }, [profile])\r\n\r\n    const domain = 'meet.jit.si';\r\n    let api = {};\r\n    const [_api, setApi] = useState();\r\n    const [room, setRoom] = useState(\"CNTTQK7\");\r\n\r\n    const [isAudioMuted, setIsAudioMuted] = useState();\r\n    const [isAudioMutedAll, setIsAudioMutedAll] = useState(false);\r\n    const [isVideoMuted, setIsVideoMuted] = useState();\r\n    const [isTileView, setIsTileView] = useState(false);\r\n    const [isTileViews, setIsTileViews] = useState([]);\r\n    const [isFilmstrip, setIsFilmstrip] = useState(false);\r\n    const [isFullDestop, setIsFullDestop] = useState(false);\r\n    const [dominantSpeaker, setDominantSpeaker] = useState();\r\n\r\n    const [jitsiUser, setJitsiUser] = useState();\r\n\r\n    // const [raiseHand, setRaiseHand] = useState();\r\n    const [raiseHandNew, setRaiseHandNew] = useState([]);\r\n    const [sharingParticipants, setSharingParticipants] = useState([]);\r\n    // const [endpointTextMessageReceived, setEndpointTextMessageReceived] = useState();\r\n\r\n    const [numberOfParticipants, setNumberOfParticipants] = useState();\r\n    // const [incomingMessage, setIncomingMessage] = useState();\r\n    const incomingMessages = ['microphone', 'camera', 'chat', 'hangup', 'fullscreen', 'tileview'];\r\n    // const [outgoingMessage, setOutgoingMessage] = useState();\r\n\r\n    // const [displayName2, setDisplayName2] = useState();\r\n    // const [displayName3, setDisplayName3] = useState();\r\n    const [participants, setParticipants] = useState([]);\r\n    const [idLeave, setIdLeave] = useState();\r\n    const [availableDevices, setAvailableDevices] = useState([]);\r\n    // const [stateAudioAll, setStateAudioAll] = useState(false);\r\n    // const [audio_Input, setAudio_Input] = useState();\r\n    // const [audio_Output, setAudio_Output] = useState();\r\n    const [video_Input, setVideo_Input] = useState();\r\n    // const [webcamId, setWebcamId] = useState(\"\");\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const history = useHistory();\r\n\r\n    const jitsiContainerStyle = {\r\n        display: (loading ? 'none' : 'block'),\r\n        width: '100%',\r\n        height: '100%',\r\n    }\r\n\r\n    const startMeet = () => {\r\n        if (profile !== null) {\r\n            const options = {\r\n                roomName: 'cnttqk7',\r\n                // password:password,\r\n                width: '100%',\r\n                height: \"100%\",\r\n                configOverwrite: {\r\n                    localRecording: {\r\n                        enabled: true,\r\n                    },\r\n                    fileRecordingsServiceEnabled: true,\r\n                    fileRecordingsEnabled: true,\r\n                    prejoinPageEnabled: false,\r\n                },\r\n                interfaceConfigOverwrite: {\r\n                    filmStripOnly: false,\r\n                    SHOW_JITSI_WATERMARK: false,\r\n                    SHOW_WATERMARK_FOR_GUESTS: false,\r\n                    DISABLE_DOMINANT_SPEAKER_INDICATOR: true,\r\n                    TILE_VIEW_MAX_COLUMNS: 4,\r\n                    TOOLBAR_BUTTONS: ['microphone', 'camera', 'chat', 'hangup', 'desktop', 'tileview', 'fullscreen'],\r\n                },\r\n                parentNode: document.querySelector('#jitsi-iframe'),\r\n                userInfo: { displayName: fullname }\r\n            }\r\n            api = new window.JitsiMeetExternalAPI(domain, options);\r\n            setApi(api)\r\n            api.addEventListener('videoConferenceJoined', (object) => {\r\n                // setMeId(object.id)\r\n                setLoading(false);\r\n            });\r\n            api.addEventListeners({\r\n                readyToClose: handleClose,\r\n                videoConferenceLeft: handleVideoConferenceLeft,\r\n                videoConferenceJoined: handleVideoConferenceJoined,\r\n                audioMuteStatusChanged: handleMuteStatus,\r\n                videoMuteStatusChanged: handleVideoStatus,\r\n                tileViewChanged: handleTileViewStatus,\r\n            });\r\n            api.executeCommand('subject', roomMeet.Subject);\r\n            api.executeCommand('toggleTileView')\r\n        }\r\n    }\r\n\r\n\r\n    const handleVideoConferenceJoined = async (participant) => {\r\n        // console.log(\"handleVideoConferenceJoined\", participant); // { roomName: \"bwb-bfqi-vmh\", id: \"8c35a951\", displayName: \"Akash Verma\", formattedDisplayName: \"Akash Verma (me)\"}\r\n        // const data = await getParticipants();\r\n        setJitsiUser(participant)\r\n    }\r\n    const handleVideoConferenceLeft = () => {\r\n        return history.push('/');\r\n    }\r\n    const handleMuteStatus = (muted) => {\r\n        // console.log(\"handleMuteStatus\", muted); // { muted: true } \r\n        setIsAudioMuted(muted)\r\n    }\r\n    const handleVideoStatus = (video) => {\r\n        // console.log(\"handleVideoStatus\", video); // { muted: true }\r\n        setIsVideoMuted(video)\r\n    }\r\n    const handleTileViewStatus = (tileview) => {\r\n        // console.log(\"handleTileViewStatus\", tileview); // { enabled: true }\r\n        setIsTileView(tileview.enabled)\r\n    }\r\n    const handleClose = () => {\r\n        console.log(\"handleClose\");\r\n    }\r\n    useEffect(() => {\r\n        if (window.JitsiMeetExternalAPI && Object.entries(profile).length !== 0 ) {\r\n            startMeet();\r\n        } \r\n        // else {\r\n        //     alert('JitsiMeetExternalAPI not loaded');\r\n        // }\r\n    }, [profile])\r\n    //Socket IO\r\n    useEffect(() => {\r\n        if (!fullname || !jitsiUser?.id) {\r\n            return;\r\n        }\r\n        socketRef.current = socketIOClient(SOCKET_SERVER_URL, {\r\n            query: { roomId, userId: user_auth.id, fullname, jitsiUserId: jitsiUser?.id, isAudioMuted: isAudioMuted.muted, isVideoMuted: isVideoMuted.muted, isTileView },\r\n        });\r\n        socketRef.current.on(\"connect\", () => {\r\n            console.log(socketRef.current.id);\r\n        });\r\n        socketRef.current.on(SVR_JITSI_AUDIO_ONE, (id) => {\r\n            _api.executeCommand('toggleAudio');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_STOP_SHARE, (id) => {\r\n            _api.executeCommand('toggleShareScreen');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_TILE_VIEW, (id) => {\r\n            _api.executeCommand('toggleTileView');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_AUDIO_ALL, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleAudio');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_VIDEO_ONE, (id) => {\r\n            // console.log(id)\r\n            _api.executeCommand('toggleVideo');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_VIDEO_ALL, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleVideo');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_FILMSTRIP, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleFilmStrip');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_TOGGLE_VIEW, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('toggleTileView');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_HANGUP_ALL, (data) => {\r\n            if (data === roomId)\r\n                _api.executeCommand('hangup');\r\n        });\r\n        socketRef.current.on(SVR_JITSI_HANGUP, (data) => {\r\n            _api.executeCommand('hangup');\r\n        });\r\n\r\n        return () => {\r\n            socketRef.current.disconnect();\r\n        };\r\n    }, [roomId, jitsiUser, isAudioMuted, isVideoMuted, isTileView]);\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            {loading && <ProgressComponent style={{ marginLeft: '45%', marginTop: '25%', width: \"100px\", height: \"100px\" }} />}\r\n            <div className=\"row\" style={{ display: (loading ? 'none' : 'block'), height: '100vh', marginRight: '0px', justifyContent: \"center\" }}>\r\n                {profile.id !== null &&\r\n                    <div id=\"jitsi-iframe\" style={jitsiContainerStyle} ></div>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default withRouter(JitsiMeetClient);\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useFullScreen } from \"react-browser-hooks\";\r\n\r\n\r\n\r\nimport socketIOClient from \"socket.io-client\";\r\nimport axios from \"axios\";\r\nimport { toastOnError } from \"./utils/Utils\";\r\n\r\nconst USER_JOIN_CHAT_EVENT = \"USER_JOIN_CHAT_EVENT\";\r\nconst USER_LEAVE_CHAT_EVENT = \"USER_LEAVE_CHAT_EVENT\";\r\nconst NEW_CHAT_MESSAGE_EVENT = \"NEW_CHAT_MESSAGE_EVENT\";\r\nconst START_TYPING_MESSAGE_EVENT = \"START_TYPING_MESSAGE_EVENT\";\r\nconst STOP_TYPING_MESSAGE_EVENT = \"STOP_TYPING_MESSAGE_EVENT\";\r\nconst JITSI_MUTE_ALL = \"JITSI_MUTE_ALL\";\r\nconst JITSI_MUTE_ONE = \"JITSI_MUTE_ONE\";\r\nconst JITSI_FULL_DESKTOP = \"JITSI_FULL_DESKTOP\";\r\nconst SOCKET_SERVER_URL = \"http://localhost:4000\";\r\n\r\nconst useChat = (roomId) => {\r\n  const user_auth = useSelector((state) => state.auth);\r\n  const [messages, setMessages] = useState([]);\r\n  const [fullDesktop, setFullDesktop] = useState(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [typingUsers, setTypingUsers] = useState([]);\r\n  const [user, setUser] = useState();\r\n  const socketRef = useRef();\r\n  // console.log(user_auth.user.username)\r\n  const { toggle, fullScreen } = useFullScreen();\r\n  // console.log(fullDesktop)\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      setUser({\r\n            name: user_auth.user.username,\r\n            picture: \"assets/images/avatars/user.jpg\",\r\n          });\r\n    // axios\r\n    // .get(\"/api/v1/users/me/\")\r\n    // .then(response => {\r\n    //   setUser({\r\n    //     name: response.data.username,\r\n    //     picture: \"assets/images/avatars/user.jpg\",\r\n    //   });\r\n    // })\r\n    // .catch(error => {\r\n    //   toastOnError(error);\r\n    // });\r\n    \r\n  };\r\n\r\n    fetchUser();\r\n  }, []);\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      const response = await axios.get(\r\n        `${SOCKET_SERVER_URL}/rooms/${roomId}/users`\r\n      );\r\n      const result = response.data.users;\r\n      setUsers(result);\r\n    };\r\n\r\n    fetchUsers();\r\n  }, [roomId]);\r\n\r\n  useEffect(() => {\r\n    const fetchMessages = async () => {\r\n      const response = await axios.get(\r\n        `${SOCKET_SERVER_URL}/rooms/${roomId}/messages`\r\n      );\r\n      const result = response.data.messages;\r\n      setMessages(result);\r\n    };\r\n\r\n    fetchMessages();\r\n  }, [roomId]);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      return;\r\n    }\r\n    socketRef.current = socketIOClient(SOCKET_SERVER_URL, {\r\n      query: { roomId, name: user.name, picture: user.picture },\r\n    });\r\n\r\n    socketRef.current.on(\"connect\", () => {\r\n      console.log(socketRef.current.id);\r\n    });\r\n\r\n    socketRef.current.on(USER_JOIN_CHAT_EVENT, (user) => {\r\n      if (user.id === socketRef.current.id) return;\r\n      setUsers((users) => [...users, user]);\r\n    });\r\n\r\n    socketRef.current.on(USER_LEAVE_CHAT_EVENT, (user) => {\r\n      setUsers((users) => users.filter((u) => u.id !== user.id));\r\n    });\r\n\r\n    socketRef.current.on(JITSI_FULL_DESKTOP, (data) => {\r\n        setFullDesktop(data.fullScreen)\r\n    });\r\n    \r\n    socketRef.current.on(NEW_CHAT_MESSAGE_EVENT, (message) => {\r\n      const incomingMessage = {\r\n        ...message,\r\n        ownedByCurrentUser: message.senderId === socketRef.current.id,\r\n      };\r\n      setMessages((messages) => [...messages, incomingMessage]);\r\n    });\r\n\r\n    socketRef.current.on(START_TYPING_MESSAGE_EVENT, (typingInfo) => {\r\n      if (typingInfo.senderId !== socketRef.current.id) {\r\n        const user = typingInfo.user;\r\n        setTypingUsers((users) => [...users, user]);\r\n      }\r\n    });\r\n\r\n    socketRef.current.on(STOP_TYPING_MESSAGE_EVENT, (typingInfo) => {\r\n      if (typingInfo.senderId !== socketRef.current.id) {\r\n        const user = typingInfo.user;\r\n        setTypingUsers((users) => users.filter((u) => u.name !== user.name));\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socketRef.current.disconnect();\r\n    };\r\n  }, [roomId, user]);\r\n\r\n  const sendFullDesktop = (fullScreen) => {\r\n    if (!socketRef.current) return;\r\n    socketRef.current.emit(JITSI_FULL_DESKTOP, {\r\n      senderId: socketRef.current.id,\r\n      // user,\r\n      fullScreen,\r\n    });\r\n  };\r\n\r\n\r\n  const sendMessage = (messageBody) => {\r\n    if (!socketRef.current) return;\r\n    socketRef.current.emit(NEW_CHAT_MESSAGE_EVENT, {\r\n      body: messageBody,\r\n      senderId: socketRef.current.id,\r\n      user: user,\r\n    });\r\n  };\r\n\r\n  const startTypingMessage = () => {\r\n    if (!socketRef.current) return;\r\n    socketRef.current.emit(START_TYPING_MESSAGE_EVENT, {\r\n      senderId: socketRef.current.id,\r\n      user,\r\n    });\r\n  };\r\n\r\n  const stopTypingMessage = () => {\r\n    if (!socketRef.current) return;\r\n    socketRef.current.emit(STOP_TYPING_MESSAGE_EVENT, {\r\n      senderId: socketRef.current.id,\r\n      user,\r\n    });\r\n  };\r\n\r\n  return {\r\n    messages,\r\n    user,\r\n    users,\r\n    typingUsers,\r\n    fullDesktop,\r\n    sendFullDesktop,\r\n    sendMessage,\r\n    startTypingMessage,\r\n    stopTypingMessage,\r\n  };\r\n};\r\n\r\nexport default useChat;\r\n","import React from \"react\";\r\nimport UserAvatar from \"./UserAvatar\";\r\n\r\nimport \"./css_chat/ChatMessage.css\";\r\n\r\nconst ChatMessage = ({ message }) => {\r\n  return (\r\n    <div\r\n      className={`message-item ${\r\n        message.ownedByCurrentUser ? \"my-message\" : \"received-message\"\r\n      }`}\r\n    >\r\n      {!message.ownedByCurrentUser && (\r\n        <div className=\"message-avatar-container\">\r\n          <UserAvatar user={message.user}></UserAvatar>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"message-body-container\">\r\n        {!message.ownedByCurrentUser && (\r\n          <div className=\"message-user-name\">{message.user.name}</div>\r\n        )}\r\n        <div className=\"message-body\">{message.body}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatMessage;\r\n","import { useEffect, useState } from \"react\";\r\n\r\nconst useTyping = () => {\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [isKeyPressed, setIsKeyPressed] = useState(false);\r\n  const [countdown, setCountdown] = useState(5);\r\n\r\n  const startTyping = () => {\r\n    setIsKeyPressed(true);\r\n    setCountdown(5);\r\n    setIsTyping(true);\r\n  };\r\n\r\n  const stopTyping = () => {\r\n    setIsKeyPressed(false);\r\n  };\r\n\r\n  const cancelTyping = () => {\r\n    setCountdown(0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if (!isKeyPressed) {\r\n      interval = setInterval(() => {\r\n        setCountdown((c) => c - 1);\r\n      }, 1000);\r\n    } else if (isKeyPressed || countdown === 0) {\r\n      clearInterval(interval);\r\n    }\r\n\r\n    if (countdown === 0) {\r\n      setIsTyping(false);\r\n    }\r\n\r\n    return () => clearInterval(interval);\r\n  }, [isKeyPressed, countdown]);\r\n\r\n  return { isTyping, startTyping, stopTyping, cancelTyping };\r\n};\r\n\r\nexport default useTyping;\r\n","import React from \"react\";\r\nimport \"./css_chat/NewMessageForm.css\";\r\n\r\nconst NewMessageForm = ({\r\n  newMessage,\r\n  handleNewMessageChange,\r\n  handleStartTyping,\r\n  handleStopTyping,\r\n  handleSendMessage,\r\n}) => {\r\n  return (\r\n    <form >\r\n      <div className=\"form-actions\" style={{ width: '61%', position: 'fixed', bottom: \"23px\" }}>\r\n        <div className=\"input-group\">\r\n          <input type=\"text\" className=\"form-control\"\r\n            value={newMessage}\r\n            onChange={handleNewMessageChange}\r\n            placeholder=\"Nhập nội dung gửi đi...\"\r\n            onKeyPress={handleStartTyping}\r\n            onKeyUp={handleStopTyping} />\r\n          <span className=\"input-group-btn\">\r\n            <button className=\"btn btn-sm btn-info no-radius\"\r\n              type=\"submit\"\r\n              onClick={handleSendMessage}\r\n            >\r\n              <i className=\"ace-icon fa fa-share\" />\r\n              Gửi đi\r\n            </button>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </form>\r\n\r\n  );\r\n};\r\n\r\nexport default NewMessageForm;\r\n","import React from \"react\";\r\nimport \"./css_chat/TypingAnimation.css\";\r\n\r\nconst TypingAnimation = () => {\r\n  return (\r\n    <div className=\"dotsContainer\">\r\n      <span id=\"dot1\"></span>\r\n      <span id=\"dot2\"></span>\r\n      <span id=\"dot3\"></span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TypingAnimation;\r\n","import React from \"react\";\r\nimport TypingAnimation from \"./TypingAnimation\";\r\n\r\nimport \"./css_chat/TypingMessage.css\";\r\n\r\nconst TypingMessage = ({ user }) => {\r\n  return (\r\n    <div className=\"message-item\">\r\n      <div className=\"message-avatar-container\">\r\n        <img\r\n          src={user.picture}\r\n          alt={user.name}\r\n          className={\"message-avatar\"}\r\n        ></img>\r\n      </div>\r\n\r\n      <TypingAnimation></TypingAnimation>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TypingMessage;\r\n","import React from \"react\";\r\nimport UserAvatar from \"./UserAvatar\";\r\n\r\nimport \"./css_chat/Users.css\";\r\n\r\nconst Users = ({ users }) => {\r\n  return users.length > 0 ? (\r\n    <div>\r\n      <h5>Thành viên đã kết nối trong nhóm:</h5>\r\n      <ul className=\"user-list\">\r\n        {users.map((user, index) => (\r\n          <li key={index} className=\"user-box\">\r\n            <span>{user.name}</span>\r\n            <UserAvatar user={user}></UserAvatar>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  ) : (\r\n    <div>Chưa có nhóm, thành viên được chọn!</div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst CalendarBreadcrumb = () => {\r\n    return (\r\n        <div id=\"sidebar2\" style={{ paddingTop: \"0\", textAlign:\"center\" }} className=\"sidebar h-sidebar navbar-collapse collapse ace-save-state sidebar-fixed\" data-sidebar=\"true\" data-sidebar-scroll=\"true\" data-sidebar-hover=\"true\">\r\n            <div className=\"nav-wrap-up pos-rel\"><div className=\"nav-wrap\"><ul className=\"nav nav-list\" style={{ top: 0, position: 'relative', transitionProperty: 'top', transitionDuration: '0.15s' }}>\r\n                <li className=\"hover hover-show hover-shown\">\r\n                    <Link to='/calendar'>\r\n                        <i className=\"menu-icon fa fa-bar-chart-o\" />\r\n                        <span className=\"menu-text\"> Tổng quan </span>\r\n                    </Link>\r\n                    <b className=\"arrow\" />\r\n                </li>\r\n                <li className=\"hover active\">\r\n                    <Link to='/cal_meet'>\r\n                        <i className=\"menu-icon fa  fa-calendar\" />\r\n                        <span className=\"menu-text\"> Danh sách phòng họp </span>\r\n                    </Link>\r\n                    <b className=\"arrow\" />\r\n                </li>\r\n                <li className=\"hover\">\r\n                    <Link to='/cal_add'>\r\n                        <i className=\"menu-icon fa fa-pencil-square-o\" />\r\n                        <span className=\"menu-text\">Thêm mới phòng họp</span>\r\n                    </Link>\r\n                    <b className=\"arrow\" />\r\n                </li>\r\n                <li className=\"hover\">\r\n                    <Link to='/jitsi'>\r\n                        <i className=\"menu-icon fa fa-desktop\" />\r\n                        <span className=\"menu-text\">Hội nghị trực tuyến</span>\r\n                    </Link>\r\n                    <b className=\"arrow\" />\r\n                </li>\r\n\r\n\r\n            </ul></div><div className=\"ace-scroll nav-scroll scroll-disabled\"><div className=\"scroll-track scroll-hover\" style={{ display: 'none' }}><div className=\"scroll-bar\" style={{ transitionProperty: 'top', transitionDuration: '0.1s', top: 0 }} /></div><div className=\"scroll-content\" style={{}}><div /></div></div></div>{/* /.nav-list */}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default CalendarBreadcrumb\r\n","import React from \"react\";\r\nimport { withRouter } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n        position: 'relative',\r\n        overflow: 'auto',\r\n        maxHeight: 440,\r\n        fontSize: 14,\r\n    },\r\n    listSection: {\r\n        backgroundColor: 'inherit',\r\n    },\r\n    ul: {\r\n        backgroundColor: 'inherit',\r\n        padding: 0,\r\n    },\r\n}));\r\nfunction ChatUsers(props) {\r\n    const { users } = props\r\n    const classes = useStyles();\r\n\r\n    return (users.length > 0 ? (\r\n        <List className={classes.root} subheader={<li />}>\r\n            {users.map((user, index) => (\r\n                <>\r\n                    <ListItem alignItems=\"flex-start\">\r\n                        <ListItemAvatar>\r\n                            <Avatar alt=\"Remy Sharp\" src={user.picture} />\r\n                        </ListItemAvatar>\r\n                        <ListItemText\r\n                            secondary={\r\n                                <React.Fragment>\r\n                                    <Typography\r\n                                        component=\"span\"\r\n                                        variant=\"body2\"\r\n                                        className={classes.inline}\r\n                                        color=\"textPrimary\"\r\n                                        fontSize=\"14px\"\r\n                                    >\r\n                                        <h5>{user.name}</h5>\r\n                                    </Typography>\r\n                                    <h6>{\"Nguyen Khac Hieu\"}</h6>\r\n                                </React.Fragment>\r\n                            }\r\n                        />\r\n                    </ListItem>\r\n                    <Divider variant=\"inset\" component=\"li\" />\r\n                </>\r\n            ))}\r\n        </List>\r\n    ) : (\r\n        <div>There is no one else in this room</div>\r\n    ));\r\n}\r\nexport default withRouter(ChatUsers);","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ChatUsers from './ChatUsers'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '30%',\r\n        // maxWidth: '90%',\r\n        backgroundColor: theme.palette.background.paper,\r\n        position: 'fixed',\r\n        overflow: 'auto',\r\n        maxHeight: \"80%\",\r\n        fontSize: 14,\r\n        // border:\"solid 1px\"\r\n    },\r\n    listSection: {\r\n        backgroundColor: 'inherit',\r\n    },\r\n    ul: {\r\n        backgroundColor: 'inherit',\r\n        padding: 0,\r\n    },\r\n}));\r\nfunction ControlChat(props) {\r\n    const { roomId, user, users } = props\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <List className={classes.root} subheader={<li />}>\r\n            <h1 className=\"room-name\">Room: {roomId}</h1>\r\n            <ListItem alignItems=\"flex-start\">\r\n                <ListItemAvatar>\r\n                    <Avatar alt=\"Remy Sharp\" src={user.picture} />\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                    secondary={\r\n                        <React.Fragment>\r\n                            <Typography\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                                className={classes.inline}\r\n                                color=\"textPrimary\"\r\n                                fontSize=\"14px\"\r\n                            >\r\n                                <h5>{user.name}</h5>\r\n                            </Typography>\r\n                            <h6>{\"Nguyen Khac Hieu\"}</h6>\r\n                        </React.Fragment>\r\n                    }\r\n                />\r\n            </ListItem>\r\n            <Divider variant=\"inset\" component=\"li\" />\r\n                {user && <ChatUsers users={users}/>}\r\n            \r\n            {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15].map((sectionId) => (\r\n                <li key={`section-${sectionId}`} >\r\n                    <p>Nguyeen Khac Hieu</p>\r\n                    <p>Nguyeen Khac Hieu</p>\r\n                    <p>Nguyeen Khac Hieu</p>\r\n                    <p>Nguyeen Khac Hieu</p>\r\n                    <p>Nguyeen Khac Hieu</p>\r\n                    <p>Nguyeen Khac Hieu</p>\r\n                    <p>Nguyeen Khac Hieu</p>\r\n                    <p>Nguyeen Khac Hieu</p>\r\n                    <p>Nguyeen Khac Hieu</p>\r\n                </li>\r\n            ))}\r\n        </List>\r\n    );\r\n}\r\nexport default withRouter(ControlChat);","import axios from \"axios\";\r\nimport { toastOnError } from \"../../utils/Utils\";\r\nimport { GET_USER_CHAT, GET_ALL_USER_CHAT, GET_MESSAGES } from \"./ChatTypes\";\r\n\r\nconst SOCKET_SERVER_URL = \"http://localhost:4000\";\r\n\r\nexport const getUserChat = () => dispatch => {\r\n  axios\r\n    .get(\"/api/v1/users/me\")\r\n    .then(response => {\r\n      // console.log(response.data)\r\n      dispatch({\r\n        type: GET_USER_CHAT,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\nexport const getAllUserChat = (roomId) => dispatch => {\r\n  axios\r\n  // const result = response.data.users;\r\n    .get(`${SOCKET_SERVER_URL}/rooms/${roomId}/users`)\r\n    .then(response => {\r\n      // console.log(response.data)\r\n      dispatch({\r\n        type: GET_ALL_USER_CHAT,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\nexport const getMessages = (roomId) => dispatch => {\r\n  axios\r\n    .post(`${SOCKET_SERVER_URL}/rooms/${roomId}/messages`)\r\n    .then(response => {\r\n      dispatch({\r\n        type: GET_MESSAGES,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\n// new functions\r\n// export const deleteNote = id => dispatch => {\r\n//   axios\r\n//     .delete(`/api/v1/notes/${id}/`)\r\n//     .then(response => {\r\n//       dispatch({\r\n//         type: DELETE_NOTE,\r\n//         payload: id\r\n//       });\r\n//     })\r\n//     .catch(error => {\r\n//       toastOnError(error);\r\n//     });\r\n// };\r\n\r\n// export const updateNote = (id, note) => dispatch => {\r\n//   axios\r\n//     .patch(`/api/v1/notes/${id}/`, note)\r\n//     .then(response => {\r\n//       dispatch({\r\n//         type: UPDATE_NOTE,\r\n//         payload: response.data\r\n//       });\r\n//     })\r\n//     .catch(error => {\r\n//       toastOnError(error);\r\n//     });\r\n// };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter } from 'react-router-dom'\r\nimport { useParams } from \"react-router-dom\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\n\r\n\r\nimport \"./css_chat/ChatRoom.css\";\r\nimport useChat from \"../../useChat\";\r\n\r\nimport ChatMessage from \"./ChatMessage\";\r\nimport useTyping from \"../../useTyping\";\r\nimport NewMessageForm from \"./NewMessageForm\";\r\nimport TypingMessage from \"./TypingMessage\";\r\nimport Users from \"./Users\";\r\nimport UserAvatar from \"./UserAvatar\";\r\nimport { getUserChat, getAllUserChat } from \"./ChatActions\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '61%',\r\n    // maxWidth: '90%',\r\n    backgroundColor: theme.palette.background.paper,\r\n    position: 'fixed',\r\n    overflow: 'auto',\r\n    flex: 1,\r\n    // outline: 'none',\r\n    // overflow:\"auto\",\r\n    // overscrollBehaviorY:\"contain\",\r\n    // overflowAnchor:\"auto\",\r\n    // overscrollBehaviorY:\"auto\",\r\n    // behavior: 'smooth',\r\n    // overscrollBehaviorY:\"auto\",\r\n    // maxHeight: \"70%\",\r\n    fontSize: 14,\r\n    border: \"solid 1px\",\r\n    borderColor: \"#DBDBDB\",\r\n    // margin: \"-2px\",\r\n    bottom: \"110px\",\r\n    top: \"120px\",\r\n    // display: \"block\"\r\n    // msOverflowY:\"scoll\",\r\n    \r\n  },\r\n  listSection: {\r\n    backgroundColor: 'inherit',\r\n  },\r\n  ul: {\r\n    backgroundColor: 'inherit',\r\n    padding: 0,\r\n  },\r\n}));\r\n\r\nfunction ControlChatMessage(props) {\r\n  const classes = useStyles();\r\n  const { roomId, user, users, typingUsers, messages  } = props\r\n\r\n  // useEffect(()=>{\r\n  //   getAllUserChat()\r\n  // })\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getAllUserChat(roomId));\r\n  }, [roomId])\r\n  // console.log(user_chat)\r\n\r\n  const {\r\n    sendMessage,\r\n    startTypingMessage,\r\n    stopTypingMessage,\r\n  } = useChat(roomId);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n\r\n  const { isTyping, startTyping, stopTyping, cancelTyping } = useTyping();\r\n\r\n  const handleNewMessageChange = (event) => {\r\n    setNewMessage(event.target.value);\r\n  };\r\n\r\n  const handleSendMessage = (event) => {\r\n    event.preventDefault();\r\n    cancelTyping();\r\n    sendMessage(newMessage);\r\n    setNewMessage(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isTyping) startTypingMessage();\r\n    else stopTypingMessage();\r\n  }, [isTyping]);\r\n\r\n\r\n  return (\r\n    <List className={classes.root} subheader={<li />}>\r\n      {/* <div className=\"chat-room-top-bar\">\r\n        {user && <UserAvatar user={user}></UserAvatar>}\r\n      </div> */}\r\n      <Users users={users}></Users>\r\n\r\n      <div className=\"messages-container\" >\r\n        <ol className=\"messages-list\">\r\n          {messages.map((message, i) => (\r\n            \r\n              <li key={i}>\r\n                <ChatMessage message={message}></ChatMessage>\r\n              </li>\r\n\r\n          ))}\r\n          {typingUsers.map((user, i) => (\r\n            <li key={messages.length + i}>\r\n              <TypingMessage user={user}></TypingMessage>\r\n            </li>\r\n          ))}\r\n        </ol>\r\n      </div>\r\n    </List >\r\n  );\r\n}\r\n\r\nexport default withRouter(ControlChatMessage);","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\"\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport \"./css_chat/ChatRoom.css\";\r\nimport useChat from \"../../useChat\";\r\n\r\nimport ChatMessage from \"./ChatMessage\";\r\nimport useTyping from \"../../useTyping\";\r\nimport NewMessageForm from \"./NewMessageForm\";\r\nimport TypingMessage from \"./TypingMessage\";\r\nimport Users from \"./Users\";\r\nimport UserAvatar from \"./UserAvatar\";\r\nimport { Container } from \"react-bootstrap\";\r\n\r\nimport ChatBreadcrumb from \"./ChatBreadcrumb\";\r\nimport Header from \"../common/Header\"\r\nimport Footer from \"../common/Footer\"\r\nimport Menubar from \"../common/Menubar\"\r\n\r\nimport ControlChat from './ControlChat'\r\nimport ControlChatMessage from './ControlChatMessage'\r\n\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\n\r\nimport { getUserChat, getAllUserChat } from \"./ChatActions\";\r\n\r\nconst ChatRoom = (props) => {\r\n  const { roomId } = props.match.params;\r\n  // const user_auth = useSelector((state) => state.auth);\r\n  const user_chat = useSelector((state) => state.chats);\r\n  // const messageEl = useRef(null);\r\n  // useEffect(()=>{\r\n  //   getAllUserChat()\r\n  // })\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getAllUserChat(roomId));\r\n  }, [1])\r\n  // console.log(user_chat)\r\n\r\n  const {\r\n    messages,\r\n    user,\r\n    users,\r\n    typingUsers,\r\n    sendMessage,\r\n    startTypingMessage,\r\n    stopTypingMessage,\r\n  } = useChat(1);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n\r\n  const { isTyping, startTyping, stopTyping, cancelTyping } = useTyping();\r\n\r\n  const handleNewMessageChange = (event) => {\r\n    setNewMessage(event.target.value);\r\n  };\r\n\r\n  const handleSendMessage = (event) => {\r\n    event.preventDefault();\r\n    cancelTyping();\r\n    sendMessage(newMessage);\r\n    setNewMessage(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isTyping) startTypingMessage();\r\n    else stopTypingMessage();\r\n  }, [isTyping]);\r\n\r\n  // useEffect(() => {\r\n  //   if (messageEl) {\r\n  //     messageEl.current.addEventListener('DOMNodeInserted', event => {\r\n  //       const { currentTarget: target } = event;\r\n  //       target.scroll({ top: target.scrollHeight, behavior: 'smooth' });\r\n  //     });\r\n  //   }\r\n  // }, [])\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"main-container ace-save-state \" id=\"main-container\" style={{ width: '100%', height: '100%', position: 'fixed', bottom: 0 }}>\r\n        <Menubar />\r\n        <div className=\"main-content\" >\r\n          <div className=\"main-content-inner\" >\r\n            <ChatBreadcrumb />\r\n            <div className=\"page-content\">\r\n              <div className=\"row\">\r\n                <div className=\"col-sm-4\">\r\n                  {user && <ControlChat roomId={roomId} user={user} users={users} />}\r\n\r\n                </div>\r\n                <div className=\"col-sm-8\" >\r\n                          \r\n                        {user && <ControlChatMessage roomId={roomId} user={user} users={users} messages={messages} typingUsers={typingUsers} />}\r\n                        \r\n                        <NewMessageForm\r\n                        newMessage={newMessage}\r\n                        handleNewMessageChange={handleNewMessageChange}\r\n                        handleStartTyping={startTyping}\r\n                        handleStopTyping={stopTyping}\r\n                        handleSendMessage={handleSendMessage}\r\n                      ></NewMessageForm>\r\n\r\n                  {/* <div className=\"col\">\r\n                    \r\n                    <div className=\"col-sm-8\" style={{ width: '62%', position: 'fixed', bottom: \"50px\" }}>\r\n                      <NewMessageForm\r\n                        newMessage={newMessage}\r\n                        handleNewMessageChange={handleNewMessageChange}\r\n                        handleStartTyping={startTyping}\r\n                        handleStopTyping={stopTyping}\r\n                        handleSendMessage={handleSendMessage}\r\n                      ></NewMessageForm>\r\n                    </div>\r\n                  </div> */}\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(ChatRoom);\r\n","// import './index.css';\r\nimport React, { useState, Suspense, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport ReactDOM from \"react-dom\";\r\nimport moment from 'moment';\r\n\r\nimport Clock from 'react-clock';\r\nimport 'react-clock/dist/Clock.css';\r\nimport { ScheduleComponent, ViewsDirective, ViewDirective, Day, Week, WorkWeek, Month, Inject, Resize, DragAndDrop, ResourcesDirective, ResourceDirective, } from '@syncfusion/ej2-react-schedule';\r\n\r\nimport { DateTimePickerComponent } from '@syncfusion/ej2-react-calendars';\r\nimport { DropDownListComponent } from '@syncfusion/ej2-react-dropdowns';\r\nimport { MultiSelectComponent } from '@syncfusion/ej2-react-dropdowns';\r\nimport { extend, isNullOrUndefined, L10n } from '@syncfusion/ej2-base';\r\n\r\nimport \"./material.css\";\r\nimport { addCalendar, getCalendar, updateCalendar, deleteCalendar } from \"./CalendarActions\";\r\nimport FormCalendar from './FormCalendar'\r\nimport CalendarBreadcrumb from \"./CalendarBreadcrumb\";\r\nimport Header from \"../common/Header\"\r\nimport Footer from \"../common/Footer\"\r\nimport Menubar from \"../common/Menubar\"\r\n\r\nL10n.load({\r\n    'en-US': {\r\n        'schedule': {\r\n            'saveButton': 'Lưu',\r\n            'cancelButton': 'Đóng',\r\n            'deleteButton': 'Xóa',\r\n            'newEvent': 'Thêm mới Lịch hội nghị!',\r\n            'editEvent': 'Chỉnh sửa Lịch hội nghị!',\r\n            'deleteEvent': 'Xóa Lịch hội nghị!',\r\n            'editButton': 'Chỉnh sửa',\r\n            'cancelButton': 'Thoát',\r\n\r\n        },\r\n    }\r\n});\r\n/**\r\n * Schedule editor template sample\r\n */\r\nfunction getNextId(id) {\r\n    return id === 3 ? 0 : id + 1;\r\n}\r\n// const initialResource = fetchProfileData(0);\r\nfunction Calendar() {\r\n    const [count, setCount] = useState(0);\r\n    // const [resource, setResource] = useState(initialResource);\r\n    const [Subject, setSubject] = useState();\r\n    const [EventType, setEventType] = useState();\r\n    const [StartTime, setStartTime] = useState();\r\n    const [EndTime, setEndTime] = useState();\r\n    const [Description, setDescription] = useState();\r\n    const [fields, setFields] = useState({ text: 'OwnerText', value: 'Id' });\r\n    // const [fieldEventType, setFieldEventType] = useState({ text: 'EventTypeText', value: 'Id' });\r\n    // const fields = { text: 'OwnerText', value: 'Id' };\r\n    // let [event, setEvent] = useState({Subject: \"\", EventType: \"\", StartTime: \"\", EndTime: \"\", Description:\"\"});\r\n    const dispatch = useDispatch();\r\n    const data = useSelector((state) => state.calendars.calendars); //.results\r\n    // const data = dataSource.scheduleData;\r\n    \r\n    // console.log(data)\r\n    useEffect(() => {\r\n        dispatch(getCalendar())\r\n    }, [])\r\n\r\n    // const [valueTime, setValueTime] = useState(new Date());\r\n    // useEffect(() => {\r\n    //     const interval = setInterval(\r\n    //         () => setValueTime(new Date()),\r\n    //         1000\r\n    //     );\r\n    //     return () => {\r\n    //         clearInterval(interval);\r\n    //     }\r\n    // }, []);\r\n\r\n    const eventType2 = [\r\n        { label: \"Ưu tiên cao\", value: 0 },\r\n        { label: \"Ưu tiên trung bình\", value: 1 },\r\n        { label: \"Ưu tiên thấp\", value: 2 }\r\n    ]\r\n\r\n    const eventType = [\r\n        { OwnerText: \"Ưu tiên cao\", Id: 0, OwnerColor: '#ffaa00' },\r\n        { OwnerText: \"Ưu tiên trung bình\", Id: 1, OwnerColor: '#f8a398' },\r\n        { OwnerText: \"Ưu tiên thấp\", Id: 2, OwnerColor: '#7499e1' }\r\n    ]\r\n\r\n    function onEventRendered(args) {\r\n        switch (args.data.EventType) {\r\n            case 1:\r\n                args.element.style.backgroundColor = '#F57F17';\r\n                break;\r\n            case 2:\r\n                args.element.style.backgroundColor = '#7fa900';\r\n                break;\r\n            case 3:\r\n                args.element.style.backgroundColor = '#8e24aa';\r\n                break;\r\n        }\r\n    }\r\n    let ownerData = [\r\n        { OwnerText: 'Nancy', Id: 1, OwnerColor: '#ffaa00' },\r\n        { OwnerText: 'Steven', Id: 2, OwnerColor: '#f8a398' },\r\n        { OwnerText: 'Michael', Id: 3, OwnerColor: '#7499e1' }\r\n    ];\r\n    const addEventClose = (args) => {\r\n        if (args.type === 'Editor' && !isNullOrUndefined(args.data)) {\r\n            // setSubject(args.data.Subject);\r\n            // setEventType(args.data.EventType);\r\n            // setStartTime(moment(args.data.StartTime).format());\r\n            // setEndTime(moment(args.data.EndTime).format());\r\n            // // setEndTime(moment(args.data.EndTime).format(\"YYYY-MM-DD hh:mm A\"));\r\n            // setDescription(args.data.Description);\r\n\r\n            dispatch(addCalendar(args.data));\r\n        }\r\n        // if (args.type === 'DeleteAlert' && !isNullOrUndefined(args.data)) {\r\n        //     dispatch(deleteCalendar(args.data.Id));\r\n        // }\r\n        // else if (args.type === 'EditEventInfo' && !isNullOrUndefined(args.data)) {\r\n        //     dispatch(updateCalendar(args.data.Id, args.data));\r\n        // }\r\n    }\r\n    \r\n    function editorTemplate(props) {\r\n        \r\n        return ((props !== undefined) ? <table className=\"custom-event-editor\" style={{ width: '100%', cellpadding: '5' }}><tbody>\r\n            <tr><td className=\"e-textlabel\">Tiêu đề</td><td style={{ colspan: '4' }}>\r\n                <input id=\"Summary\" className=\"e-field e-input\" type=\"text\" name=\"Subject\" style={{ width: '100%' }} />\r\n            </td></tr>\r\n            <tr><td className=\"e-textlabel\">Trạng thái</td><td style={{ colspan: '4' }}>\r\n                <DropDownListComponent id=\"EventType\" placeholder='Chọn mức độ mưu tiên' data-name='EventType' className=\"e-field\" style={{ width: '100%' }} dataSource={eventType} fields={fields}  >\r\n                </DropDownListComponent>\r\n            </td></tr>\r\n            <tr><td className=\"e-textlabel\">Thời gian bắt đầu</td><td style={{ colspan: '4' }}>\r\n                <DateTimePickerComponent id=\"StartTime\" format='dd/MM/yyyy hh:mm a' data-name=\"StartTime\" className=\"e-field\" ></DateTimePickerComponent>\r\n            </td></tr>\r\n            <tr><td className=\"e-textlabel\">Thời gian kết thúc</td><td style={{ colspan: '4' }}>\r\n                <DateTimePickerComponent id=\"EndTime\" format='dd/MM/yyyy hh:mm a' data-name=\"EndTime\" className=\"e-field\" ></DateTimePickerComponent>\r\n            </td></tr>\r\n            <tr><td className=\"e-textlabel\">Thành viên tham gia</td><td colSpan={4}>\r\n                <MultiSelectComponent id=\"User_room\" className=\"e-field\" placeholder='Chọn thành viên tham gia' data-name=\"User_room\" dataSource={ownerData} fields={fields} />\r\n            </td></tr>\r\n            <tr><td className=\"e-textlabel\">Địa điểm</td><td style={{ colspan: '4' }}>\r\n                <input id=\"Location\" className=\"e-field e-input\" type=\"text\" name=\"Location\" style={{ width: '100%' }} />\r\n            </td></tr>\r\n            <tr><td className=\"e-textlabel\">Mô tả nội dung họp</td><td style={{ colspan: '4' }}>\r\n                <textarea id=\"Description\" className=\"e-field e-input\" name=\"Description\" rows={2} cols={50} style={{ width: '100%', height: '60px !important', resize: 'vertical' }} ></textarea>\r\n            </td></tr>\r\n        </tbody>\r\n        </table> : <div></div>);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n                <Menubar />\r\n                <div className=\"main-content\">\r\n                    <div className=\"main-content-inner\" >\r\n                        {/* <CalendarBreadcrumb /> */}\r\n                        {/* <div className=\"page-content\"> */}\r\n                            <div className=\"row\">\r\n\r\n                                <div className=\"col-xs-12 col-sm-12\">\r\n                                    <div className=\"control-group\">\r\n\r\n                                        <div className=\"control-section\">\r\n                                            <ScheduleComponent width='100%' height='88vh'\r\n                                                selectedDate={new Date()}\r\n                                                eventSettings={{ dataSource: data }}\r\n                                                editorTemplate={editorTemplate}\r\n                                                // showQuickInfo={false}\r\n                                                eventRendered={onEventRendered}\r\n                                                popupClose={addEventClose}\r\n                                                currentView='Month'\r\n                                            >\r\n                                                {/* <ResourcesDirective>\r\n                                <ResourceDirective field='OwnerId' title='Owner' name='Owners' allowMultiple={false} dataSource={ownerData} textField='OwnerText' idField='Id' allowGroupEdit={false} colorField='OwnerColor'></ResourceDirective>\r\n                            </ResourcesDirective> */}\r\n                                                <ViewsDirective>\r\n                                                    <ViewDirective option='Day' />\r\n                                                    <ViewDirective option='Week' />\r\n                                                    <ViewDirective option='WorkWeek' />\r\n                                                    <ViewDirective option='Month' />\r\n                                                </ViewsDirective>\r\n                                                <Inject services={[Day, Week, WorkWeek, Month, Resize, DragAndDrop]} />\r\n                                            </ScheduleComponent>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* <div className=\"col-xs-12 col-sm-4\">\r\n\r\n                                    <div class=\"widget-box\" style={{ marginTop: \"0px\" }}>\r\n                                        <div class=\"widget-header\">\r\n                                        </div>\r\n                                        <div class=\"widget-body\">\r\n                                            <div className=\"widget-main\" >\r\n                                                <div class=\"row\">\r\n                                                    <div style={{ display: 'flex', justifyContent: \"center\" }}>\r\n                                                        <Clock\r\n                                                            value={valueTime}\r\n                                                            size={235}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div style={{ backgroundColor: \"#EFF3F8\", fontSize: \"20px\", textAlign: \"center\", height: \"50px\", marginTop: \"6px\" }}>Ngày {moment().format(\"DD-MM-YYYY\")}</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div> */}\r\n                            </div>\r\n                        {/* </div> */}\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Calendar;","import React, { useState, useEffect } from \"react\";\r\nimport ColumnSelect from 'react-column-select'\r\n\r\n\r\nfunction CalendarSelectUser(props) {\r\n\r\n    const {user_list, handleUserSelect} = props\r\n\r\n    const [selected, setSelected] = useState([])\r\n\r\n    // console.log(user_list)\r\n   \r\n    const onChange = (values) => {\r\n        \r\n        setSelected(values)\r\n        handleUserSelect(values)\r\n\r\n    }\r\n    // console.log(selected)\r\n    return (\r\n        <>\r\n        {/* {user_list.map(x=>{return(<li key={x.value}>{x.value}</li>)})} */}\r\n            <ColumnSelect\r\n            // defaultValue={hobbies}\r\n            options={user_list}\r\n            onChange={onChange}\r\n            leftHeader='Chọn danh sách thành viên'\r\n            rightHeader='Danh sách thành viên được chọn'\r\n            backgroundColor='#fff'\r\n            isSearchable\r\n            searchFocusBorderColor=\"\"\r\n            theme={{\r\n                buttonBgColor: '#CBD5E0',\r\n                columnBgColor: '#CBD5E0',\r\n                columnBorderColor: '#CCC',\r\n                headerBgColor: '#d6b1ff',\r\n                searchFocusBorderColor: '',\r\n                textColor: '#000000',\r\n                headerBgColor: '#fff',\r\n            }}\r\n        />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CalendarSelectUser\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\"; // new import\r\nimport { Col, Form, FormControl } from \"react-bootstrap\";\r\nimport { createUser } from \"./UserActions\"; // new import\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nfunction getModalStyle() {\r\n  // const top = 50 + rand();\r\n  // const left = 50 + rand();\r\n  const top = 40;\r\n  const left = 50;\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 500,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\n\r\n// function rand() {\r\n//   return Math.round(Math.random() * 20) - 10;\r\n// }\r\n\r\nfunction UserAdd(props) {\r\n  const [email, setEmail] = useState()\r\n  const [username, setUsername] = useState()\r\n  const [password, setPassword] = useState()\r\n  const [re_password, setRe_password] = useState()\r\n  const [errorInput, setErrorInput] = useState()\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const classes = useStyles();\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n\r\n  const onSignupClick = () => {\r\n    if (email === undefined || username === undefined || password === undefined || re_password === undefined) {\r\n      setErrorInput(\"Bạn phải nhật đầy đủ thông tin đăng ký\")\r\n      props.setOpen(true)\r\n    } else {\r\n      const userData = {\r\n        email: email,\r\n        username: username,\r\n        groups: 2,\r\n        password: password,\r\n        re_password: re_password,\r\n      };\r\n      dispatch(createUser(userData));\r\n      props.setOpen(false)\r\n    }\r\n  };\r\n\r\n\r\n  const handleClose = () => {\r\n    props.setOpen(false);\r\n  };\r\n\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <h4 id=\"simple-modal-title\">Thêm mới tài khoản người dùng</h4>\r\n      <hr />\r\n      <Col md=\"12\">\r\n        <Form>\r\n          <Form.Group controlId=\"usernameId\">\r\n          <FormControl.Feedback type=\"invalid\">\r\n              {/* {createUser.usernameError} */}\r\n              <p style={{color: \"red\"}}> {errorInput} </p>\r\n            </FormControl.Feedback>\r\n            <Form.Label>Nhập tên đăng nhập</Form.Label>\r\n            <Form.Control\r\n              // isInvalid={createUser.usernameError}\r\n              type=\"text\"\r\n              name=\"username\"\r\n              placeholder=\"Nhập tên đăng nhập\"\r\n              value={username}\r\n              onChange={e => setUsername(e.target.value)}\r\n            />\r\n            \r\n          </Form.Group>\r\n          <Form.Group controlId=\"usernameId\">\r\n            <Form.Label>Địa chỉ Mail</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"email\"\r\n              placeholder=\"Nhập Địa chỉ Mail\"\r\n              value={email}\r\n              onChange={e => setEmail(e.target.value)}\r\n            />\r\n            <FormControl.Feedback type=\"invalid\">\r\n              {/* {createUser.usernameError} */}\r\n              {/* <p style={{color: \"red\"}}> {errorInput} </p> */}\r\n            </FormControl.Feedback>\r\n          </Form.Group>\r\n          <Form.Group controlId=\"passwordId\">\r\n            <Form.Label>Nhập mật khẩu</Form.Label>\r\n            <Form.Control\r\n              // isInvalid={createUser.passwordError}\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Nhập mật khẩu\"\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}\r\n            />\r\n            <FormControl.Feedback type=\"invalid\">\r\n              {/* {createUser.passwordError} */}\r\n              {/* <p style={{color: \"red\"}}> {errorInput} </p> */}\r\n            </FormControl.Feedback>\r\n          </Form.Group>\r\n          <Form.Group controlId=\"re_passwordId\">\r\n            <Form.Label>Nhập lại mật khẩu:</Form.Label>\r\n            <Form.Control\r\n              // isInvalid={createUser.re_passwordError}\r\n              type=\"password\"\r\n              name=\"re_password\"\r\n              placeholder=\"Nhập lại mật khẩu\"\r\n              value={re_password}\r\n              onChange={e => setRe_password(e.target.value)}\r\n            />\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              {/* {createUser.re_passwordError} */}\r\n              {/* <p style={{color: \"red\"}}> {errorInput} </p> */}\r\n            </Form.Control.Feedback>\r\n          </Form.Group>\r\n        </Form>\r\n        <div style={{ backgroundColor: \"#EFF3F8\", fontSize: \"20px\", textAlign: \"center\", height: \"50px\", marginTop: \"6px\" }}>\r\n          <button type=\"submit\" className=\"btn-sm btn-success\" onClick={onSignupClick} style={{ marginTop: \"6px\" }}>\r\n            <i className=\"ace-icon fa fa-plus icon-on-right bigger-110\" />&nbsp;\r\n            Thêm mới\r\n          </button>\r\n          <button type=\"submit\" className=\"btn-sm \" onClick={handleClose} style={{ marginTop: \"6px\" }}>\r\n            <i className=\"ace-icon fa fa-close icon-on-right bigger-110\" />&nbsp;\r\n            Đóng\r\n          </button>\r\n        </div>\r\n      </Col>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      {body}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(UserAdd)","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\r\nimport ProgressComponent from '@material-ui/core/CircularProgress';\r\nimport { DateTimePickerComponent } from '@syncfusion/ej2-react-calendars';\r\nimport Multiselect from 'multiselect-react-dropdown';\r\nimport CalendarSelectUser from './CalendarSeclectUser'\r\nimport { getUsers, getProfiles } from '../users/UserActions';\r\nimport { addCalendar } from './CalendarActions'\r\nimport Select from \"react-select\";\r\nimport Header from \"../common/Header\"\r\nimport Footer from \"../common/Footer\"\r\nimport Menubar from \"../common/Menubar\"\r\nimport UserAdd from '../users/UserAdd';\r\nimport Modal from '@material-ui/core/Modal';\r\n\r\n\r\nfunction CalendarAddRoom() {\r\n\r\n    const [Subject, setSubject] = useState();\r\n    const [EventTypes, setEventTypes] = useState();\r\n    const [StartTime, setStartTime] = useState();\r\n    const [EndTime, setEndTime] = useState();\r\n    const [Location, setLocation] = useState();\r\n    const [user_control, setUser_control] = useState([]);\r\n    const [user_vip, setUser_vip] = useState([]);\r\n    const [Description, setDescription] = useState();\r\n    const [userAdd, setUserAdd] = useState();\r\n    const [addSuccess, setAddSuccess] = useState(true);\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const data = useSelector(state => state.users.data);\r\n    const profiles = useSelector(state => state.profiles.data);\r\n    // console.log(profiles)\r\n    // const responseting = useSelector(state => state.users.responseting);\r\n    // const messege = useSelector(state => state.users.messege);\r\n    const success = useSelector(state => state.users.success);\r\n    // console.log(data.data)\r\n\r\n    useEffect(() => {\r\n        dispatch(getUsers())\r\n        dispatch(getProfiles())\r\n    }, [])\r\n\r\n    const user_list = data?.map(u => {\r\n        const label = profiles?.find(p => p.user === u.id)?.first_name ? profiles.find(p => p.user === u.id)?.first_name : u.username\r\n        return ({ \"value\": u.id, \"label\": label })\r\n    })\r\n\r\n    // const user_Control = data?.map(u => {\r\n    //     const label = profiles?.find(p => p.user === u.id)?.first_name ? profiles.find(p => p.user === u.id)?.first_name : u.username\r\n    //     return { id: u.id, label: label }\r\n    // })\r\n\r\n    const eventType2 = [\r\n        { value: 0, label: \"Ưu tiên cao\" },\r\n        { value: 1, label: \"Ưu tiên trung bình\" },\r\n        { value: 2, label: \"Ưu tiên thấp\" }\r\n    ]\r\n    const handleChangePro = (EventTypes) => {\r\n        setEventTypes(EventTypes)\r\n    }\r\n    const selectUserControl = (selectedList, selectedItem) =>{\r\n        // console.log(selectedList);\r\n        // console.log(selectedItem);\r\n        setUser_control(selectedList)\r\n    }\r\n    const selectUserVip = (selectedList, selectedItem) =>{\r\n        // console.log(selectedItem);\r\n        setUser_vip(selectedList)\r\n    }\r\n\r\n\r\n    \r\n    const handleUserSelect = (values) => {\r\n        setUserAdd(values)\r\n    }\r\n\r\n    const addCalendarForm = (event) => {\r\n        event.preventDefault();\r\n        var User_room = Array.isArray(userAdd) ? userAdd.map(x => x.value) : []\r\n        var User_control = Array.isArray(user_control) ? user_control.map(x => x.value) : []\r\n        var User_vip = Array.isArray(user_vip) ? user_vip.map(x => x.value) : []\r\n        var EventType = EventTypes.value\r\n        let calendarAdd = {\r\n            Subject, EventType, StartTime, EndTime, Location, Description, User_room, User_control, User_vip\r\n        }\r\n        if (calendarAdd) {\r\n            dispatch(addCalendar(calendarAdd));\r\n            setAddSuccess(true)\r\n        }\r\n        // setSubject(\"\")\r\n        // setEventTypes(\"\")\r\n        // setStartTime(\"\")\r\n        // setEndTime(\"\")\r\n        // setLocation(\"\")\r\n        // setDescription(\"\")\r\n    }\r\n\r\n    const handleFormAdd = () => {\r\n        setOpen(true)\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n                <Menubar />\r\n                <div className=\"main-content\">\r\n                    <div className=\"main-content-inner\" >\r\n                        {/* <CalendarBreadcrumb /> */}\r\n                        <div className=\"page-content\">\r\n\r\n                            <div className=\"row\">\r\n                                <div className=\"widget-box\">\r\n                                    <div className=\"widget-header\">\r\n                                        <h4 className=\"widget-title\">Thêm mới cuộc họp</h4>\r\n                                    </div>\r\n                                    <div className=\"widget-body\">\r\n                                        <div className=\"widget-main\">\r\n                                            <div className=\"row\">\r\n\r\n                                                {/* <form > */}\r\n                                                <div className=\"col-xs-12 col-sm-6\">\r\n                                                    <div className=\"col-sm-12\">\r\n                                                        <span className=\"bigger-110\">Tiêu đề cuộc họp</span>\r\n                                                        <input id=\"Summary\" className=\"e-field e-input\" type=\"text\" name=\"Subject\" value={Subject} style={{ width: '100%' }} onChange={e => setSubject(e.target.value)} />\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"col-sm-12\">\r\n                                                        <span className=\"bigger-110\">Mô tả cuộc họp</span>\r\n                                                        <textarea id=\"Description\" className=\"e-field e-input\" name=\"Description\" rows={2} cols={50} style={{ width: '100%', height: '60px !important', resize: 'vertical' }} value={Description} onChange={e => setDescription(e.target.value)}></textarea>\r\n                                                    </div>\r\n                                                    <div className=\"col-sm-12\">\r\n                                                        <span className=\"bigger-110\">Chọn người chủ trì</span>\r\n                                                        <Multiselect\r\n                                                            displayValue=\"label\"\r\n                                                            onRemove={function noRefCheck() { }}\r\n                                                            onSearch={function noRefCheck() { }}\r\n                                                            onSelect={selectUserVip}\r\n                                                            options={user_list}\r\n                                                            placeholder=\"Chọn người chủ trì\"\r\n                                                        />\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"col-sm-12\">\r\n                                                        <span className=\"bigger-110\">Chọn những người điều khiển</span>\r\n                                                        <Multiselect\r\n                                                            displayValue=\"label\"\r\n                                                            onRemove={function noRefCheck() { }}\r\n                                                            onSearch={function noRefCheck() { }}\r\n                                                            onSelect={selectUserControl}\r\n                                                            options={user_list}\r\n                                                            placeholder=\"Chọn người điều khiển\"\r\n                                                        />\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"col-sm-12\">\r\n                                                        <span className=\"bigger-110\">Thời gian bắt đầu</span>\r\n                                                        <DateTimePickerComponent id=\"StartTime\" format='dd/MM/yyyy hh:mm a' data-name=\"StartTime\" className=\"e-field\" value={StartTime} onChange={e => setStartTime(e.target.value)}></DateTimePickerComponent>\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"col-sm-12\">\r\n                                                        <span className=\"bigger-110\">Thời gian kết thúc</span>\r\n                                                        <DateTimePickerComponent id=\"StartTime\" format='dd/MM/yyyy hh:mm a' data-name=\"EndTime\" className=\"e-field\" value={EndTime} onChange={e => setEndTime(e.target.value)} ></DateTimePickerComponent>\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"col-sm-12\">\r\n                                                        <span className=\"bigger-110\">Địa điểm</span>\r\n                                                        <input id=\"Location\" className=\"e-field e-input\" type=\"text\" name=\"Location\" style={{ width: '100%' }} value={Location} onChange={e => setLocation(e.target.value)} />\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                    <div className=\"col-sm-7\">\r\n                                                        <span className=\"bigger-110\">Mức độc ưu tiên</span>\r\n                                                        <Select\r\n                                                            value={EventTypes}\r\n                                                            onChange={handleChangePro}\r\n                                                            options={eventType2}\r\n                                                            placeholder={\"Chọn mức độ mưu tiên\"}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <hr />\r\n                                                </div>\r\n                                                <div className=\"col-xs-12 col-sm-6\">\r\n                                                    {success\r\n                                                        ? <CalendarSelectUser user_list={user_list} handleUserSelect={handleUserSelect} addSuccess={addSuccess} />\r\n                                                        : <ProgressComponent />\r\n                                                    }\r\n\r\n                                                </div>\r\n                                                <div className=\"space\"></div>\r\n                                                <div className=\"col-sm-6\" style={{ textAlign: \"right\", marginTop: \"12px\" }}>\r\n                                                    <button type=\"submit\" className=\"btn-sm btn-success\" onClick={addCalendarForm}>\r\n                                                        Thêm mới\r\n                                                        {/* <i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" /> */}\r\n                                                    </button>\r\n                                                    &nbsp;&nbsp;&nbsp;\r\n                                                    <button type=\"submit\" className=\"btn-sm\">\r\n                                                        <Link to=\"/cal_meet\" >\r\n                                                            {/* <i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" /> */}\r\n                                                            Trở về danh sách phòng họp\r\n\r\n                                                        </Link>\r\n                                                    </button>\r\n                                                </div>\r\n                                                <div className=\"space\"></div>\r\n                                                <div className=\"col-sm-6\" style={{ textAlign: \"right\", marginTop: \"12px\" }}>\r\n                                                    {/* <button type=\"submit\" className=\"btn-sm\"> */}\r\n                                                    {/* <a onClick={handleFormAdd} style={{cursor: 'pointer'}}> */}\r\n                                                    <Link to={'/user-create'} style={{ cursor: 'pointer' }}>\r\n                                                        <i className=\"ace-icon fa fa-plus icon-on-right bigger-110\" />&nbsp;\r\n                                                        <b>Tạo tài khoản người dùng</b>\r\n                                                    </Link>\r\n                                                    {/* </a> */}\r\n                                                    {/* </button> */}\r\n                                                </div>\r\n                                                {/* </form> */}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div >\r\n                            </div >\r\n                        </div >\r\n                    </div>\r\n                </div>\r\n                <Modal\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    aria-labelledby=\"simple-modal-title\"\r\n                    aria-describedby=\"simple-modal-description\"\r\n                >\r\n                    <UserAdd setOpen={setOpen} />\r\n                </Modal>\r\n                <Footer />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default CalendarAddRoom;","import React, { useState, useEffect } from \"react\";\r\nimport ColumnSelect from 'react-column-select'\r\n\r\n\r\nfunction CalendarSeclectUserEdit(props) {\r\n\r\n    const {user_list, handleUserSelect, userEdit} = props\r\n\r\n    const [selected, setSelected] = useState([])\r\n\r\n    const onChange = (values) => {\r\n        setSelected(values)\r\n        handleUserSelect(values)\r\n    }\r\n    // console.log(selected)\r\n    return (\r\n        <>\r\n        {/* {user_list.map(x=>{return(<li key={x.value}>{x.value}</li>)})} */}\r\n            <ColumnSelect\r\n            defaultValue={userEdit}\r\n            options={user_list}\r\n            onChange={onChange}\r\n            leftHeader='Chọn danh sách thành viên'\r\n            rightHeader='Danh sách thành viên được chọn'\r\n            backgroundColor='#fff'\r\n            // buttonAriaLabel= \"Thêm\"\r\n            isSearchable\r\n            searchFocusBorderColor=\"\"\r\n            theme={{\r\n                buttonBgColor: '#CBD5E0',\r\n                columnBgColor: '#CBD5E0',\r\n                columnBorderColor: '#CCC',\r\n                headerBgColor: '#d6b1ff',\r\n                searchFocusBorderColor: '',\r\n                textColor: '#000000',\r\n                headerBgColor: '#fff',\r\n                \r\n            }}\r\n        />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CalendarSeclectUserEdit\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { withRouter, Redirect, Link, useParams, useHistory } from \"react-router-dom\";\r\nimport ProgressComponent from '@material-ui/core/CircularProgress';\r\nimport { DateTimePickerComponent } from '@syncfusion/ej2-react-calendars';\r\nimport Multiselect from 'multiselect-react-dropdown';\r\nimport CalendarSeclectUserEdit from './CalendarSeclectUserEdit'\r\nimport { getUsers, getProfiles } from '../users/UserActions'\r\nimport { updateCalendar, detailCalendar, getCalendar } from './CalendarActions'\r\nimport Select from \"react-select\";\r\nimport Header from \"../common/Header\"\r\nimport Footer from \"../common/Footer\"\r\nimport Menubar from \"../common/Menubar\"\r\n\r\nfunction CalendarEditRoom() {\r\n    const { Id } = useParams();\r\n    const history = useHistory();\r\n\r\n    const [Subject, setSubject] = useState();\r\n    const [EventTypes, setEventTypes] = useState();\r\n    const [StartTime, setStartTime] = useState();\r\n    const [EndTime, setEndTime] = useState();\r\n    const [Location, setLocation] = useState();\r\n    const [Description, setDescription] = useState();\r\n    const [User_rooms, setUser_rooms] = useState();\r\n    const [user_control, setUser_control] = useState();\r\n    const [user_vip, setUser_vip] = useState();\r\n    const [userEdit, setUserEdit] = useState();\r\n\r\n    const [userAdd, setUserAdd] = useState();\r\n    const [updateSuccess, setUpdateSuccess] = useState(false);\r\n    const [updateData, setUpdateData] = useState(false);\r\n\r\n    const dataRoom2 = useSelector(state => state.calendars.calendarId);\r\n    const dataRooms = useSelector(state => state.calendars.calendars)\r\n    const profiles = useSelector(state => state.profiles.data);\r\n    const dataRoom = dataRooms.filter((item) => item.Id === Id)[0]\r\n\r\n    const data = useSelector(state => state.users.data);\r\n    // const responseting = useSelector(state => state.users.responseting);\r\n    // const messege = useSelector(state => state.users.messege);\r\n    const user_list = data.map(item => {\r\n        const label = profiles.find(p => p.user === item.id)?.first_name ? profiles.find(p => p.user === item.id)?.first_name : item.username\r\n        return ({ \"value\": item.id, \"label\": label })\r\n    })\r\n    // const user_Control = data?.map(u => {\r\n    //     const label = profiles?.find(p => p.user === u.id)?.first_name ? profiles.find(p => p.user === u.id)?.first_name : u.username\r\n    //     return { id: u.id, label: label }\r\n    // })\r\n    const eventType2 = [\r\n        { value: 0, label: \"Ưu tiên cao\" },\r\n        { value: 1, label: \"Ưu tiên trung bình\" },\r\n        { value: 2, label: \"Ưu tiên thấp\" }\r\n    ]\r\n\r\n    const success = useSelector(state => state.users.success);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getUsers())\r\n        dispatch(detailCalendar(Id))\r\n        dispatch(getProfiles())\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (dataRoom) {\r\n            setSubject(dataRoom.Subject)\r\n            setStartTime(dataRoom.StartTime)\r\n            setEndTime(dataRoom.EndTime)\r\n            setLocation(dataRoom.Location)\r\n            setDescription(dataRoom.Description)\r\n\r\n            const EventType1 = eventType2.filter(items => {\r\n                if (items.value === dataRoom.EventType) {\r\n                    return { value: items.value, label: items.label }\r\n                }\r\n            })\r\n            setEventTypes(EventType1)\r\n\r\n            const userEdit2 = data.filter(items => dataRoom.User_room.includes(items.id)).map(item => {\r\n                const label = profiles.find(p => p.user === item.id)?.first_name ? profiles.find(p => p.user === item.id)?.first_name : item.username\r\n                return { value: item.id, label: label };\r\n            })\r\n            setUserEdit(userEdit2)\r\n\r\n            const userCtrEdit2 = data.filter(items => dataRoom.User_control.includes(items.id)).map(item => {\r\n                const label = profiles.find(p => p.user === item.id)?.first_name ? profiles.find(p => p.user === item.id)?.first_name : item.username\r\n                return { value: item.id, label: label };\r\n            })\r\n            setUser_control(userCtrEdit2)\r\n\r\n            const userVipEdit2 = data.filter(items => dataRoom.User_vip.includes(items.id)).map(item => {\r\n                const label = profiles.find(p => p.user === item.id)?.first_name ? profiles.find(p => p.user === item.id)?.first_name : item.username\r\n                return { value: item.id, label: label };\r\n            })\r\n            setUser_vip(userVipEdit2)\r\n\r\n            setUpdateData(true)\r\n        }\r\n    }, [])\r\n\r\n    const handleChangePro = (EventTypes) => {\r\n        setEventTypes(EventTypes)\r\n    }\r\n    const setUsercontrol = () =>{\r\n        setUser_control()\r\n    }\r\n    const selectUserControl = (selectedList, selectedItem) =>{\r\n        setUser_control(selectedList)\r\n    }\r\n    const setUservip = () =>{\r\n        setUser_vip()\r\n    }\r\n    \r\n    const selectUserVip = (selectedList, selectedItem2) =>{\r\n        setUser_vip(selectedList)\r\n    }\r\n    \r\n    const handleUserSelect = (values) => {\r\n        setUserEdit(values)\r\n    }\r\n\r\n    const updateCalendarForm = () => {\r\n        // event.preventDefault();\r\n        var User_room = Array.isArray(userEdit) ? userEdit.map(x => x.value) : []\r\n        var User_control = Array.isArray(user_control) ? user_control.map(x => x.value) : []\r\n        var User_vip = Array.isArray(user_vip) ? user_vip.map(x => x.value) : []\r\n        // console.log(User_room)\r\n        var EventType = EventTypes.value\r\n        let calendarUpdate = {\r\n            Subject, EventType, StartTime, EndTime, Location, Description, User_room, User_control, User_vip\r\n        }\r\n        if (calendarUpdate) {\r\n            dispatch(updateCalendar(Id, calendarUpdate));\r\n            setUpdateSuccess(true)\r\n            // Redirect(\"/cal_meet\")\r\n        }\r\n        history.push(`/cal_edit/${Id}`);\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n                <Menubar />\r\n                <div className=\"main-content\">\r\n                    <div className=\"main-content-inner\" >\r\n                        {/* <CalendarBreadcrumb /> */}\r\n                        <div className=\"page-content\">\r\n                            {success && updateData ?\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-xs-12 col-sm-12\">\r\n                                        <div className=\"widget-box\">\r\n                                            <div className=\"widget-header\">\r\n                                                <h4 className=\"widget-title\">Chỉnh sửa phòng họp - {Id}</h4>\r\n                                            </div>\r\n                                            <div className=\"widget-body\">\r\n                                                <div className=\"widget-main\">\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\"col-xs-12 col-sm-6\">\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <span className=\"bigger-110\">Tiêu đề cuộc họp</span>\r\n                                                                <input id=\"Summary\" className=\"e-field e-input\" type=\"text\" name=\"Subject\" value={Subject} style={{ width: '100%' }} onChange={e => setSubject(e.target.value)} />\r\n                                                            </div>\r\n                                                            <hr />\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <span className=\"bigger-110\">Mô tả cuộc họp</span>\r\n                                                                <textarea id=\"Description\" className=\"e-field e-input\" name=\"Description\" rows={3} cols={50} style={{ width: '100%', height: '60px !important', resize: 'vertical' }} value={Description} onChange={e => setDescription(e.target.value)}></textarea>\r\n                                                            </div>\r\n                                                            <hr />\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <span className=\"bigger-110\">Chọn người chủ trì</span>\r\n                                                                <Multiselect\r\n                                                                    displayValue=\"label\"\r\n                                                                    onRemove={setUservip}\r\n                                                                    onSearch={function noRefCheck() { }}\r\n                                                                    onSelect={selectUserVip}\r\n                                                                    options={user_list}\r\n                                                                    selectedValues={user_vip}\r\n                                                                    placeholder=\"Có thể tìm theo vần\"\r\n                                                                />\r\n                                                            </div>\r\n                                                            <hr />\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <span className=\"bigger-110\">Chọn những người điều khiển</span>\r\n                                                                <Multiselect\r\n                                                                    displayValue=\"label\"\r\n                                                                    onRemove={setUsercontrol}\r\n                                                                    onSearch={function noRefCheck() { }}\r\n                                                                    onSelect={selectUserControl}\r\n                                                                    options={user_list}\r\n                                                                    selectedValues={user_control}\r\n                                                                    placeholder=\"Có thể tìm theo vần\"\r\n                                                                />\r\n                                                            </div>\r\n                                                            <hr />\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <span className=\"bigger-110\">Thời gian bắt đầu</span>\r\n                                                                <DateTimePickerComponent id=\"StartTime\" format='dd/MM/yyyy hh:mm a' data-name=\"StartTime\" className=\"e-field\" value={StartTime} onChange={e => setStartTime(e.target.value)}></DateTimePickerComponent>\r\n                                                            </div>\r\n                                                            <hr />\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <span className=\"bigger-110\">Thời gian kết thúc</span>\r\n                                                                <DateTimePickerComponent id=\"StartTime\" format='dd/MM/yyyy hh:mm a' data-name=\"EndTime\" className=\"e-field\" value={EndTime} onChange={e => setEndTime(e.target.value)} ></DateTimePickerComponent>\r\n                                                            </div>\r\n                                                            <hr />\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <span className=\"bigger-110\">Địa điểm</span>\r\n                                                                <input id=\"Location\" className=\"e-field e-input\" type=\"text\" name=\"Location\" style={{ width: '100%' }} value={Location} onChange={e => setLocation(e.target.value)} />\r\n                                                            </div>\r\n                                                            <hr />\r\n                                                            <div className=\"col-sm-7\">\r\n                                                                <span className=\"bigger-110\">Mức độc ưu tiên</span>\r\n                                                                <Select\r\n                                                                    value={EventTypes}\r\n                                                                    onChange={handleChangePro}\r\n                                                                    options={eventType2}\r\n                                                                    placeholder={\"Chọn mức độ mưu tiên\"}\r\n                                                                />\r\n                                                            </div>\r\n\r\n                                                        </div>\r\n                                                        <div className=\"col-xs-12 col-sm-6\">\r\n                                                            {success && userEdit !== null\r\n                                                                ? <CalendarSeclectUserEdit user_list={user_list} handleUserSelect={handleUserSelect} userEdit={userEdit} />\r\n                                                                : <ProgressComponent />\r\n                                                            }\r\n                                                        </div>\r\n                                                        <hr />\r\n                                                        <div className=\"col-sm-6 wizard-actions\">\r\n                                                            <button type=\"submit\" className=\"btn-sm btn-success\" onClick={updateCalendarForm}>\r\n                                                                Cập nhật\r\n                                                                {/* <i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" /> */}\r\n                                                            </button>\r\n                                                            &nbsp;&nbsp;&nbsp;\r\n                                                            <button type=\"submit\" className=\"btn-sm \">\r\n                                                                <Link to=\"/cal_meet\" >\r\n                                                                    Trở về danh sách phòng họp\r\n                                                                    {/* <i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" /> */}\r\n                                                                </Link>\r\n                                                            </button>\r\n                                                        </div>\r\n                                                        {/* </form> */}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div >\r\n                                    </div >\r\n                                </div >\r\n                                : \" \"}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default withRouter(CalendarEditRoom);","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\n\r\nfunction rand() {\r\n  return Math.round(Math.random() * 20) - 10;\r\n}\r\n\r\nfunction getModalStyle() {\r\n  const top = 50 + rand();\r\n  const left = 50 + rand();\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 400,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\nexport default function CalendarModal() {\r\n  const classes = useStyles();\r\n  // getModalStyle is not a pure function, we roll the style only on the first render\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <h2 id=\"simple-modal-title\">Text in a modal</h2>\r\n      <p id=\"simple-modal-description\">\r\n        Duis mollis, est non commodo luctus, nisi erat porttitor ligula.\r\n      </p>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <button type=\"button\" onClick={handleOpen}>\r\n        Open Modal\r\n      </button>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect, useRef } from 'react'\r\nimport Webcam from 'react-webcam'\r\nimport { Link } from 'react-router-dom'\r\nimport moment from 'moment';\r\nimport CalendarModal from './CalendarModal';\r\n\r\nfunction CalendarListDetail(props) {\r\n    const {className, handleEditCalendar, pageVisited, index, calendar, profiles } = props\r\n    const { Id, Subject, Location, StartTime, EndTime, Description, EventType, User_room, User_vip } = props.calendar\r\n    // const [isActive2, setIsActive2] = useState(false)\r\n    // console.log(props.calendar)\r\n\r\n    const eventType = (EventType) => {\r\n        switch (EventType) {\r\n            case 0:\r\n                return \"Ưu tiên Cao\"\r\n            case 1:\r\n                return \"Ưu tiên Trung bình\"\r\n            case 2:\r\n                return \"Ưu tiên Thấp\"\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const handleToggle = () => {\r\n        handleEditCalendar(Id, calendar)\r\n    }\r\n\r\n    const videoConstraints = {\r\n        width: 200,\r\n        height: 160,\r\n        facingMode: \"user\"\r\n    };\r\n    // const webcamRef = useRef(null);\r\n    // const capture = React.useCallback(\r\n    //     () => {\r\n    //         const imageSrc = webcamRef.current.getScreenshot();\r\n    //     },\r\n    //     [webcamRef]\r\n    // );\r\n\r\n\r\n    return (\r\n\r\n        <tr className={className === 'active' ? `detail-row open {}` : \"detail-row\"} key={index}  >\r\n            <td colSpan={6}>\r\n                <div className=\"row\">\r\n                    <div className=\"col-xs-12 col-sm-3\">\r\n\r\n                        <div className=\"text-center\">\r\n                            <>\r\n                                {/* <Webcam\r\n                                    audio={false}\r\n                                    screenshotFormat=\"image/jpeg\"\r\n                                    videoConstraints={videoConstraints}\r\n                                /> */}\r\n                                {/* <button onClick={capture}>Capture photo</button> */}\r\n                            </>\r\n                            {/* <CalendarModal /> */}\r\n                            <img height={170} className=\"thumbnail inline no-margin-bottom\" alt=\"Domain Owner's Avatar\" src=\"assets\\images\\myimg\\HNTT.jpg\" />\r\n                            {/* <br />\r\n                            <div className=\"width-80 label label-info label-xlg arrowed-in arrowed-in-right\">\r\n                                <div className=\"inline position-relative\">\r\n                                    <a className=\"user-title-label\" href=\"#\">\r\n                                        <i className=\"ace-icon fa fa-circle light-green\" />\r\n                                        &nbsp;\r\n                                        <span className=\"white\">Nguyễn Khắc Hiếu</span>\r\n                                    </a>\r\n                                </div>\r\n                            </div> */}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-xs-12 col-sm-7\">\r\n                        <div className=\"profile-user-info profile-user-info-striped\">\r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\" style={{ width: '150px' }}>Tiêu đề hội nghị </div>\r\n                                <div className=\"profile-info-value\">\r\n                                    <span>{Subject}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\" style={{ width: '150px' }}> Địa điểm </div>\r\n                                <div className=\"profile-info-value\">\r\n                                    <span> {Location}</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\" style={{ width: '150px' }}> Thời gian bắt đầu </div>\r\n                                <div className=\"profile-info-value\">\r\n                                    <span>{moment(StartTime).format(\"hh:mm A - DD/MM/YY\").toString()}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\"> Thời gian kết thúc </div>\r\n                                <div className=\"profile-info-value\">\r\n                                    <span>{moment(EndTime).format(\"hh:mm A - DD/MM/YY\").toString()}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\"> Chủ trì hội nghị: </div>\r\n                                <div className=\"profile-info-value\">\r\n                                {profiles?.filter(p => User_vip.includes(p.user)).map(v => { return <span style={{color:\"blue\"}}>{v.first_name}&nbsp; </span> })}\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\" style={{ width: '150px' }}> Mô tả cuộc hội nghị </div>\r\n                                <div className=\"profile-info-value\">\r\n                                    <span> {Description}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\" style={{ width: '150px' }}> Mức độ ưu tiên </div>\r\n                                <div className=\"profile-info-value\">\r\n                                    <span>{eventType(EventType)}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"profile-info-row\">\r\n                                <div className=\"profile-info-name\" style={{ width: '150px' }}> Tổng số thành viên </div>\r\n                                <div className=\"profile-info-value\">\r\n                                    {(() => {\r\n                                        switch (String(User_room.length).length) {\r\n                                            case 1: return <span>0{User_room.length}</span>;\r\n                                            default: return <span>{User_room.length}</span>;\r\n                                        }\r\n                                    })()}\r\n                                    \r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"col-xs-12 col-sm-2\">\r\n                        <div className=\"clearfix\">\r\n                            <button className=\"pull-right btn-sm btn-white btn-round\" type=\"button\" onClick={handleToggle}>\r\n                            &nbsp;&nbsp;&nbsp;&nbsp;Xem danh sách&nbsp;\r\n                                &nbsp;<i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"hr hr-dotted\" />\r\n                        <div className=\"clearfix\">\r\n                            <button className=\"pull-right btn-sm btn-white btn-round\">\r\n                                <Link to={`/hnth-client/${Id}`} target=\"_blank\">\r\n                                    &nbsp;Tham gia hội nghị&nbsp;\r\n                                    &nbsp;<i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" />\r\n                                </Link>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"hr hr-dotted\" />\r\n                        <div className=\"clearfix\">\r\n                            <button className=\"pull-right btn-sm btn-white btn-round\">\r\n                                <Link to={`/hnth-admin/${Id}`} target=\"_blank\">\r\n                                    Điều khiển hội nghị&nbsp;\r\n                                    <i className=\"ace-icon fa fa-arrow-right icon-on-right bigger-110\" />\r\n                                </Link>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nexport default CalendarListDetail;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { detailCalendar } from \"./CalendarActions\";\r\nimport CalendarListDetail from './CalendarListDetail';\r\nimport moment from 'moment';\r\n\r\nfunction CalendarListItem(props) {\r\n    const [isActive, setActive] = useState(false);\r\n    const [isActive2, setActive2] = useState(false)\r\n    // const [activeIndex, setActiveIndex] = useState(0);\r\n    const [status, setStatus] = useState(\"Chưa diễn ra\")\r\n    const [classType, setClassType] = useState(\"blue\")\r\n\r\n    const { Id, Subject, StartTime, EndTime } = props.calendar\r\n    const {setIsSelected, className, index, idSelected, pageVisited, handleEditCalendar, handleDelCalendar, calendar, profiles } = props\r\n    // const data = useSelector((state) => state.calendars.calendars);\r\n    // const timeNow = new Date().getMilliseconds();\r\n    // const timeStart = new Date(StartTime).getMilliseconds();\r\n    // const timeEnd = new Date(EndTime).getMilliseconds();\r\n\r\n\r\n    useEffect(() => {\r\n        var datenow = new Date()\r\n        var date1 = new Date(StartTime);\r\n        var date2 = new Date(EndTime);\r\n        var date3 = date1 - datenow\r\n        var date4 = date2 - datenow\r\n        if (date4 <= 0) {\r\n            setStatus(\"Đã kết thúc\")\r\n            setClassType(\"orange\")\r\n        }\r\n        if (date3 <= 0 && date4 >= 0) {\r\n            setStatus(\"Đang diễn ra\")\r\n            setClassType(\"green bolder\")\r\n        }\r\n\r\n    }, [calendar])\r\n\r\n    const dispatch = useDispatch();\r\n    // console.log(idSelected)\r\n    const handleToggle = () => {\r\n        props.setActiveIndex(index)\r\n        props.setIsSelected(false)\r\n        // handleEditCalendar(Id, calendar)\r\n    }\r\n\r\n    // useEffect(() => {\r\n    //     if (index === 0) {\r\n    //         setActive2(!isActive2)\r\n    //         setActive(!isActive)\r\n    //     }\r\n    // },[])\r\n\r\n\r\n    // const handleEditCal = () =>{\r\n    //     // let data = {\"id\":1, \"title\":\"HHHHHH\"}\r\n    //     handleEditCalendar(Id, props.calendar)\r\n    // }\r\n    const handleDelCal = () => {\r\n        handleDelCalendar(Id)\r\n    }\r\n    return (\r\n\r\n        <>\r\n            <tr key={index}>\r\n                <td >\r\n                    {index + pageVisited + 1}\r\n                </td>\r\n                <td >\r\n                    <span >{Subject}</span>\r\n                </td>\r\n                <td >\r\n                    <span >{moment(StartTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span>\r\n                </td>\r\n                <td >\r\n                    <span>{moment(EndTime).format(\"hh:mm A - DD/MM/YYYY\").toString()} </span>\r\n                </td>\r\n\r\n                <td className=\"hidden-480\">\r\n                    <span className={classType}>{status}</span>\r\n                </td>\r\n                <td>\r\n                    <div className=\"hidden-sm hidden-xs \">\r\n                        <button className={className === 'active' ? 'btn-xs btn-success' : 'btn-xs'} >\r\n                            <i className={className === 'active' ? 'ace-icon bigger-120 fa fa-eye' : 'ace-icon bigger-120 fa fa-eye-slash'} onClick={() => handleToggle(index)} title=\"Xem chi tiết\" />\r\n                        </button>\r\n                        <button className='btn-xs btn-btn-info' >\r\n                            <Link to={`/cal_edit/${Id}`}>\r\n                                <i className=\"ace-icon fa fa-pencil bigger-120\" />\r\n                            </Link>\r\n                        </button>\r\n                        <button className=\"btn-xs btn-danger\">\r\n                            <i className=\"ace-icon fa fa-trash-o bigger-120\" onClick={handleDelCal} />\r\n                        </button>\r\n                        {/* <button className=\"btn-xs btn-warning\">\r\n                            <i className=\"ace-icon fa fa-flag bigger-120\" />\r\n                        </button> */}\r\n                    </div>\r\n\r\n                </td>\r\n            </tr>\r\n            {Id ? <CalendarListDetail className ={className} calendar={calendar} profiles={profiles} idSelected={idSelected} isActive={isActive} isActive2={isActive2} pageVisited={pageVisited} index={index} handleEditCalendar={handleEditCalendar} /> : \"\"}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CalendarListItem\r\n\r\n","import React from 'react'\r\nimport ReactPaginate from \"react-paginate\"\r\n\r\nconst CalendarPagination = (props) => {\r\n    const { pageCount, onPageChange, counts, pageVisited } = props\r\n    // console.log(pageCount)\r\n    // console.log(onPageChange)\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-xs-6\">\r\n                <div className=\"dataTables_info\" id=\"dynamic-table_info\" role=\"status\" aria-live=\"polite\">Hiển thị từ { pageVisited + 1} đến { (pageVisited + 10) < counts ? pageVisited + 10 : counts } trong tổng {counts} phòng họp</div>\r\n            </div>\r\n            <div className=\"col-xs-6\">\r\n\r\n                <div className=\"dataTables_paginate paging_simple_numbers\" id=\"dynamic-table_paginate\">\r\n                    <ReactPaginate\r\n                        previousLabel={\"Về trang trước\"}\r\n                        nextLabel={\"Trang tiếp theo\"}\r\n                        containerClassName={\"pagination\"}\r\n                        previousClassName={\"paginate_button previous\"}\r\n                        nextLinkClassName={\"paginate_button next\"}\r\n                        disabledClassName={\"disabled\"}\r\n                        activeClassName={\"active\"}\r\n                        pageCount={pageCount}\r\n                        onPageChange={onPageChange}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CalendarPagination\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter, useHistory } from \"react-router-dom\";\r\nimport { useFullScreen } from \"react-browser-hooks\";\r\nimport { setJitsiStore } from \"../jitsi/JitsiActions\"\r\nimport ProgressComponent from '@material-ui/core/CircularProgress';\r\nimport UserList from \"../chat/UserList\";\r\n\r\nfunction CalendarJitsi(props){\r\n    // const { roomId } = props.match.params;\r\n    const {Id, Subject} = props\r\n    const user_auth = useSelector((state) => state.auth);\r\n    const [users, setUsers] = useState([]);\r\n    const [user, setUser] = useState(user_auth.user.username);\r\n    const socketRef = useRef();\r\n    const { toggle, fullScreen } = useFullScreen();\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const domain = 'meet.jit.si';\r\n    let api = {};\r\n    const [room, setRoom] = useState(\"CNTTQK7\");\r\n    const [loading, setLoading] = useState(true);\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n        setRoom(Subject)\r\n    }, [])\r\n\r\n    const jitsiContainerStyle = {\r\n        display: (loading ? 'none' : 'block'),\r\n        width: '100%',\r\n        height: '300px',\r\n    }\r\n\r\n    const startMeet = () => {\r\n        const options = {\r\n            roomName: Id,\r\n            width: '100%',\r\n            height: \"300px\",\r\n            configOverwrite: { prejoinPageEnabled: false },\r\n            interfaceConfigOverwrite: {\r\n                // overwrite interface properties\r\n                filmStripOnly: false,\r\n                SHOW_JITSI_WATERMARK: false,\r\n                SHOW_WATERMARK_FOR_GUESTS: false,\r\n                DISABLE_DOMINANT_SPEAKER_INDICATOR: true,\r\n                TILE_VIEW_MAX_COLUMNS: 2,\r\n                TOOLBAR_BUTTONS: ['microphone', 'camera', 'chat', 'hangup', 'fullscreen', 'tileview', 'desktop', 'sharedvideo'],\r\n            },\r\n            parentNode: document.querySelector('#jitsi-iframe'),\r\n            userInfo: {\r\n                displayName: user,\r\n            }\r\n        }\r\n        api = new window.JitsiMeetExternalAPI(domain, options);\r\n        api.addEventListener('videoConferenceJoined', () => {\r\n            // console.log('Local User Joined');\r\n            setLoading(false);\r\n        });\r\n        api.addEventListeners({\r\n            readyToClose: handleClose,\r\n            participantLeft: handleParticipantLeft,\r\n            participantJoined: handleParticipantJoined,\r\n            videoConferenceJoined: handleVideoConferenceJoined,\r\n            videoConferenceLeft: handleVideoConferenceLeft,\r\n            audioMuteStatusChanged: handleMuteStatus,\r\n            videoMuteStatusChanged: handleVideoStatus\r\n        });\r\n        api.executeCommand('subject', Subject);\r\n        api.executeCommand('setLargeVideoParticipant', 'abcd1234');\r\n        api.executeCommand('avatarUrl', 'assets/images/avatars/user.jpg');\r\n        // console(api.getNumberOfParticipants())\r\n\r\n        dispatch(setJitsiStore(api));\r\n    }\r\n\r\n    const handleClose = () => {\r\n        console.log(\"handleClose\");\r\n    }\r\n    const handleParticipantLeft = async (participant) => {\r\n        console.log(\"handleParticipantLeft\", participant); // { id: \"2baa184e\" }\r\n        const data = await getParticipants();\r\n    }\r\n    const handleParticipantJoined = async (participant) => {\r\n        console.log(\"handleParticipantJoined\", participant); // { id: \"2baa184e\", displayName: \"Shanu Verma\", formattedDisplayName: \"Shanu Verma\" }\r\n        const data = await getParticipants();\r\n        console.log(data)\r\n    }\r\n    const handleVideoConferenceJoined = async (participant) => {\r\n        console.log(\"handleVideoConferenceJoined\", participant); // { roomName: \"bwb-bfqi-vmh\", id: \"8c35a951\", displayName: \"Akash Verma\", formattedDisplayName: \"Akash Verma (me)\"}\r\n        const data = await getParticipants();\r\n    }\r\n    const handleVideoConferenceLeft = () => {\r\n        console.log(\"handleVideoConferenceLeft\");\r\n        return history.push('/dashboard');\r\n    }\r\n\r\n    const handleMuteStatus = (muted) => {\r\n        console.log(\"handleMuteStatus\", muted); // { muted: true } \r\n        // setIsAudioMuted(muted)\r\n    }\r\n\r\n    const handleVideoStatus = (video) => {\r\n        console.log(\"handleVideoStatus\", video); // { muted: true }\r\n    }\r\n\r\n    const getParticipants = () => {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                resolve(api.getParticipantsInfo()); // get all participants\r\n            }, 500)\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (window.JitsiMeetExternalAPI) {\r\n            startMeet();\r\n        } else {\r\n            alert('JitsiMeetExternalAPI not loaded');\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n\r\n            { (user_auth.user.rules === \"1\" || user_auth.user.rules === \"0\") && (\r\n                <div id=\"sidebar\" className=\"sidebar responsive  ace-save-state \">\r\n\r\n                    < ul className=\"nav nav-list\" >\r\n                        <UserList users={users} ></UserList>\r\n                    </ul >\r\n                    <div className=\"sidebar-toggle sidebar-collapse\" id=\"sidebar-collapse\">\r\n                        <i id=\"sidebar-toggle-icon\" className=\"ace-icon fa fa-angle-double-left ace-save-state\" data-icon1=\"ace-icon fa fa-angle-double-left\" data-icon2=\"ace-icon fa fa-angle-double-right\" />\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n\r\n\r\n            <div style={{ display: 'flex', marginRight: '0px', overflow: 'scroll initial', height: '30vh'   }} >\r\n                {loading && <ProgressComponent style={{marginLeft: '45%', marginTop: '20%', width: '5%', height: '5%'}} />}\r\n                \r\n                <div id=\"jitsi-iframe\" style={jitsiContainerStyle}\r\n                ></div>\r\n\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(CalendarJitsi);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setJitsiStore, setAudioAll, setAudio, setVideoAll, setFullAll } from \"../jitsi/JitsiActions\"\r\n\r\nimport { useFullScreen } from \"react-browser-hooks\";\r\n\r\nconst ControlList = () => {\r\n\r\n    const apiStore = useSelector((state) => state.jitsi);\r\n    const jitsiState = useSelector((state) => state.jitsi);\r\n    const api = apiStore.jitsiStrore;\r\n    const [stateAudio, setStateAudio] = useState(jitsiState.stateAudio)\r\n    const [stateCamera, setStateCamera] = useState(true)\r\n    const [stateShare, setStateShare] = useState(true)\r\n    const [stateChat, setStateChat] = useState(true)\r\n    const [stateCameraMirror, setStateCameraMirror] = useState(true)\r\n    const [stateTileView, setStateTileView] = useState(true)\r\n    const [stateFull, setStateFull] = useState(true)\r\n    const [stateRaiseHand, setStateRaiseHand] = useState(true)\r\n    const [stateFilmStrip, setStateFilmStrip] = useState(true)\r\n\r\n    const [fullDesktop, setFullDesktop] = useState(false)\r\n    const [numberOfParticipants, setNumberOfParticipants] = useState()\r\n    const dispatch = useDispatch();\r\n\r\n    // useEffect(()=>{\r\n    //     // const numberOfParticipants = api.getNumberOfParticipants();\r\n    //     // setNumberOfParticipants(numberOfParticipants)\r\n    //     const infoMy = api.getParticipantsInfo()\r\n    //     console.log(infoMy)\r\n    //     console.log(infoMy[0].participantId)\r\n    // }, [api])\r\n\r\n\r\n    const { toggle, fullScreen } = useFullScreen();\r\n    const handleFullDesktop = () => {\r\n        toggle();\r\n        setFullDesktop(!fullDesktop);\r\n    }\r\n    const audioOneClick = () =>{\r\n        api.executeCommand('toggleAudio');\r\n        // api.executeCommand('toggleFilmStrip');//An hien khung anh doc\r\n        // api.executeCommand('setLargeVideoParticipant', 'abcd1234');\r\n        // api.executeCommand('setVideoQuality', 1080);\r\n        // api.executeCommand('muteEveryone');\r\n        // api.dispose();\r\n        // api.executeCommand('avatarUrl', 'https://avatars0.githubusercontent.com/u/3671647');\r\n        // api.executeCommand('sendTones', {\r\n        //     tones: '12345#', // The dial pad touch tones to play. For example, '12345#'.\r\n        //     duration: 200, // Optional. The number of milliseconds each tone should play. The default is 200.\r\n        //     pause: 200 // Optional. The number of milliseconds between each tone. The default is 200.\r\n        // });\r\n        setStateAudio(!stateAudio)\r\n        dispatch(setAudio(!jitsiState.stateAudio))\r\n        console.log(jitsiState.stateAudio)\r\n    }\r\n    const videoOneClick = () =>{\r\n        api.executeCommand('toggleVideo');\r\n        setStateCamera(!stateCamera)\r\n    }\r\n    const shareScreenClick = () =>{\r\n        api.executeCommand('toggleShareScreen');\r\n        setStateShare(!stateShare)\r\n    }\r\n    const chatClick = () =>{\r\n        api.executeCommand('toggleChat');\r\n        setStateChat(!stateChat)\r\n    }\r\n    const cameraMirrorClick = () =>{\r\n        api.executeCommand('toggleCameraMirror');\r\n        // room.setLocalParticipantProperty('raised-hand', true)\r\n        setStateCameraMirror(!stateCameraMirror)\r\n    }\r\n    const tileViewClick = () =>{\r\n        api.executeCommand('toggleTileView');\r\n        setStateTileView(!stateTileView)\r\n    }\r\n    const filmStripClick = () =>{\r\n        api.executeCommand('toggleFilmStrip');\r\n        setStateFilmStrip(!stateFilmStrip)\r\n    }\r\n\r\n\r\n\r\n    \r\n    const raiseHandClick = () =>{\r\n        // const infoMy = api.getParticipantsInfo()\r\n        // console.log(infoMy)\r\n        // console.log(infoMy[0].participantId)\r\n        // const numberOfParticipants = api.getNumberOfParticipants();\r\n        // console.log(numberOfParticipants)\r\n        // api.addEventListener(\r\n        //     {\r\n        //         id: infoMy[0].participantId,         \r\n        //         handRaised: true // whether hand raised or lowered\r\n        //     }\r\n        //   );\r\n        //   console.log(handleParticipantLeft())\r\n        api.executeCommand('toggleRaiseHand');\r\n          setStateRaiseHand(!stateRaiseHand)\r\n    }\r\n\r\n    \r\n    return (\r\n        <div className=\"navbar-buttons navbar-header \" role=\"navigation\" style={{ marginTop: '10px', textAlign: \"center\"}}>\r\n            <div className=\"pull-right action-buttons\">\r\n                <button className=\"blue\" onClick={audioOneClick} title=\"Tắt/Mở Micro\">\r\n                    {jitsiState.stateAudioAll ? (<i className=\"ace-icon fa fa-microphone green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-microphone-slash red bigger-160\" /> )}\r\n                </button>\r\n                <span className=\"vbar\" />\r\n                <button className=\"blue\" onClick={videoOneClick} title=\"Tắt/Mở Camera\">\r\n                    {stateCamera ? (<i className=\"ace-icon fa fa-video-camera green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-file-movie-o red bigger-160\" /> )}\r\n                </button>\r\n                <button className=\"blue\" onClick={shareScreenClick} title=\"Chia sẻ màn hình\">\r\n                    {stateShare ? (<i className=\"ace-icon fa fa-share-square-o green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-share-square red bigger-160\" /> )}\r\n                </button>\r\n\r\n                <button className=\"blue\" onClick={chatClick} title=\"Trao đổi thông tin\">\r\n                    {stateChat ? (<i className=\"ace-icon fa  fa-comments-o  green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-comments-o red bigger-160\" /> )}\r\n\r\n                </button>\r\n                <button className=\"blue\" onClick={raiseHandClick} title=\"Đăng ký phát biểu\">\r\n                    {stateRaiseHand ? (<i className=\"ace-icon fa fa-hand-paper-o  green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-hand-rock-o red bigger-160\" /> )}\r\n                </button>\r\n                <button className=\"blue\" onClick={tileViewClick} title=\"Thay đổi giao diện hình ảnh\">\r\n                    {stateTileView ? (<i className=\"ace-icon fa fa-th-large green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-desktop red bigger-160\" /> )}\r\n\r\n                </button>\r\n                <button className=\"blue\" onClick={handleFullDesktop} title=\"Phóng to/Thu nhỏ màn hình\">\r\n                    {/* <i className=\"ace-icon fa fa-external-link-square fa fa-film green bigger-160\" /> */}\r\n                    {!fullDesktop ? (<i className=\"ace-icon fa fa-arrows-alt green bigger-160\" />) : (<i className=\"ace-icon fa fa-compress red bigger-160\" />)}\r\n\r\n                </button>\r\n                <button className=\"blue\" onClick={cameraMirrorClick} title=\"Lật hình ảnh Camera\">\r\n                    {stateCameraMirror ? (<i className=\"ace-icon fa fa-exchange  green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-file-image-o red bigger-160\" /> )}\r\n\r\n                </button>\r\n                <button className=\"blue\" onClick={filmStripClick} title=\"Hiển thị/Tắt hiển thị hình ảnh các thành viên\">\r\n                    {stateFilmStrip ? (<i className=\"ace-icon fa fa-film  green bigger-160\" /> ) : (<i className=\"ace-icon fa fa-film red bigger-160\" /> )}\r\n\r\n                </button>\r\n                {(numberOfParticipants)&&(\r\n                    <button className=\"blue\" title=\"Hiển thị/Tắt hiển thị hình ảnh các thành viên\">\r\n                    <i className=\"ace-icon fa fa-group green bigger-160\" /> \r\n                    \r\n                    &nbsp;&nbsp; {numberOfParticipants}\r\n                </button>\r\n                )}\r\n                \r\n\r\n\r\n\r\n            </div>\r\n            {/* <button href=\"/\"><span className=\"badge badge-important\">Trang chủ</span></button>\r\n                  <span className=\"badge badge-important\"><a className=\"dropdown-toggle\" href=\"/\"></a>Trang chủ</span> */}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ControlList;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Iframe from 'react-iframe'\r\nimport moment from 'moment';\r\nimport CalendarJitsi from './CalendarJitsi';\r\nimport ControlList from './ControlList';\r\n\r\nfunction CalendarToday(props) {\r\n    const { index, cal } = props;\r\n    const [status, setStatus] = useState(\"Chưa diễn ra\")\r\n    const [statusNum, setStatusNum] = useState(3)\r\n    const [classType, setClassType] = useState(\"search-promotion label label-blue arrowed-in arrowed-in-right\")\r\n\r\n    useEffect(() => {\r\n        var datenow = new Date()\r\n        var date1 = new Date(cal.StartTime);\r\n        var date2 = new Date(cal.EndTime);\r\n        var date3 = date1 - datenow\r\n        var date4 = date2 - datenow\r\n        if (date4 <= 0) {\r\n            setStatus(\"Đã kết thúc\")\r\n            setStatusNum(0)\r\n            setClassType(\"search-promotion label label-danger arrowed-in arrowed-in-right\")\r\n        }\r\n        if (date3 <= 0 && date4 >= 0) {\r\n            setStatus(\"Đang diễn ra\")\r\n            setStatusNum(1)\r\n            setClassType(\"search-promotion label label-success arrowed-in arrowed-in-right\")\r\n        }\r\n\r\n    }, [props.calendar])\r\n    return (\r\n        <>\r\n            {cal && statusNum === 1 ?\r\n                <div className=\"col-xs-12 col-sm-12 col-md-12\" key={index} style={{ padding: \"1px\" }}>\r\n                    <div className=\"thumbnail search-thumbnail\">\r\n                        <span className={classType}><b>{status}</b></span>\r\n                        {/* <iframe  src=\"https://meet.jit.si/Hieu\" style={{height: \"300px\", width: \"100%\", border: \"0px\"}}></iframe> */}\r\n                        {/* <Iframe url=\"https://meet.jit.si/Hieu\"\r\n                            width=\"100%\"\r\n                            height=\"300px\"\r\n                            // id=\"myId\"\r\n                            // className=\"myClassname\"\r\n                            display=\"initial\"\r\n                            position=\"relative\"\r\n                            allow=\"camera; microphone; fullscreen; display-capture; autoplay\" \r\n                            /> */}\r\n                        <CalendarJitsi id={cal.Id} Subject={cal.Subject} />\r\n                        <ControlList />\r\n                        <div className=\"caption\">\r\n                            <div className=\"clearfix\">\r\n                                <span className=\"pull-right label label-grey info-label\">Địa điểm: {cal.Location}</span>\r\n\r\n                            </div>\r\n                            <h5 className=\"search-title\">\r\n                                <a href=\"#\" className=\"blue\">{cal.Subject}</a>\r\n                            </h5>\r\n                            {/* <p>{cal.Description}</p> */}\r\n                            <span >Thời gian từ {moment(cal.StartTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span> &nbsp;\r\n                            <span >đến {moment(cal.EndTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                :\r\n                <div className=\"col-xs-6 col-sm-6 col-md-6\" key={index} style={{ padding: \"1px\" }}>\r\n                    <div className=\"thumbnail search-thumbnail\">\r\n                        <span className={classType}><b>{status}</b></span>\r\n                        <img className=\"media-object\" alt=\"100%x200\" style={{ height: 120, width: '100%', display: 'block' }} src=\"assets/images/myimg/HNTT.jpg\" data-holder-rendered=\"true\" />\r\n                        {/* <iframe src=\"https://meet.jit.si/Hieu\" style={{ height: \"200px\", width: \"100%\", border: \"0px\" }}></iframe> */}\r\n                        <div className=\"caption\">\r\n                            <div className=\"clearfix\">\r\n                                <span className=\"pull-right label label-grey info-label\">Địa điểm: {cal.Location}</span>\r\n\r\n                            </div>\r\n                            <h5 className=\"search-title\">\r\n                                <a href=\"#\" className=\"blue\">{cal.Subject}</a>\r\n                            </h5>\r\n                            {/* <p>{cal.Description}</p> */}\r\n                            <span >Thời gian từ {moment(cal.StartTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span> &nbsp;\r\n                            <span >đến {moment(cal.EndTime).format(\"hh:mm A - DD/MM/YYYY\").toString()}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CalendarToday\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom'\r\nimport { getUsers, getProfiles } from '../users/UserActions';\r\nimport { getCalendar, deleteCalendar } from \"./CalendarActions\";\r\nimport CalendarListItem from './CalendarListItem'\r\nimport CalendarPagination from './CalendarPagination';\r\nimport CalendarToday from './CalendarToday';\r\nimport moment from 'moment'\r\n\r\nimport Clock from 'react-clock';\r\nimport 'react-clock/dist/Clock.css';\r\n\r\nfunction CalendarList(props) {\r\n    const { handleUpdate } = props\r\n\r\n    const dataUser = useSelector(state => state.users.data);\r\n    const profiles = useSelector(state => state.profiles.data);\r\n    const data = useSelector((state) => state.calendars.calendars);\r\n    // const dataRoom = dataRooms.filter((item) => item.Id === Id)[0]\r\n    const [userSelected, setUserSelected] = useState([])\r\n    const [isSelected, setIsSelected] = useState(false)\r\n    const [idSelected, setIdSelected] = useState()\r\n    const [activeIndex, setActiveIndex] = useState(0);\r\n    const [pageNumber, setPageNumber] = useState(0);\r\n    const calPerPage = 5\r\n    const pageVisited = pageNumber * calPerPage\r\n\r\n    data.sort((a, b) => {\r\n        if (a.StartTime > b.StartTime) {\r\n            return -1;\r\n        }\r\n        if (a.StartTime < b.StartTime) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    });\r\n\r\n    const [value, setValue] = useState(new Date());\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(\r\n            () => setValue(new Date()),\r\n            1000\r\n        );\r\n        return () => {\r\n            clearInterval(interval);\r\n        }\r\n    }, []);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getCalendar())\r\n        dispatch(getUsers())\r\n        dispatch(getProfiles())\r\n    }, [])\r\n\r\n    const handleEdit = (Id, dataUserSelect) => {\r\n        setUserSelected(dataUserSelect.User_room)\r\n        setIdSelected(Id)\r\n        setIsSelected(true)\r\n    }\r\n    // console.log(idSelected)\r\n    const List_user_room = dataUser?.filter(items => userSelected.includes(items.id)).map((item, index) => {\r\n        return (\r\n            <tr key={index}>\r\n                <td >\r\n                    {index + 1}\r\n                </td>\r\n                <td >\r\n                    {profiles.find(p => p.user === item.id).first_name ? profiles.find(p => p.user === item.id).first_name : item.username}\r\n                </td>\r\n                <td style={{textAlign:\"center\", color:\"green\"}}>\r\n                    {(() => {\r\n                        switch (String(item.groups)) {\r\n                            case '1':\r\n                                return <span >Quản trị hệ thống </span>\r\n                            case '2':\r\n                                return <span style={{fontWeight:\"bold\", color:\"blue\"}}>Chủ trì phòng họp </span>\r\n                            default:\r\n                                return <span >Thành viên </span>\r\n                        }\r\n                    })()}\r\n\r\n                </td>\r\n            </tr>\r\n        )\r\n    })\r\n\r\n    const handleDel = (Id) => {\r\n        dispatch(deleteCalendar(Id))\r\n    }\r\n\r\n    const pageCount = Math.ceil(data.length / calPerPage)\r\n    const List_calendar = data\r\n        .slice(pageVisited, pageVisited + calPerPage)\r\n        .map((calendar, index) => {\r\n            const className = activeIndex === index ? 'active' : 'disable';\r\n            return (\r\n                <CalendarListItem setIsSelected={setIsSelected} setActiveIndex={setActiveIndex} className={className} idSelected={idSelected} key={index} index={index} calendar={calendar} profiles={profiles} pageVisited={pageVisited} handleEditCalendar={handleEdit} handleDelCalendar={handleDel} />\r\n            )\r\n        });\r\n\r\n    const changePage = ({ selected }) => {\r\n        setPageNumber(selected)\r\n    }\r\n    const today = new Date()\r\n\r\n    // console.log(moment(today).format(\"DD-MM-YY\").toString())\r\n\r\n    const CalendarTodays = data?.filter(x => moment(x.StartTime).format(\"DD-MM-YY\").toString() === moment(today).format(\"DD-MM-YY\").toString()).map((cal, index) => {\r\n        return (\r\n            <CalendarToday key={index} index={index} cal={cal} />\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className=\"row\" style={{ marginLeft: \"-24px\", marginRight: \"-24px\", backgroundColor:\"white\" }}>\r\n            <div className=\"col-xs-12 col-sm-8\">\r\n                <div className=\"control-group\">\r\n                    <div className=\"dataTables_wrapper form-inline no-footer\" style={{ flex: 1, maxHeight: '76vh', overflowY: 'auto' }}>\r\n                        <table id=\"simple-table\" className=\"table  table-bordered table-hover\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th >TT</th>\r\n                                    <th >Tiêu đề cuộc họp</th>\r\n                                    <th >Thời gian bắt đầu</th>\r\n                                    <th >Thời gian kết thúc</th>\r\n                                    <th >Trạng thái</th>\r\n                                    <th className=\"hidden-480\" style={{ width: \"120px\" }}>\r\n                                        <button className=\"pull-right btn-sm btn-white btn-round\">\r\n                                            <Link to='/cal_add'>\r\n                                                <i className=\"menu-icon fa fa-plus\" />&nbsp;\r\n                                                <span className=\"menu-text\">Thêm mới</span>\r\n                                            </Link>\r\n                                        </button>\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {List_calendar}\r\n                            </tbody>\r\n                        </table>\r\n                        \r\n                    </div>\r\n                    <div className=\"dataTables_wrapper form-inline no-footer\" >\r\n                    <CalendarPagination pageCount={pageCount} onPageChange={changePage} counts={data?.length} pageVisited={pageVisited} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-xs-12 col-sm-4\">\r\n                {isSelected ?\r\n                    <div className=\"control-group\" >\r\n                        <div className=\"dataTables_wrapper form-inline no-footer\" style={{ flex: 1, maxHeight: '84vh', overflowY: 'auto' }}>\r\n\r\n                            <table id=\"simple-table\" className=\"table  table-bordered table-hover\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th style={{textAlign:\"center\"}}>TT</th>\r\n                                        <th style={{textAlign:\"center\"}}>Tên thành viên</th>\r\n                                        <th style={{textAlign:\"center\"}}>Vai trò</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody >\r\n                                    {\r\n                                        List_user_room\r\n                                    }\r\n                                </tbody>\r\n                            </table>\r\n\r\n                        </div>\r\n                    </div>\r\n                    :\r\n                    <div className=\"widget-box\" style={{ marginTop: \"0px\" }}>\r\n                        <div className=\"widget-header\">\r\n                        </div>\r\n                        <div className=\"widget-body\">\r\n                            <div className=\"widget-main\" >\r\n                                <div className=\"row\" >\r\n                                    <div style={{ display: 'flex', justifyContent: \"center\" }}>\r\n                                        <Clock\r\n                                            value={value}\r\n                                            size={235}\r\n                                        />\r\n                                    </div>\r\n                                    <div style={{ backgroundColor: \"#EFF3F8\", fontSize: \"20px\", textAlign: \"center\", height: \"50px\", marginTop: \"6px\" }}>Ngày {moment().format(\"DD-MM-YYYY\")}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CalendarList\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./material.css\";\r\nimport CalendarList from \"./CalendarList\";\r\nimport CalendarBreadcrumb from \"./CalendarBreadcrumb\";\r\nimport Header from \"../common/Header\"\r\nimport Footer from \"../common/Footer\"\r\nimport Menubar from \"../common/Menubar\"\r\n\r\nfunction CalendarMeet() {\r\n\r\n    // const [Id_cal, setId_cal] = useState()\r\n    // const [itemCalendar, setItemCalendar] = useState()\r\n\r\n    // const handleUpdate = (Id, data) => {\r\n    //     setId_cal(Id)\r\n    //     setItemCalendar(data)\r\n    // }\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n                <Menubar />\r\n                <div className=\"main-content\">\r\n                    <div className=\"main-content-inner\" >\r\n                        {/* <CalendarBreadcrumb /> */}\r\n\r\n                        <div className=\"page-content\">\r\n                            <CalendarList />\r\n                            {/* handleUpdate={handleUpdate} */}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default CalendarMeet;","import React from \"react\";\r\n\r\nfunction Avatar(props) {\r\n  const { id, image, isOnline } = props;\r\n  return (\r\n    <div className=\"avatar\" >\r\n      <div className=\"avatar-img\">\r\n        <img src={image} alt=\"#\" />\r\n      </div>\r\n      <span className={`isOnline ${isOnline}`}></span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Avatar;\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Avatar from \"./Avatar\";\r\n\r\nfunction ChatListItems(props) {\r\n  const {handleChatGroup, isOnline, active, fullname, image, animationDelay, id} = props;\r\n  const selectChat = (e) => {\r\n    for (\r\n      let index = 0;\r\n      index < e.currentTarget.parentNode.children.length;\r\n      index++\r\n    ) {\r\n      e.currentTarget.parentNode.children[index].classList.remove(\"active\");\r\n    }\r\n    e.currentTarget.classList.add(\"active\");\r\n\r\n    handleChatGroup(id)\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{ animationDelay: `0.${animationDelay}s` }}\r\n      onClick={selectChat}\r\n      className={`chatlist__item ${active ? active : \"\"\r\n        } `}\r\n        key={id}\r\n    >\r\n      <Avatar\r\n        image={\r\n          image ? image : \"http://placehold.it/80x80\"\r\n        }\r\n        isOnline={isOnline}\r\n      />\r\n\r\n      <div className=\"userMeta\">\r\n        <p>{fullname}</p>\r\n        <span className=\"activeTime\">32 mins ago</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatListItems;","import axios from \"axios\";\r\nimport { toastOnError } from \"../../utils/Utils\";\r\nimport { GET_USER_CHAT, GET_ALL_USER_CHAT, GET_CHAT_MESSAGES, POST_CHAT_MESSAGES, REMOVE_GET_CHAT_MESSAGES, GET_CHAT_GROUPS_SUCCESS, GET_CHAT_GROUPS_LOAD, GET_CHAT_GROUPS_ERROR , GET_CHAT_GROUP } from \"./ChatTypes\";\r\n\r\nconst SOCKET_SERVER_URL = \"http://localhost:4000\";\r\n\r\nexport const getUserChat = () => async dispatch => {\r\n  await axios\r\n    .get(\"/api/v1/users/me\")\r\n    .then(response => {\r\n      // console.log(response.data)\r\n      dispatch({\r\n        type: GET_USER_CHAT,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\n\r\nexport const getChatGroups = () => async dispatch => {\r\n  try {\r\n    dispatch({ type: GET_CHAT_GROUPS_LOAD });\r\n\r\n    await axios\r\n      .get('/api/v1/chat_group/')\r\n      .then(response => {\r\n        dispatch({\r\n          type: GET_CHAT_GROUPS_SUCCESS,\r\n          payload: response.data\r\n        });\r\n      })\r\n  } catch (error) {\r\n    // toastOnError(error);\r\n    dispatch({\r\n      type: GET_CHAT_GROUPS_ERROR,\r\n      message: error\r\n    })\r\n  }\r\n};\r\n\r\nexport const getChatGroup = (id) => async dispatch => {\r\n  await axios\r\n    .get(`/api/v1/chat_group/${id}/`)\r\n    .then(response => {\r\n      // console.log(response.data)\r\n      dispatch({\r\n        type: GET_CHAT_GROUP,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\nexport const getMessages = (groupId) => async dispatch => {\r\n  await axios\r\n    .get(`/api/v1/chat_message/?chat_group=${groupId}`)\r\n    .then(response => {\r\n      dispatch({\r\n        type: GET_CHAT_MESSAGES,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n\r\nexport const postMessages = (messages) => async dispatch => {\r\n  await axios\r\n    .post('/api/v1/chat_message/', messages )\r\n    .then(response => {\r\n      dispatch({\r\n        type: POST_CHAT_MESSAGES,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\nexport const removeGetMessages = () => dispatch => {\r\n      dispatch({\r\n        type: REMOVE_GET_CHAT_MESSAGES,\r\n      });\r\n};\r\n\r\n// export const getMessages = (roomId) => async dispatch => {\r\n//   await axios\r\n//     .post(`${SOCKET_SERVER_URL}/rooms/${roomId}/messages`)\r\n//     .then(response => {\r\n//       dispatch({\r\n//         type: GET_MESSAGES,\r\n//         payload: response.data\r\n//       });\r\n//     })\r\n//     .catch(error => {\r\n//       toastOnError(error);\r\n//     });\r\n// };\r\n\r\n// new functions\r\n// export const deleteNote = id => dispatch => {\r\n//   axios\r\n//     .delete(`/api/v1/notes/${id}/`)\r\n//     .then(response => {\r\n//       dispatch({\r\n//         type: DELETE_NOTE,\r\n//         payload: id\r\n//       });\r\n//     })\r\n//     .catch(error => {\r\n//       toastOnError(error);\r\n//     });\r\n// };\r\n\r\n// export const updateNote = (id, note) => dispatch => {\r\n//   axios\r\n//     .patch(`/api/v1/notes/${id}/`, note)\r\n//     .then(response => {\r\n//       dispatch({\r\n//         type: UPDATE_NOTE,\r\n//         payload: response.data\r\n//       });\r\n//     })\r\n//     .catch(error => {\r\n//       toastOnError(error);\r\n//     });\r\n// };\r\n\r\n\r\n\r\nexport const getAllUserChat = (roomId) => async dispatch => {\r\n  await axios\r\n  // const result = response.data.users;\r\n    .get(`${SOCKET_SERVER_URL}/rooms/${roomId}/users`)\r\n    .then(response => {\r\n      // console.log(response.data)\r\n      dispatch({\r\n        type: GET_ALL_USER_CHAT,\r\n        payload: response.data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      toastOnError(error);\r\n    });\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Avatar from \"./Avatar\";\r\nimport { getChatGroup, getMessages } from \"../ChatActions\";\r\n\r\nfunction ChatListGroups(props) {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const {isOnline, active, chat_group, image, animationDelay, id } = props;\r\n\r\n  const selectChat = (e) => {\r\n    for (\r\n      let index = 0;\r\n      index < e.currentTarget.parentNode.children.length;\r\n      index++\r\n    ) { e.currentTarget.parentNode.children[index].classList.remove(\"active\"); }\r\n    e.currentTarget.classList.add(\"active\");\r\n    if(id){\r\n      dispatch(getMessages(id));\r\n      dispatch(getChatGroup(id));\r\n    }\r\n    \r\n  };\r\n  \r\n  return (\r\n    <div\r\n      style={{ animationDelay: `0.${animationDelay}s` }}\r\n      onClick={selectChat}\r\n      className={`chatlist__item ${active ? active : \"\" } `}\r\n      key={id}\r\n    >\r\n      <Avatar\r\n        image={ image ? image : \"http://placehold.it/80x80\" }\r\n        isOnline={isOnline}\r\n        key={id}\r\n      />\r\n      <div className=\"userMeta\">\r\n        <p>{chat_group}</p>\r\n        <span className=\"activeTime\">32 mins ago</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatListGroups;","import React, { useEffect, useState, useRef } from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport \"./chatList.css\";\r\nimport ChatListItems from \"./ChatListItems\";\r\nimport ChatListGroups from './ChatListGroups';\r\nimport useChat from \"../useChat\"\r\n\r\nfunction ChatList(props) {\r\n\r\n  const auth = useSelector(state => state.auth);\r\n  const {chatGroups, dataUser, success } = props;\r\n\r\n  const image = \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTA78Na63ws7B7EAWYgTr9BxhX_Z8oLa1nvOA&usqp=CAU\"\r\n// console.log(auth.user.id)\r\n// console.log(chatGroups)\r\n  const ChatListGroup = chatGroups?.filter(cg => cg.user_group.includes(auth.user.id)).map((item, index) => {\r\n  // const ChatListGroup = chatGroups?.map((item, index) => {\r\n    return (\r\n      <ChatListGroups\r\n        // handleChatGroups = {handleChatGroup} \r\n        // user={user}\r\n        id={item.id}\r\n        chat_group={item.chat_group}\r\n        key={index}\r\n        animationDelay={index + 1}\r\n        active={item.active ? \"active\" : \"\"}\r\n        isOnline={item.isOnline ? \"active\" : \"\"}\r\n        image={image}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"main__chatlist\">\r\n      <button className=\"btn\">\r\n        <i className=\"fa fa-plus\"></i>\r\n        <span>Tạo nhóm mới</span>\r\n      </button>\r\n      <div className=\"chatlist__heading\">\r\n        <h5>Chọn nhóm liên hệ</h5>\r\n        <button className=\"btn-nobg\">\r\n          <i className=\"fa fa-ellipsis-h\"></i>\r\n        </button>\r\n      </div>\r\n      <div className=\"chatList__search\">\r\n        <div className=\"search_wrap\">\r\n          <input type=\"text\" placeholder=\"Search Here\" required />\r\n          <button className=\"search-btn\">\r\n            <i className=\"fa fa-search\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"chatlist__items\">\r\n        {ChatListGroup}\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatList","import React from \"react\";\r\nimport UserAvatar from \"../UserAvatar/UserAvatar\";\r\n\r\nimport \"./ChatMessage.css\";\r\n\r\nconst ChatMessage = ({ message, userMe }) => {\r\n  // console.log(message)\r\n  return (\r\n    <div\r\n      className={`message-item ${\r\n        // message.ownedByCurrentUser || userMe.user.id===message.created_by ? \"my-message\" : \"received-message\"\r\n        userMe.user.id===message?.created_by ? \"my-message\" : \"received-message\"\r\n      }`}\r\n    >\r\n      {!userMe.user.id===message?.created_by && (\r\n        <div className=\"message-avatar-container\">\r\n          {/* <UserAvatar user={message?.user}></UserAvatar> */}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"message-body-container\">\r\n        {!userMe.user.id===message?.created_by && (\r\n          // <div className=\"message-user-name\">{message.created_by}</div>\r\n          <div className=\"message-user-name\">{message?.created_by}</div>\r\n        )}\r\n        <div className=\"message-body\">{message?.message}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatMessage;\r\n","import React from \"react\";\r\nimport \"./NewMessageForm.css\";\r\n\r\nconst NewMessageForm = ({\r\n  newMessage,\r\n  handleNewMessageChange,\r\n  handleStartTyping,\r\n  handleStopTyping,\r\n  handleSendMessage,\r\n}) => {\r\n  return (\r\n    <form className=\"new-message-form\" >\r\n      <input\r\n        type=\"text\"\r\n        value={newMessage}\r\n        onChange={handleNewMessageChange}\r\n        placeholder=\"Nhập nội dung trao đổi...\"\r\n        className=\"new-message-input-field\"\r\n        onKeyPress={handleStartTyping}\r\n        onKeyUp={handleStopTyping}\r\n      />\r\n      <button\r\n        type=\"submit\"\r\n        onClick={handleSendMessage}\r\n        className=\"send-message-button\"\r\n      >\r\n        <i className=\"fa fa-paper-plane\">&nbsp; Gửi đi</i>\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default NewMessageForm;\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Avatar from \"./Avatar\";\r\nimport \"./chatList.css\";\r\n\r\nfunction ChatListUsersGroup(props) {\r\n  const { isOnline, active, fullname, image, animationDelay, id } = props;\r\n  const selectChat = (e) => {\r\n    for (\r\n      let index = 0;\r\n      index < e.currentTarget.parentNode.children.length;\r\n      index++\r\n    ) {\r\n      e.currentTarget.parentNode.children[index].classList.remove(\"active\");\r\n    }\r\n    e.currentTarget.classList.add(\"active\");\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{ animationDelay: `0.${animationDelay}s` }}\r\n      onClick={selectChat}\r\n      className={`chatlist__item ${active ? active : \"\"\r\n        } `}\r\n      key={id}\r\n    >\r\n      <Avatar\r\n        image={\r\n          image ? image : \"http://placehold.it/80x80\"\r\n        }\r\n        isOnline={isOnline}\r\n      />\r\n\r\n      <div className=\"userMeta\">\r\n        <p>{fullname}</p>\r\n        <span className=\"activeTime\">32 mins ago</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatListUsersGroup;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport ChatListUsersGroup from './ChatListUsersGroup';\r\n\r\nfunction rand() {\r\n  return Math.round(Math.random() * 20) - 10;\r\n}\r\n\r\nfunction getModalStyle() {\r\n  const top = 50 + rand();\r\n  const left = 50 + rand();\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 400,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n    overflow:\"scoll\",\r\n  },\r\n}));\r\n\r\nexport default function ChatUserGroupModal(props) {\r\n  const { chat_group, user_group, dataUser } = props;\r\n  const classes = useStyles();\r\n  // getModalStyle is not a pure function, we roll the style only on the first render\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const image = \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTA78Na63ws7B7EAWYgTr9BxhX_Z8oLa1nvOA&usqp=CAU\"\r\n\r\n  const ChatListItem = dataUser.filter(items => user_group.includes(items.id)).map((item, index) => {\r\n    return (\r\n      <ChatListUsersGroup\r\n        id={item.id}\r\n        fullname={item.last_name + \" \" + item.first_name}\r\n        key={item.id}\r\n        animationDelay={index + 1}\r\n        active={item.active ? \"active\" : \"\"}\r\n        isOnline={item.isOnline ? \"active\" : \"\"}\r\n        image={image}\r\n      />\r\n    )\r\n  })\r\n\r\n  const body = (\r\n      <div style={modalStyle} className={classes.paper}>\r\n        <h2 id=\"simple-modal-title\">\r\n          {user_group !== null && <h4> &nbsp;&nbsp; <i className=\"fa fa-users\" style={{ color: \"green\" }}>&nbsp;Thành viên {chat_group}: ({user_group.length})</i> </h4>}\r\n        </h2>\r\n          {ChatListItem}\r\n      </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <button type=\"button\" onClick={handleOpen}>\r\n        <i className=\"fa fa-users\" style={{ color: \"green\" }}>&nbsp;Thành viên ({user_group.length})</i>\r\n      </button>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport AvatarGroup from '@material-ui/lab/AvatarGroup';\r\n\r\nimport { getChatGroup } from '../ChatActions'\r\nimport ChatUserGroupModal from './ChatUserGroupModal'\r\n\r\nexport default function ChatAvatarGroup(props) {\r\n    const { id, user_group, chat_group } = props\r\n    const dataUser = useSelector(state => state.users.data)\r\n    const dispatch = useDispatch()\r\n    const image = \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTA78Na63ws7B7EAWYgTr9BxhX_Z8oLa1nvOA&usqp=CAU\"\r\n\r\n    const ListUserGroup = dataUser.filter(items => user_group.includes(items.id)).map((item, index) => {\r\n    // const ListUserGroup = dataUser.filter(items => items.id ===2).map((item, index) => {\r\n        return (\r\n            <Avatar alt=\"Remy Sharp\" src={image} key={index} id={item.id} /> \r\n        )\r\n    })\r\n    const handleUsers = () => {\r\n        dispatch(getChatGroup(id))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <AvatarGroup max={4}>\r\n                {ListUserGroup}\r\n            </AvatarGroup>\r\n            <div className=\"userMeta\" style={{ cursor: \"pointer\" }} onClick={handleUsers}>\r\n                <p>{chat_group}</p>\r\n                {/* <i className=\"fa fa-user\"  >&nbsp;&nbsp;{user_group.length}&nbsp; Thành viên</i> */}\r\n                <ChatUserGroupModal dataUser={dataUser} chat_group={chat_group} user_group={user_group} />\r\n            </div>\r\n        </>\r\n    );\r\n}","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport \"../chatContent/chatContent.css\";\r\nimport useChat from \"../useChat\";\r\nimport ChatMessage from \"../ChatMessage/ChatMessage\";\r\nimport useTyping from \"../useTyping\";\r\nimport NewMessageForm from \"../NewMessageForm/NewMessageForm\";\r\nimport TypingMessage from \"../TypingMessage/TypingMessage\";\r\nimport Users from \"../Users/Users\";\r\nimport UserAvatar from \"../UserAvatar/UserAvatar\";\r\nimport ChatAvatarGroup from '../chatList/ChatAvatarGroup'\r\nimport Avatar from \"../chatList/Avatar\";\r\nimport { postMessages, getMessages } from '../ChatActions'\r\n\r\nimport { io } from \"socket.io-client\";\r\nconst SOCKET_SERVER_URL = \"http://localhost:4000\";\r\n\r\nconst ChatRoom = (props) => {\r\n  // const messagesEndRef = useRef(null);\r\n  const scrollRef = useRef();\r\n  const socket = useRef();\r\n  const dispatch = useDispatch()\r\n  const messageGroup = useSelector(state => state.chatgroups.messages);\r\n  const chatGroupMe = useSelector(state => state.chatgroups.chatgroup);\r\n  const userMe = useSelector(state => state.auth)\r\n  \r\n  // const [chatGroupMe, setChatGroupMe] = useState();\r\n  const [currentChat, setCurrentChat] = useState();\r\n  const [messages, setMessages] = useState([])\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n  const [arrivalMessage, setArrivalMessage] = useState(null);\r\n  const [messageInput, setMessageInput] = useState();\r\n  \r\n  \r\n  console.log(messages)\r\n  // const {\r\n  //   typingUsers,\r\n  //   sendMessage,\r\n  //   startTypingMessage,\r\n  //   stopTypingMessage,\r\n  // } = useChat(chatGroupMe.id);\r\n\r\n  // const { isTyping, startTyping, stopTyping, cancelTyping } = useTyping();\r\n  console.log(chatGroupMe.id)\r\n  useEffect(() => {\r\n    setMessages(messageGroup)\r\n  },[])\r\n  // console.log(messages)\r\n\r\n  // useEffect(() => {\r\n  //   setChatGroupMe(chatGroup)\r\n  // }, [chatGroup])\r\n\r\n  const handleNewMessageChange = (event) => {\r\n    setNewMessage(event.target.value);\r\n    console.log(newMessage)\r\n  };\r\n\r\n  const handleSendMessage = (event) => {\r\n    event.preventDefault();\r\n    // cancelTyping();\r\n    const msg = {\r\n      \"message\": newMessage,\r\n      \"files\": null,\r\n      \"chat_group\": chatGroupMe.id,\r\n      \"created_by\": userMe.user.id\r\n    }\r\n    // sendMessage(newMessage);\r\n    try {\r\n      setMessages([...messages, msg])\r\n      dispatch(postMessages(msg))\r\n      setNewMessage(\"\");\r\n    }catch(err){\r\n      console.log(err)\r\n    }\r\n  };\r\n\r\n  // console.log(newMessage)\r\n\r\n  // useEffect(() => {\r\n  //   if (isTyping) startTypingMessage();\r\n  //   else stopTypingMessage();\r\n  // }, [isTyping]);\r\n\r\n\r\n  // const scrollToBottom = () => {\r\n  //   messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //   if (chatGroup?.id && chatGroup?.id !== \"\") {\r\n  //     window.addEventListener(\"keydown\", (e) => {\r\n  //       if (e.keyCode == 13) {\r\n  //       const messageForm = {\r\n  //         \"id\":101,\r\n  //         \"message\": newMessage,\r\n  //         \"files\": null,\r\n  //         \"chat_group\": chatGroup.id,\r\n  //         \"created_by\": userMe.user.id\r\n  //       }\r\n\r\n  //       setMessageInput(messageForm)\r\n  //     }\r\n  //       // if (e.keyCode == 13) {\r\n  //       //   if (msg != \"\") {\r\n  //       //     chatItms.push({\r\n  //       //       id: 100,\r\n  //       //       type: \"\",\r\n  //       //       msg: msg,\r\n  //       //       image: \"https://pbs.twimg.com/profile_images/1116431270697766912/-NfnQHvh_400x400.jpg\",\r\n  //       //     });\r\n  //       //     setChat([...chatItms]);\r\n  //       //     scrollToBottom();\r\n  //       //     setMsg(\"\");\r\n  //       //   }\r\n  //       // }\r\n  //     });\r\n  //     scrollToBottom();\r\n  //   }\r\n  // });\r\n  \r\n  // useEffect(() => {\r\n    \r\n  // }, [chatGroupMe, messages])\r\n\r\n  useEffect(() => {\r\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    // scrollToBottom();\r\n  }, [messages]);\r\n\r\n  return (\r\n    <>\r\n      {chatGroupMe?.chat_group && chatGroupMe?.chat_group !== \"\" && messages? (\r\n        <div className=\"main__chatcontent\" >\r\n          <div className=\"content__header\">\r\n            <div className=\"blocks\">\r\n              <div className=\"current-chatting-user\">\r\n                <ChatAvatarGroup chat_group={chatGroupMe.chat_group} user_group={chatGroupMe.user_group} id={chatGroupMe.id} />\r\n                {/* <Avatar\r\n                  isOnline=\"active\"\r\n                  image=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTA78Na63ws7B7EAWYgTr9BxhX_Z8oLa1nvOA&usqp=CAU\"\r\n                />\r\n                <p>Tim Hover</p> */}\r\n                {/* <Users users={users}></Users> */}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"blocks\">\r\n              <div className=\"settings\">\r\n                <button className=\"btn-nobg\">\r\n                  <i className=\"fa fa-cog\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"content__body\">\r\n\r\n            <div className=\"messages-container\" >\r\n              <ol className=\"messages-list\">\r\n                {messages.map((message, i) => (\r\n                  <li key={i} ref={scrollRef}>\r\n                    <ChatMessage message={message} userMe={userMe}></ChatMessage>\r\n                  </li>\r\n                ))}\r\n                {/* {typingUsers.map((user, i) => (\r\n                  // <li key={messages.length + i}>\r\n                  <li>\r\n                    <TypingMessage user={user}></TypingMessage>\r\n                  </li>\r\n                ))} */}\r\n              </ol>\r\n            </div>\r\n            {/* <div ref={messagesEndRef} /> */}\r\n\r\n          </div>\r\n          <div className=\"content__footer\" style={{ width: '50%', position: 'fixed', bottom: \"80px\", marginLeft: \"0px\" }}>\r\n            <NewMessageForm\r\n              newMessage={newMessage}\r\n              handleNewMessageChange={handleNewMessageChange}\r\n              // handleStartTyping={startTyping}\r\n              // handleStopTyping={stopTyping}\r\n              handleSendMessage={handleSendMessage}\r\n            ></NewMessageForm>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"main__chatcontent\">\r\n          <div className=\"content__header\">\r\n            <div className=\"blocks\">\r\n              <div className=\"current-chatting-user\">\r\n                <h4>Chào mừng bạn đến với phần mềm trao đổi trực tuyến ngành CNTT Quân khu 7 </h4>\r\n              </div>\r\n            </div>\r\n            <div className=\"blocks\">\r\n              <div className=\"settings\">\r\n                <button className=\"btn-nobg\">\r\n                  <i className=\"fa fa-cog\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"content__body\">\r\n\r\n          </div>\r\n        </div>\r\n      )\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChatRoom;\r\n","import React, { Component } from \"react\";\r\nimport \"./userProfile.css\";\r\n\r\nexport default class UserProfile extends Component {\r\n  toggleInfo = (e) => {\r\n    e.target.parentNode.classList.toggle(\"open\");\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"main__userprofile\">\r\n        <div className=\"profile__card user__profile__image\">\r\n          <div className=\"profile__image\">\r\n            <img src=\"https://pbs.twimg.com/profile_images/1116431270697766912/-NfnQHvh_400x400.jpg\" />\r\n          </div>\r\n          <h4>Fernando Faucho</h4>\r\n          <p>CEO & Founder at Highly Inc</p>\r\n        </div>\r\n        <div className=\"profile__card\">\r\n          <div className=\"card__header\" onClick={this.toggleInfo}>\r\n            <h4>Information</h4>\r\n            <i className=\"fa fa-angle-down\"></i>\r\n          </div>\r\n          <div className=\"card__content\">\r\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla\r\n            ultrices urna a imperdiet egestas. Donec in magna quis ligula\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport \"./chatBody.css\";\r\nimport ChatList from \"../chatList/ChatList\";\r\nimport ChatRoom from \"../ChatRoom/ChatRoom\";\r\nimport UserProfile from \"../userProfile/UserProfile\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { getChatGroups, getMessages } from \"../ChatActions\";\r\nimport { getUsers } from '../../users/UserActions';\r\nimport ChatListUsers from \"../chatList/ChatListUsers\";\r\n\r\nfunction ChatBody() {\r\n  const dispatch = useDispatch();\r\n  const auth = useSelector(state => state.auth.user)\r\n\r\n  const [idGroup, setIdGroup] = useState()\r\n  const [isStatus, setIsStatus] = useState(false)\r\n  const [chats, setChats] = useState([])\r\n  const [chatGroups, setChatGroups] = useState([])\r\n\r\n  const chat_Groups = useSelector(state => state.chatgroups.chatgroups);\r\n  const success = useSelector(state => state.chatgroups.success);\r\n  const dataUser = useSelector(state => state.users.data);\r\n  // const groupUsers = useSelector(state => state.chatgroups.chatgroup)\r\n\r\n  useEffect(() => {\r\n    dispatch(getChatGroups())\r\n    dispatch(getUsers())\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"main__chatbody\">\r\n      <ChatList chatGroups={chat_Groups} dataUser={dataUser} success={success} />\r\n      <ChatRoom chatGroups={chat_Groups}/>\r\n      <UserProfile />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(ChatBody)\r\n","import React from 'react'\r\nimport './ChatUi.css'\r\nimport ChatBody from './chatBody/ChatBody'\r\nimport Header from \"../common/Header\"\r\nimport Footer from \"../common/Footer\"\r\nimport Menubar from \"../common/Menubar\"\r\n\r\nfunction ChatUi() {\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n                <Menubar />\r\n                <div className=\"main-content\">\r\n                    <div className=\"main-content-inner\" >\r\n                        <div className=\"page-content\">\r\n                            <div className=\"row\">\r\n                                <div className=\"__main\">\r\n                                    <ChatBody />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatUi\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n// import CalendarListDetail from './CalendarListDetail';\r\nimport moment from 'moment';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n        },\r\n    },\r\n    small: {\r\n        width: theme.spacing(3),\r\n        height: theme.spacing(3),\r\n    },\r\n    large: {\r\n        width: theme.spacing(10),\r\n        height: theme.spacing(10),\r\n    },\r\n}));\r\n\r\n\r\n\r\nfunction UserListItem(props) {\r\n    const classes = useStyles();\r\n    const { index, pageVisited, user, handleDelUser, handleEditUser } = props\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleEdit = (id) => {\r\n        handleEditUser(id)\r\n    }\r\n    const handleDel = (id, user) => {\r\n        handleDelUser(id, user)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <tr key={index}>\r\n                <td style={{ textAlign: \"center\" }}>\r\n                    {index + pageVisited + 1}\r\n                </td>\r\n                <td style={{ textAlign: \"center\" }}>\r\n                    <div className={classes.root}>\r\n                        {/* <Avatar alt={user.last_name} src={user.image} className={classes.small} style={{margin:\"0px\"}} /> */}\r\n                        <Avatar alt={user.last_name} src={`http://localhost:8000${user.image}`} style={{margin:\"-6px\", }} />\r\n                        {/* <Avatar alt=\"Khac Hieu\" src={user.image} className={classes.large} /> */}\r\n                    </div>\r\n                </td>\r\n                <td >\r\n                    <span >{user.first_name}</span>\r\n                </td>\r\n                <td >\r\n                    <span >{user.last_name}</span>\r\n                </td>\r\n                <td style={{ textAlign: \"center\" }} >\r\n                    {(() => {\r\n                        switch (String(user.groups)) {\r\n                            case '1': return <span>Quản trị hệ thống</span>;\r\n                            case '2': return <span>Chủ trì phòng họp</span>;\r\n                            case '3': return <span>Thành viên</span>;\r\n                            default: return <span>Thành viên</span>;\r\n                        }\r\n                    })()}\r\n\r\n                </td>\r\n                <td style={{ textAlign: \"center\" }}>\r\n                    {user.phone &&\r\n                        <span>{user.phone} </span>\r\n                    }\r\n                </td>\r\n                <td style={{ textAlign: \"center\" }}>\r\n                    {user.date_joined &&\r\n                        <span>{moment(user.date_joined).format(\"hh:mm A - DD/MM/YYYY\").toString()} </span>\r\n                    }\r\n                </td>\r\n                <td style={{ textAlign: \"center\", color: \"green\" }}>\r\n                    {(() => {\r\n                        switch (user.is_active) {\r\n                            case true: return <span>Đã kích hoạt</span>;\r\n                            default: return <span>Chưa kích hoạt</span>;\r\n                        }\r\n                    })()}\r\n                    <span>{user.is_active}</span>\r\n                </td>\r\n                <td>\r\n                    <div className=\"hidden-sm hidden-xs \">\r\n                        <button className='btn-xs btn-success' >\r\n                            <i className='ace-icon bigger-120 fa fa-eye' title=\"Xem chi tiết\" />\r\n                        </button>\r\n                        <button className='btn-xs btn-btn-info' onClick={() => handleEdit(user.id)}>\r\n                            {/* <Link to={`/user_edit/${user.id}`}> */}\r\n                            <i className=\"ace-icon fa fa-pencil bigger-120\" />\r\n                            {/* </Link> */}\r\n                        </button>\r\n                        <button className=\"btn-xs btn-danger\">\r\n                            <i className=\"ace-icon fa fa-trash-o bigger-120\" onClick={() => handleDel(user.id, user.user)} />\r\n                        </button>\r\n                        {/* <button className=\"btn-xs btn-warning\">\r\n                            <i className=\"ace-icon fa fa-flag bigger-120\" />\r\n                        </button> */}\r\n                    </div>\r\n\r\n                </td>\r\n            </tr>\r\n            {/* {Id ? <CalendarListDetail  calendar={props.calendar} idSelected={idSelected} isActive={isActive} isActive2={isActive2} pageVisited={pageVisited} index={index} handleEditCalendar={handleEditCalendar}/> : \"\"} */}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserListItem\r\n\r\n","import React from 'react'\r\nimport ReactPaginate from \"react-paginate\"\r\n\r\nconst UserPagination = (props) => {\r\n    const { pageCount, onPageChange, counts, pageVisited } = props\r\n    // console.log(pageCount)\r\n    // console.log(onPageChange)\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-xs-6\">\r\n                <div className=\"dataTables_info\" id=\"dynamic-table_info\" role=\"status\" aria-live=\"polite\">Hiển thị từ { pageVisited + 1} đến { (pageVisited + 10) < counts ? pageVisited + 10 : counts } trong tổng {counts} phòng họp</div>\r\n            </div>\r\n            <div className=\"col-xs-6\">\r\n\r\n                <div className=\"dataTables_paginate paging_simple_numbers\" id=\"dynamic-table_paginate\">\r\n                    <ReactPaginate\r\n                        previousLabel={\"Về trang trước\"}\r\n                        nextLabel={\"Trang tiếp theo\"}\r\n                        containerClassName={\"pagination\"}\r\n                        previousClassName={\"paginate_button previous\"}\r\n                        nextLinkClassName={\"paginate_button next\"}\r\n                        disabledClassName={\"disabled\"}\r\n                        activeClassName={\"active\"}\r\n                        pageCount={pageCount}\r\n                        onPageChange={onPageChange}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserPagination\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\"; // new import\r\nimport { Col, Form, FormControl, } from \"react-bootstrap\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Select from \"react-select\";\r\nimport { getProfile, getProfiles, updateProfile } from \"./UserActions\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  small: {\r\n    width: theme.spacing(3),\r\n    height: theme.spacing(3),\r\n  },\r\n  large: {\r\n    width: theme.spacing(10),\r\n    height: theme.spacing(10),\r\n  },\r\n}));\r\n\r\nfunction ProfileUpdate(props) {\r\n  const classes = useStyles();\r\n  const profile = useSelector(state => state.profile.data)\r\n  console.log(profile)\r\n  console.log(props.id)\r\n  const [first_name, setFirst_name] = useState()\r\n  const [last_name, setLast_name] = useState()\r\n  const [email, setEmail] = useState()\r\n  const [groups, setGroups] = useState()\r\n  const [unit_id, setUnit_id] = useState()\r\n  const [phone, setPhone] = useState()\r\n  const [city, setCity] = useState()\r\n  const [sort_id, setSort_id] = useState()\r\n  const [user, setUser] = useState()\r\n  const src = \"http://127.0.0.1:8000/media/profiles/profile-pic.jpg\"\r\n  const [image, setImage] = useState(src)\r\n  const [imagePreviewUrl, setImagePreviewUrl] = useState(null)\r\n  const dispatch = useDispatch();\r\n\r\n  const groupsFix = [\r\n    { value: 1, label: \"Quản trị hệ thống\" },\r\n    { value: 2, label: \"Chủ trì phòng họp\" },\r\n    { value: 3, label: \"Thành viên\" }\r\n  ]\r\n\r\n  const handleChangePro = (groups) => {\r\n    setGroups(groups)\r\n  }\r\n\r\n  useEffect(() => {\r\n    setFirst_name(profile.first_name ? profile.first_name : \"\")\r\n    setLast_name(profile.last_name ? profile.last_name : \"\")\r\n    setEmail(profile.email ? profile.email : \"\")\r\n    setGroups(profile.groups ? profile.groups : \"\")\r\n    setUnit_id(profile.unit_id ? profile.unit_id : 1)\r\n    setPhone(profile.phone ? profile.phone : \"\")\r\n    setSort_id(profile.sort_id ? profile.sort_id : \"\")\r\n    setImage(profile.image ? profile.image : src)\r\n    setUser(profile.user)\r\n  }, [profile.id])\r\n\r\n  // useEffect(() => {\r\n  //   dispatch(getProfiles())\r\n  // }, [])\r\n\r\n\r\n  const onUpdateClick = () => {\r\n    let form_data = new FormData();\r\n    if(image.name){\r\n      form_data.append('image', image, image.name)\r\n    }\r\n    form_data.append('id', props.id)\r\n    form_data.append('first_name', first_name)\r\n    form_data.append('last_name', last_name)\r\n    form_data.append('groups', groups.value?groups.value: groups)\r\n    form_data.append('unit_id', unit_id)\r\n    form_data.append('phone', phone)\r\n    form_data.append('sort_id', sort_id)\r\n    form_data.append('user', user)\r\n    dispatch(updateProfile(props.id, form_data)); // <-- signup new user request\r\n    props.setOpen2(false);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    props.setOpen2(false);\r\n  }\r\n\r\n  const handleChangeImage = (e) =>{\r\n    setImage(e.target.files[0])\r\n    let reader = new FileReader();\r\n\r\n    reader.onloadend = () => {\r\n     setImagePreviewUrl(reader.result)\r\n    }\r\n    reader.readAsDataURL(e.target.files[0])\r\n  }\r\n\r\n  console.log(image)\r\n\r\n  return (\r\n    <Col md=\"12\">\r\n      <Form>\r\n        <Form.Group controlId=\"usernameId\">\r\n          <Form.Label>Họ và tên</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"first_name\"\r\n            placeholder=\"Nhập Tên thường dùng\"\r\n            value={first_name}\r\n            onChange={e => setFirst_name(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"usernameId\">\r\n          <Form.Label>Tên hiển thị</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"last_name\"\r\n            placeholder=\"Nhập Họ và tên lót\"\r\n            value={last_name}\r\n            onChange={e => setLast_name(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"usernameId\">\r\n          <Form.Label>Số điện thoại</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"phone\"\r\n            placeholder=\"Nhập Số điện thoại\"\r\n            value={phone}\r\n            onChange={e => setPhone(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"usernameId\">\r\n          <Form.Label>Chọn Vai trò</Form.Label>\r\n          <Select\r\n            value={groups}\r\n            onChange={handleChangePro}\r\n            options={groupsFix}\r\n            placeholder={\"Chọn Vai trò\"}\r\n            defaultValue={groupsFix[2]}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"usernameId\">\r\n          <Form.Label>Đơn vị</Form.Label>\r\n          <Select\r\n            value={unit_id}\r\n            onChange={handleChangePro}\r\n            options={groupsFix}\r\n            placeholder={\"Chọn Đơn vị\"}\r\n          />\r\n        </Form.Group>\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-sm-9\" style={{marginLeft:\"-12px\"}}>\r\n            <Form.Group controlId=\"usernameId\">\r\n              <Form.Label>Chọn Vai trò</Form.Label>\r\n              <input\r\n                className='form-control'\r\n                type='file'\r\n                onChange={handleChangeImage}\r\n              // accept=\"image/png, image/jpeg\" \r\n              />\r\n            </Form.Group>\r\n          </div>\r\n          <div className=\"col-xs-12 col-sm-3\">\r\n          <div className={classes.root}>\r\n            {/* <Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" className={classes.small} />\r\n            <Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" /> */}\r\n            <Avatar alt=\"Khac Hieu\" src={imagePreviewUrl?imagePreviewUrl:image} className={classes.large} />\r\n          </div>\r\n          </div>\r\n          \r\n\r\n        </div>\r\n\r\n        <Form.Group controlId=\"usernameId\">\r\n          <Form.Label>Thứ tự hiển thị</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"sort_id\"\r\n            placeholder=\"Nhập Địa chỉ Mail\"\r\n            value={sort_id}\r\n            onChange={e => setSort_id(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n\r\n      </Form>\r\n      <div style={{ backgroundColor: \"#EFF3F8\", fontSize: \"20px\", textAlign: \"center\", height: \"50px\", marginTop: \"6px\" }}>\r\n        <button type=\"submit\" className=\"btn-sm btn-success\" onClick={onUpdateClick} style={{ marginTop: \"6px\" }}>\r\n          <i className=\"ace-icon fa fa-plus icon-on-right bigger-110\" />&nbsp;\r\n          Cập nhật\r\n        </button>\r\n        <button type=\"submit\" className=\"btn-sm \" onClick={handleClose} style={{ marginTop: \"6px\" }}>\r\n          <i className=\"ace-icon fa fa-close icon-on-right bigger-110\" />&nbsp;\r\n          Đóng\r\n        </button>\r\n      </div>\r\n\r\n    </Col>\r\n  );\r\n}\r\nexport default withRouter(ProfileUpdate)","import React from 'react'\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\n\r\nfunction Recursive(props) {\r\n\r\n    const {item, children} = props\r\n    const uId=item.id\r\n    const Test =(id) =>{\r\n        \r\n        \r\n    }\r\n\r\n\r\n    let childitems = null;\r\n    if (children) {\r\n        childitems = children.map((childitem, index) => {\r\n            return (\r\n                <Recursive item={childitem} children={childitem.children} key={index} />\r\n            )\r\n        })\r\n    }\r\n    return (\r\n        <li key={uId} style={{cursor: 'pointer'}}>\r\n            \r\n            <NavLink to={`/user-create/${uId}/`} activeStyle={{color:\"green\"}}>{item.unit_name}</NavLink>\r\n            {childitems ? <ul >{childitems}</ul> : null}\r\n        </li>\r\n\r\n    )\r\n}\r\n\r\nexport default withRouter(Recursive)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom'\r\nimport { withRouter, useLocation   } from \"react-router-dom\";\r\n\r\nimport { getUsers, getProfiles, getProfile, getUnits, deleteUser, getProfileUnit, deleteProfile } from '../users/UserActions';\r\nimport UserListItem from './UserListItem'\r\nimport UserPagination from './UserPagination';\r\nimport UserAdd from './UserAdd';\r\nimport ProfileUpdate from './ProfileUpdate';\r\nimport UnitsList from './UnitsList';\r\nimport Recursive from './Recursive';\r\n\r\nimport Modal from '@material-ui/core/Modal';\r\n\r\nfunction UserList(props) {\r\n    const location  = useLocation ();\r\n    // const { handleUpdate } = props\r\n    const [userSelected, setUserSelected] = useState([])\r\n    const [isSelected, setIsSelected] = useState(false)\r\n    const [idSelected, setIdSelected] = useState()\r\n    const [open, setOpen] = useState(false);\r\n    const [open2, setOpen2] = useState(false);\r\n    const [dataNew, setDataNew] = useState();\r\n    const [idUser, setIdUser] = useState(0);\r\n    const [idPro, setIdPro] = useState(1);\r\n    const [unitId, setUnitId] = useState(1);\r\n    \r\n    const data = useSelector(state => state.users.data);\r\n    const profiles = useSelector(state => state.profiles.data);\r\n    const units = useSelector(state => state.units.data);\r\n    const [proF, setProF] = useState(profiles)\r\n    const pf = profiles.filter((p) => unitId === p.unit_id)\r\n    console.log(location.pathname.split('/')[2])\r\n    console.log(profiles)\r\n    console.log(pf)\r\n    // const dataRoom = dataRooms.filter((item) => item.Id === Id)[0]\r\n    \r\n\r\n    const [pageNumber, setPageNumber] = useState(0);\r\n    const calPerPage = 10\r\n    const pageVisited = pageNumber * calPerPage\r\n\r\n    // data.sort((a, b) => {\r\n    //     if (a.StartTime > b.StartTime) {\r\n    //         return -1;\r\n    //     }\r\n    //     if (a.StartTime < b.StartTime) {\r\n    //         return 1;\r\n    //     }\r\n    //     return 0;\r\n    // });\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        setUnitId(parseInt(location.pathname.split('/')[2]))\r\n    }, [location.pathname.split('/')[2]])\r\n\r\n    useEffect(() => {\r\n        dispatch(getUsers())\r\n        dispatch(getUnits())\r\n    }, [])\r\n    useEffect(() => {\r\n        dispatch(getProfiles(unitId))\r\n    }, [unitId])\r\n\r\n    const handleEdit = (Id, dataUserSelect) => {\r\n        setUserSelected(dataUserSelect.User_room)\r\n        setIdSelected(Id)\r\n        setIsSelected(!isSelected)\r\n    }\r\n\r\n    const handleEditUser = (id) => {\r\n        setOpen2(true)\r\n        let idnew = profiles.find(p => p.id === id).id\r\n        console.log(idnew)\r\n        setIdUser(idnew)\r\n        dispatch(getProfile(id))\r\n    }\r\n\r\n\r\n\r\n    const handleDelUser = (id, user) => {\r\n        const username = data.find(u=>u.id===user).username\r\n        console.log(username)\r\n        dispatch(deleteUser(username))\r\n        dispatch(deleteProfile(id))\r\n    }\r\n\r\n    const pageCount = Math.ceil(profiles?.length / calPerPage)\r\n    const List_User = profiles?.slice(pageVisited, pageVisited + calPerPage)\r\n        .map((user, index) => {\r\n            return (\r\n                <UserListItem setOpen2={setOpen2} handleDelUser={handleDelUser} handleEditUser={handleEditUser} key={index} index={index} user={user} pageVisited={pageVisited} />\r\n            )\r\n        });\r\n\r\n    const changePage = ({ selected }) => {\r\n        setPageNumber(selected)\r\n    }\r\n\r\n    const handleFormAdd = () => {\r\n        setOpen(true)\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    \r\n\r\n    const selectUnit = units.map((item) => {\r\n        return (\r\n            <Recursive item={item} children={item.children} key={item.id} />\r\n        )\r\n\r\n    })\r\n\r\n    return (\r\n        <div className=\"row\" style={{ marginLeft: \"-12px\", marginRight: \"-12px\" }}>\r\n            <div className=\"col-xs-12 col-sm-3\">\r\n                <div className=\"widget-box\" style={{ marginTop: \"0px\" }}>\r\n                    <div className=\"widget-header\">\r\n                        <h5 className=\"widget-title\">Đơn vị</h5>\r\n                    </div>\r\n                    <div className=\"widget-body\">\r\n                        <div className=\"widget-main\" style={{ flex: 1, maxHeight: '80vh', overflowY: 'auto' }}>\r\n\r\n                            <ul>\r\n                                {selectUnit}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={open2 ? \"col-xs-12 col-sm-6\" : \"col-xs-12 col-sm-9\"} >\r\n                <div className=\"control-group\">\r\n                    <div className=\"dataTables_wrapper form-inline no-footer\" style={{ flex: 1, maxHeight: '76vh', overflowY: 'auto' }}>\r\n                        <table id=\"simple-table\" className=\"table  table-bordered table-hover\">\r\n                            <thead>\r\n                                <tr >\r\n                                    <th style={{ textAlign: \"center\" }}>TT</th>\r\n                                    <th style={{ textAlign: \"center\" }}></th>\r\n                                    <th style={{ textAlign: \"center\" }}>Họ và tên </th>\r\n                                    <th style={{ textAlign: \"center\" }}>Tên hiển thị</th>\r\n                                    <th style={{ textAlign: \"center\" }}>Vai trò</th>\r\n                                    <th style={{ textAlign: \"center\" }}>Số điện thoại</th>\r\n                                    <th style={{ textAlign: \"center\" }}>Ngày tạo</th>\r\n                                    <th style={{ textAlign: \"center\" }}>Trạng thái</th>\r\n                                    <th className=\"hidden-480\" style={{ width: \"120px\" }}>\r\n                                        <button className=\"pull-right btn-sm btn-white btn-round\" onClick={handleFormAdd}>\r\n                                            <i className=\"menu-icon fa fa-plus\" />&nbsp;\r\n                                            <span className=\"menu-text\">Thêm mới</span>\r\n                                        </button>\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {List_User}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <div className=\"dataTables_wrapper form-inline no-footer\" >\r\n                    <UserPagination pageCount={pageCount} onPageChange={changePage} counts={data?.length} pageVisited={pageVisited} />\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"simple-modal-title\"\r\n                aria-describedby=\"simple-modal-description\"\r\n            >\r\n                <UserAdd setOpen={setOpen} />\r\n            </Modal>\r\n            {open2 &&\r\n                <div className=\"col-xs-12 col-sm-3\">\r\n                    <div className=\"widget-box\" style={{ marginTop: \"0px\" }}>\r\n                        <div className=\"widget-header\">\r\n                            <h5 className=\"widget-title\">Cập nhật thông tin tài khoản</h5>\r\n                        </div>\r\n                        <div className=\"widget-body\">\r\n                            <div className=\"widget-main\" >\r\n                                <div className=\"row\">\r\n                                    <div style={{ display: 'flex', justifyContent: \"center\" }}>\r\n\r\n                                        <ProfileUpdate id={idUser} setOpen2={setOpen2} />\r\n\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(UserList)\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport Header from \"../common/Header\"\r\nimport Footer from \"../common/Footer\"\r\nimport Menubar from \"../common/Menubar\"\r\nimport UserList from './UserList'\r\n\r\nfunction UserCreate() {\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className=\"main-container ace-save-state\" id=\"main-container\">\r\n                <Menubar />\r\n                <div className=\"main-content\">\r\n                    <div className=\"main-content-inner\" >\r\n                        {/* <CalendarBreadcrumb /> */}\r\n\r\n                        <div className=\"page-content\">\r\n                            <UserList />\r\n                            {/* handleUpdate={handleUpdate} */}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserCreate\r\n","import React from 'react';\r\nimport Root from \"./Root\";\r\nimport { Route, Switch } from 'react-router-dom';\r\n// import Home from \"./components/Home\";\r\nimport Signup from \"./components/signup/Signup\";\r\nimport Login from \"./components/login/Login\"\r\n\r\nimport requireAuth from \"./utils/RequireAuth\";\r\n\r\nimport Dashboard from \"./components/dashboard/Dashboard\"\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport JitsiMeet from \"./components/jitsi/JitsiMeet\";\r\nimport JitsiMeetAdmin from \"./components/jitsi/JitsiMeetAdmin\";\r\nimport JitsiMeetClient from \"./components/jitsi/JitsiMeetClient\";\r\nimport axios from \"axios\";\r\nimport ChatRoom from \"./components/chat/ChatRoom\";\r\nimport Calendar from './components/calendar/Calendar';\r\nimport CalendarAddRoom from './components/calendar/CalendarAddRoom';\r\nimport CalendarEditRoom from './components/calendar/CalendarEditRoom';\r\nimport CalendarMeet from './components/calendar/CalendarMeet';\r\nimport ChatUi from './components/chat_ui/ChatUi';\r\nimport UserCreate from './components/users/UserCreate';\r\n\r\naxios.defaults.baseURL = \"http://127.0.0.1:8000\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <>\r\n      <ToastContainer hideProgressBar={true} newestOnTop={true} />\r\n      <Root>\r\n        {/* <Header /> */}\r\n          {/* <Menubar /> */}\r\n          {/* <div class=\"main-content\">\r\n            <div class=\"main-content-inner\"> */}\r\n              {/* PAGE CONTENT BEGINS */}\r\n              <Switch>\r\n                <Route path='/signup' component={requireAuth(Signup)} />\r\n                <Route path='/login' component={Login} />\r\n                <Route path='/user-create' component={UserCreate} />\r\n                <Route exact path=\"/\" component={requireAuth(Dashboard)} />\r\n                {/* <Route  path=\"/login\" component={Login} /> */}\r\n                {/* <Route path=\"/cntt\" component={requireAuth(ChatRoom)} /> */}\r\n                {/* <Route path=\"/hnth/:Id\" component={requireAuth(JitsiMeet)} /> */}\r\n                <Route path=\"/hnth-admin/:roomId\" component={requireAuth(JitsiMeetAdmin)} />\r\n                <Route path=\"/hnth-client/:roomId\" component={requireAuth(JitsiMeetClient)} />\r\n                <Route path=\"/calendar\" component={requireAuth(Calendar)} />\r\n                <Route path=\"/cal_meet\" component={requireAuth(CalendarMeet)} />\r\n                <Route path=\"/cal_add\" component={requireAuth(CalendarAddRoom)} />\r\n                <Route path=\"/cal_edit/:Id\" component={requireAuth(CalendarEditRoom)} />\r\n                {/* <Route path=\"/chat\" component={requireAuth(ChatUi)} /> */}\r\n                <Route path=\"*\">Link not found!</Route>\r\n              </Switch>\r\n              {/* PAGE CONTENT ENDS */}\r\n            {/* </div>\r\n          </div> */}\r\n        {/* <Footer /> */}\r\n      </Root>\r\n      <ToastContainer />\r\n    </>\r\n  )\r\n}\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n// import \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n// require(\"react-datepicker/dist/react-datepicker.css\");\r\n// require(\"react-datepicker/dist/react-datepicker-cssmodules.min.css\");\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}